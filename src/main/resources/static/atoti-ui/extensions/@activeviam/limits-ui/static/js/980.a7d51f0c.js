(self.webpackChunk_activeviam_limits_ui=self.webpackChunk_activeviam_limits_ui||[]).push([[980],{3200:function(e){var t;t=function(){return function(e,t,r){var n=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter(function(e){return e}))[0];for(var r,n=1;n<t.length;n+=1)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r};r.max=function(){var e=[].slice.call(arguments,0);return n("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return n("isBefore",e)}}},e.exports=t()},4213:function(e,t,r){var n,i,a;i=[],void 0!==(a="function"==typeof(n=function(){"use strict";function t(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,r,o){var s=a.URL||a.webkitURL,l=document.createElement("a");r=r||e.name||"download",l.download=r,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,r,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,a){if(r=r||e.name||"download","string"!=typeof e){var o;navigator.msSaveOrOpenBlob((void 0===(o=a)?o={autoBom:!1}:"object"!=typeof o&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),r)}else if(n(e))t(e,r,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){i(s)})}}:function(e,r,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,f=d.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?n.apply(t,i):n)&&(e.exports=a)},181:(e,t,r)=>{var n=0/0,i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,g=function(){return d.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return n;if(m(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=m(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var u=o.test(e);return u||s.test(e)?l(e.slice(2),u?2:8):a.test(e)?n:+e}e.exports=function(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=n,a=i;return n=i=void 0,u=t,o=e.apply(a,r)}function b(e){var r=e-l,n=e-u;return void 0===l||r>=t||r<0||d&&n>=a}function x(){var e,r,n,i=g();if(b(i))return w(i);s=setTimeout(x,(e=i-l,r=i-u,n=t-e,d?p(n,a-r):n))}function w(e){return(s=void 0,f&&n)?y(e):(n=i=void 0,o)}function C(){var e,r=g(),a=b(r);if(n=arguments,i=this,l=r,a){if(void 0===s)return u=e=l,s=setTimeout(x,t),c?y(e):o;if(d)return s=setTimeout(x,t),y(l)}return void 0===s&&(s=setTimeout(x,t)),o}return t=v(t)||0,m(r)&&(c=!!r.leading,a=(d="maxWait"in r)?h(v(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),C.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=i=s=void 0},C.flush=function(){return void 0===s?o:w(g())},C}},4809:function(e,t){var r,n,i;n=[],void 0!==(i="function"==typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,n=t.IS_PAPA_WORKER||!1,i={},a=0,o={parse:function(r,n){var s,l=(n=n||{}).dynamicTyping||!1;if(w(l)&&(n.dynamicTypingFunction=l,l={}),n.dynamicTyping=l,n.transform=!!w(n.transform)&&n.transform,n.worker&&o.WORKERS_SUPPORTED){var h=function(){if(!o.WORKERS_SUPPORTED)return!1;var r,n,s=(r=t.URL||t.webkitURL||null,n=e.toString(),o.BLOB_URL||(o.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=m,l.id=a++,i[l.id]=l}();return h.userStep=n.step,h.userChunk=n.chunk,h.userComplete=n.complete,h.userError=n.error,n.step=w(n.step),n.chunk=w(n.chunk),n.complete=w(n.complete),n.error=w(n.error),delete n.worker,void h.postMessage({input:r,config:n,workerId:h.id})}var p=null;return o.NODE_STREAM_INPUT,"string"==typeof r?(r=65279===(s=r).charCodeAt(0)?s.slice(1):s,p=n.download?new u(n):new d(n)):!0===r.readable&&w(r.read)&&w(r.on)?p=new f(n):(t.File&&r instanceof File||r instanceof Object)&&(p=new c(n)),p.stream(r)},unparse:function(e,t){var r=!1,n=!0,i=",",a="\r\n",s='"',l=s+s,u=!1,c=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw Error("Unable to serialize unrecognized input");function h(e,t,r){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&n){for(var u=0;u<e.length;u++)0<u&&(o+=i),o+=g(e[u],u);0<t.length&&(o+=a)}for(var c=0;c<t.length;c++){var d=s?e.length:t[c].length,f=!1,h=s?0===Object.keys(t[c]).length:0===t[c].length;if(r&&!s&&(f="greedy"===r?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===r&&s){for(var p=[],m=0;m<d;m++){var v=l?e[m]:m;p.push(t[c][v])}f=""===p.join("").trim()}if(!f){for(var y=0;y<d;y++){0<y&&!h&&(o+=i);var b=s&&l?e[y]:y;o+=g(t[c][b],y)}c<t.length-1&&(!r||0<d&&!h)&&(o+=a)}}return o}function g(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var n=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,n=!0);var a=e.toString().replace(f,l);return(n=n||!0===r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(a,o.BAD_DELIMITERS)||-1<a.indexOf(i)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?s+a+s:a}}};if(o.RECORD_SEP="\x1e",o.UNIT_SEP="\x1f",o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=0xa00000,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=g,o.ParserHandle=h,o.NetworkStreamer=u,o.FileStreamer=c,o.StringStreamer=d,o.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var r=e.config||{},n=[];return this.each(function(e){if(!("INPUT"===s(this).prop("tagName").toUpperCase()&&"file"===s(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)n.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},r)})}),i(),this;function i(){if(0!==n.length){var t,r,i,l,u=n[0];if(w(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return t="AbortError",r=u.file,i=u.inputElem,l=c.reason,void(w(e.error)&&e.error({name:t},r,i,l));if("skip"===c.action)return void a();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void a()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){w(d)&&d(e,u.file,u.inputElem),a()},o.parse(u.file,u.instanceConfig)}else w(e.complete)&&e.complete()}function a(){n.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:s,workerId:o.WORKER_ID,finished:u});else if(w(this._config.chunk)&&!r){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(Error(r))}}function c(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,r,n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){l.call(this,e=e||{});var t=[],r=!0,n=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=x(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=x(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=x(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,r,n,i=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,a=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,s=this,l=0,u=0,c=!1,d=!1,f=[],h={data:[],errors:[],meta:{}};if(w(e.step)){var m=e.step;e.step=function(t){if(h=t,x())y();else{if(y(),0===h.data.length)return;l+=t.data.length,e.preview&&l>e.preview?r.abort():(h.data=h.data[0],m(h,s))}}}function v(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){return h&&n&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines&&(h.data=h.data.filter(function(e){return!v(e)})),x()&&function(){if(h){if(Array.isArray(h.data[0])){for(var t=0;x()&&t<h.data.length;t++)h.data[t].forEach(r);h.data.splice(0,1)}else h.data.forEach(r)}function r(t,r){w(e.transformHeader)&&(t=e.transformHeader(t,r)),f.push(t)}}(),function(){if(!h||!e.header&&!e.dynamicTyping&&!e.transform)return h;function t(t,r){var n,o=e.header?{}:[];for(n=0;n<t.length;n++){var s,l,c=n,d=t[n];e.header&&(c=n>=f.length?"__parsed_extra":f[n]),e.transform&&(d=e.transform(d,c)),s=c,l=d,e.dynamicTypingFunction&&void 0===e.dynamicTyping[s]&&(e.dynamicTyping[s]=e.dynamicTypingFunction(s)),d=!0===(e.dynamicTyping[s]||e.dynamicTyping)?"true"===l||"TRUE"===l||"false"!==l&&"FALSE"!==l&&(!function(e){if(i.test(e)){var t=parseFloat(e);if(-0x20000000000000<t&&t<0x20000000000000)return!0}return!1}(l)?a.test(l)?new Date(l):""===l?null:l:parseFloat(l)):l,"__parsed_extra"===c?(o[c]=o[c]||[],o[c].push(d)):o[c]=d}return e.header&&(n>f.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,u+r):n<f.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,u+r)),o}var r=1;return!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(t),r=h.data.length):h.data=t(h.data,0),e.header&&h.meta&&(h.meta.fields=f),u+=r,h}()}function x(){return e.header&&0===f.length}function C(e,t,r,n){var i={type:e,code:t,message:r};void 0!==n&&(i.row=n),h.errors.push(i)}this.parse=function(i,a,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=RegExp(p(t)+"([^]*?)"+p(t),"gm"),n=(e=e.replace(r,"")).split("\r"),i=e.split("\n"),a=1<i.length&&i[0].length<n[0].length;if(1===n.length||a)return"\n";for(var o=0,s=0;s<n.length;s++)"\n"===n[s][0]&&o++;return o>=n.length/2?"\r\n":"\r"}(i,l)),n=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),h.meta.delimiter=e.delimiter);else{var u=function(t,r,n,i,a){var s,l,u,c;a=a||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<a.length;d++){var f=a[d],h=0,p=0,m=0;u=void 0;for(var y=new g({comments:i,delimiter:f,newline:r,preview:10}).parse(t),b=0;b<y.data.length;b++)if(n&&v(y.data[b]))m++;else{var x=y.data[b].length;p+=x,void 0!==u?0<x&&(h+=Math.abs(x-u),u=x):u=x}0<y.data.length&&(p/=y.data.length-m),(void 0===l||h<=l)&&(void 0===c||c<p)&&1.99<p&&(l=h,s=f,c=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(n=!0,e.delimiter=o.DefaultDelimiter),h.meta.delimiter=e.delimiter}var d=b(e);return e.preview&&e.header&&d.preview++,t=i,h=(r=new g(d)).parse(t,a,s),y(),c?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,r.abort(),t=w(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){s.streamer._halted?(c=!1,s.streamer.parseChunk(t,!0)):setTimeout(s.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,r.abort(),h.meta.aborted=!0,w(e.complete)&&e.complete(h),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,r=(e=e||{}).delimiter,n=e.newline,i=e.comments,a=e.step,s=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=","),i===r)throw Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var c=0,d=!1;this.parse=function(o,f,h){if("string"!=typeof o)throw Error("Input must be a string");var g=o.length,m=r.length,v=n.length,y=i.length,b=w(a),x=[],C=[],S=[],j=c=0;if(!o)return K();if(e.header&&!f){var A=o.split(n)[0].split(r),_=[],k={},E=!1;for(var O in A){var R=A[O];w(e.transformHeader)&&(R=e.transformHeader(R,O));var T=R,I=k[R]||0;for(0<I&&(E=!0,T=R+"_"+I),k[R]=I+1;_.includes(T);)T=T+"_"+I;_.push(T)}if(E){var M=o.split(n);M[0]=_.join(r),o=M.join(n)}}if(l||!1!==l&&-1===o.indexOf(t)){for(var F=o.split(n),D=0;D<F.length;D++){if(S=F[D],c+=S.length,D!==F.length-1)c+=n.length;else if(h)break;if(!i||S.substring(0,y)!==i){if(b){if(x=[],B(S.split(r)),Z(),d)return K()}else B(S.split(r));if(s&&s<=D)return x=x.slice(0,s),K(!0)}}return K()}for(var P=o.indexOf(r,c),L=o.indexOf(n,c),N=RegExp(p(u)+p(t),"g"),z=o.indexOf(t,c);;)if(o[c]!==t){if(i&&0===S.length&&o.substring(c,c+y)===i){if(-1===L)return K();c=L+v,L=o.indexOf(n,c),P=o.indexOf(r,c)}else if(-1!==P&&(P<L||-1===L))S.push(o.substring(c,P)),c=P+m,P=o.indexOf(r,c);else{if(-1===L)break;if(S.push(o.substring(c,L)),H(L+v),b&&(Z(),d))return K();if(s&&x.length>=s)return K(!0)}}else for(z=c,c++;;){if(-1===(z=o.indexOf(t,z+1)))return h||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:c}),q();if(z===g-1)return q(o.substring(c,z).replace(N,t));if(t!==u||o[z+1]!==u){if(t===u||0===z||o[z-1]!==u){-1!==P&&P<z+1&&(P=o.indexOf(r,z+1)),-1!==L&&L<z+1&&(L=o.indexOf(n,z+1));var V=U(-1===L?P:Math.min(P,L));if(o.substr(z+1+V,m)===r){S.push(o.substring(c,z).replace(N,t)),o[c=z+1+V+m]!==t&&(z=o.indexOf(t,c)),P=o.indexOf(r,c),L=o.indexOf(n,c);break}var $=U(L);if(o.substring(z+1+$,z+1+$+v)===n){if(S.push(o.substring(c,z).replace(N,t)),H(z+1+$+v),P=o.indexOf(r,c),z=o.indexOf(t,c),b&&(Z(),d))return K();if(s&&x.length>=s)return K(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:x.length,index:c}),z++}}else z++}return q();function B(e){x.push(e),j=c}function U(e){var t=0;if(-1!==e){var r=o.substring(z+1,e);r&&""===r.trim()&&(t=r.length)}return t}function q(e){return h||(void 0===e&&(e=o.substring(c)),S.push(e),c=g,B(S),b&&Z()),K()}function H(e){c=e,B(S),S=[],L=o.indexOf(n,c)}function K(e){return{data:x,errors:C,meta:{delimiter:r,linebreak:n,aborted:d,truncated:!!e,cursor:j+(f||0)}}}function Z(){a(K()),x=[],C=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function m(e){var t=e.data,r=i[t.workerId],n=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){n=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(r.userStep)){for(var o=0;o<t.results.data.length&&(r.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},a),!n);o++);delete t.results}else w(r.userChunk)&&(r.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!n&&v(t.workerId,t.results)}function v(e,t){var r=i[e];w(r.userComplete)&&r.userComplete(t),r.terminate(),delete i[e]}function y(){throw Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=b(e[r]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var r=e.data;if(void 0===o.WORKER_ID&&r&&(o.WORKER_ID=r.workerId),"string"==typeof r.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(r.input,r.config),finished:!0});else if(t.File&&r.input instanceof File||r.input instanceof Object){var n=o.parse(r.input,r.config);n&&t.postMessage({workerId:o.WORKER_ID,results:n,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(l.prototype)).constructor=f,o})?r.apply(t,n):r)&&(e.exports=i)},1020:(e,t,r)=>{"use strict";/**
     * @license React
     * react-jsx-runtime.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var n=r(423),i=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var n,l={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!s.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:c,props:l,_owner:o.current}}},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},6942:(e,t)=>{var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}(r)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0!==(r=(function(){return i}).apply(t,[]))&&(e.exports=r)}()},2980:(e,t,r)=>{"use strict";let n,i;r.d(t,{Yf:()=>pp});var a,o,s,l,u,c,d,f,h,p=r(2485),g=r(7179),m=r(3145),v=r(5904);function y(e,t){let r="left"===e?t:100-t,n=`
  margin-inline-start: 0px !important;
  inset-inline-start: 0 !important;
  width: calc(${r}% - 12px) !important;
  `,i=`margin-inline-start: 0px !important;
width: ${100-r}% !important;
inset-inline-start: calc(${r}% + 12px) !important;`;return(0,v.css)`
    div.ant-timeline-item-label {
      ${"right"===e?i:n}
    }
    div.ant-timeline-item-content {
      ${"right"===e?n:i}
    }
    div.ant-timeline-item-tail,
    div.ant-timeline-item-head {
      left: ${r}% !important;
    }
  `}function b({labelPercentageWidth:e=50,...t}){return t.items&&0!==t.items.length?(0,g.jsx)(m.Timeline,{...t,css:"alternate"!==t.mode&&y(t.mode,e)}):(0,g.jsx)(m.Empty,{})}function x({labelPercentageWidth:e=50,...t}){return(0,g.jsx)(m.Timeline,{...t,css:"alternate"!==t.mode&&y(t.mode,e),"data-testid":"timeline-skeleton",items:[{key:"a-1",label:(0,g.jsx)(m.Skeleton,{active:!0,paragraph:!1,css:{"&  h3":{marginBlockStart:2}}}),children:(0,g.jsx)(m.Skeleton,{active:!0,css:{"&  h3":{marginBlockStart:2}}})},{key:"a-2",label:(0,g.jsx)(m.Skeleton,{active:!0,paragraph:!1,css:{"&  h3":{marginBlockStart:2}}}),children:(0,g.jsx)(m.Skeleton,{active:!0,css:{"&  h3":{marginBlockStart:2}}})}]})}var w=r(423),C=/*#__PURE__*/r.n(w);r(181);var S="undefined"!=typeof window?w.useLayoutEffect:w.useEffect;function j({delay:e=0,children:t}){let[r,n]=(0,w.useState)(0===e);return!function(e,t){let r=(0,w.useRef)(e);S(()=>{r.current=e},[e]),(0,w.useEffect)(()=>{if(!t&&0!==t)return;let e=setTimeout(()=>{r.current()},t);return()=>{clearTimeout(e)}},[t])}(()=>n(!0),e),r?(0,g.jsx)(g.Fragment,{children:t}):null}var A=r(4848),_=w.createContext(void 0),k=e=>{let t=w.useContext(_);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},E=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),/* @__PURE__ */(0,A.jsx)(_.Provider,{value:e,children:t}));function O(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var R=w.createContext(O()),T=()=>w.useContext(R),I=({children:e})=>{let[t]=w.useState(()=>O());return/* @__PURE__ */(0,A.jsx)(R.Provider,{value:t,children:"function"==typeof e?e(t):e})};class M extends Error{status=403;title="Access denied"}class F extends Error{response;constructor(e,t){super(t),this.response=e}}class D extends F{problemDetail;constructor({response:e,problemDetail:t}){super(e,t.detail),this.problemDetail=t}}function P(e,t){var r,n;return e instanceof D?{message:e.problemDetail.title,description:(r=e.problemDetail.detail,(n=e.problemDetail?.action)?r.replace(/\.$/,"")+". "+n.replace(/\.$/,"")+".":r)}:{message:t,description:"Contact your support team"}}function L({error:e,reset:t}){let r=(0,p.useTheme)(),{status:n,title:i,subTitle:a,canTryAgain:o}=function(e){let t="error",r=!1,n="Error performing request.",i="Contact your support team";if(e instanceof F||e instanceof D){let a=500===e.response.status,o=404===e.response.status,s=403===e.response.status;a?(t="500",r=!0):o?t="404":s&&(t="403");let{message:l,description:u}=P(e,"Error performing request.");n=l,i=u}else e instanceof M&&(n=e.title,i=e.message,t=e.status);return{status:t,title:n,subTitle:i,canTryAgain:r}}(e);return(0,g.jsx)("div",{style:{display:"flex",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:r.backgroundColor},children:(0,g.jsx)(m.Result,{status:n,title:i,subTitle:a,extra:t&&o&&(0,g.jsx)(m.Button,{onClick:t,type:"primary",children:"Try again"})})})}let N=(0,w.createContext)(null),z={didCatch:!1,error:null};class V extends w.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=z}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];null===(t=(r=this.props).onReset)||void 0===t||t.call(r,{args:i,reason:"imperative-api"}),this.setState(z)}}componentDidCatch(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}componentDidUpdate(e,t){let{didCatch:r}=this.state,{resetKeys:n}=this.props;if(r&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,r)=>!Object.is(e,t[r]))}(e.resetKeys,n)){var i,a;null===(i=(a=this.props).onReset)||void 0===i||i.call(a,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(z)}}render(){let{children:e,fallbackRender:t,FallbackComponent:r,fallback:n}=this.props,{didCatch:i,error:a}=this.state,o=e;if(i){let e={error:a,resetErrorBoundary:this.resetErrorBoundary};if((0,w.isValidElement)(n))o=n;else if("function"==typeof t)o=t(e);else if(r)o=(0,w.createElement)(r,e);else throw a}return(0,w.createElement)(N.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},o)}}function $({children:e}){let{reset:t}=T();return(0,g.jsx)(V,{onReset:t,fallbackRender:({error:e,resetErrorBoundary:t})=>(0,g.jsx)(L,{error:e,reset:t}),children:e})}var B=r(5055);function U(){let e=(0,B.useRouteError)(),{reset:t}=T(),r=(0,B.useNavigate)(),{pathname:n}=(0,B.useLocation)();return(0,g.jsx)(L,{error:e,reset:()=>{t(),r(n)}})}function q({errors:e,errorId:t}){let r=(0,p.useTheme)();return(0,g.jsx)("div",{style:{minHeight:16},children:e?.length?(0,g.jsx)("ul",{id:t,style:{display:"flex",flexDirection:"column",listStyle:"none",padding:0,margin:0,color:r.errorColor,fontSize:10},children:e.map((e,t)=>(0,g.jsx)("li",{style:{lineHeight:"16px"},children:e},t))}):null})}!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(l||(l={})),(u||(u={})).mergeShapes=(e,t)=>({...e,...t});let H=l.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),K=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":if(Array.isArray(e))return H.array;if(null===e)return H.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return H.promise;if("undefined"!=typeof Map&&e instanceof Map)return H.map;if("undefined"!=typeof Set&&e instanceof Set)return H.set;if("undefined"!=typeof Date&&e instanceof Date)return H.date;return H.object;default:return H.unknown}},Z=l.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Q extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof Q))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,l.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Q.create=e=>new Q(e);let G=(e,t)=>{let r;switch(e.code){case Z.invalid_type:r=e.received===H.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,l.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${l.joinValues(e.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${l.joinValues(e.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${l.joinValues(e.options)}, received '${e.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:l.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Z.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Z.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=t.defaultError,l.assertNever(e)}return{message:r}},W=G;function Y(){return W}let X=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],o={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...i,path:a,message:s}};function J(e,t){let r=Y(),n=X({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===G?void 0:G].filter(e=>!!e)});e.common.issues.push(n)}class ee{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return et;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return ee.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return et;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let et=Object.freeze({status:"aborted"}),er=e=>({status:"dirty",value:e}),en=e=>({status:"valid",value:e}),ei=e=>"aborted"===e.status,ea=e=>"dirty"===e.status,eo=e=>"valid"===e.status,es=e=>"undefined"!=typeof Promise&&e instanceof Promise;function el(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function eu(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(c||(c={}));class ec{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ed=(e,t)=>{if(eo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Q(e.common.issues);return this._error=t,this._error}}};function ef(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var a,o;let{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:i.defaultError}:void 0===i.data?{message:null!==(a=null!=s?s:n)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!=s?s:r)&&void 0!==o?o:i.defaultError}},description:i}}class eh{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return K(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:K(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ee,ctx:{common:e.parent.common,data:e.data,parsedType:K(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(es(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:K(e)},i=this._parseSync({data:e,path:n.path,parent:n});return ed(n,i)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:K(e)},n=this._parse({data:e,path:r.path,parent:r});return ed(r,await (es(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:Z.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new e4({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return e6.create(this,this._def)}nullable(){return e3.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eV.create(this,this._def)}promise(){return e2.create(this,this._def)}or(e){return eB.create([this,e],this._def)}and(e){return eH.create(this,e,this._def)}transform(e){return new e4({...ef(this._def),schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new e8({...ef(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:h.ZodDefault})}brand(){return new te({typeName:h.ZodBranded,type:this,...ef(this._def)})}catch(e){return new e5({...ef(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:h.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return tt.create(this,e)}readonly(){return tr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let ep=/^c[^\s-]{8,}$/i,eg=/^[0-9a-z]+$/,em=/^[0-9A-HJKMNP-TV-Z]{26}$/,ev=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ey=/^[a-z0-9_-]{21}$/i,eb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ew=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eC=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,eS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ej="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eA=RegExp(`^${ej}$`);function e_(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ek(e){let t=`${ej}T${e_(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class eE extends eh{_parse(e){var t,r;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.string,received:t.parsedType}),et}let a=new ee;for(let o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(J(i=this._getOrReturnCtx(e,i),{code:Z.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if("max"===o.kind)e.data.length>o.value&&(J(i=this._getOrReturnCtx(e,i),{code:Z.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if("length"===o.kind){let t=e.data.length>o.value,r=e.data.length<o.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?J(i,{code:Z.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):r&&J(i,{code:Z.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),a.dirty())}else if("email"===o.kind)ex.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"email",code:Z.invalid_string,message:o.message}),a.dirty());else if("emoji"===o.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:Z.invalid_string,message:o.message}),a.dirty());else if("uuid"===o.kind)ev.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:Z.invalid_string,message:o.message}),a.dirty());else if("nanoid"===o.kind)ey.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:Z.invalid_string,message:o.message}),a.dirty());else if("cuid"===o.kind)ep.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:Z.invalid_string,message:o.message}),a.dirty());else if("cuid2"===o.kind)eg.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:Z.invalid_string,message:o.message}),a.dirty());else if("ulid"===o.kind)em.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:Z.invalid_string,message:o.message}),a.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(t){J(i=this._getOrReturnCtx(e,i),{validation:"url",code:Z.invalid_string,message:o.message}),a.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"regex",code:Z.invalid_string,message:o.message}),a.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(J(i=this._getOrReturnCtx(e,i),{code:Z.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),a.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(J(i=this._getOrReturnCtx(e,i),{code:Z.invalid_string,validation:{startsWith:o.value},message:o.message}),a.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(J(i=this._getOrReturnCtx(e,i),{code:Z.invalid_string,validation:{endsWith:o.value},message:o.message}),a.dirty()):"datetime"===o.kind?ek(o).test(e.data)||(J(i=this._getOrReturnCtx(e,i),{code:Z.invalid_string,validation:"datetime",message:o.message}),a.dirty()):"date"===o.kind?eA.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{code:Z.invalid_string,validation:"date",message:o.message}),a.dirty()):"time"===o.kind?RegExp(`^${e_(o)}$`).test(e.data)||(J(i=this._getOrReturnCtx(e,i),{code:Z.invalid_string,validation:"time",message:o.message}),a.dirty()):"duration"===o.kind?eb.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"duration",code:Z.invalid_string,message:o.message}),a.dirty()):"ip"===o.kind?(t=e.data,("v4"===(r=o.version)||!r)&&ew.test(t)||("v6"===r||!r)&&eC.test(t)||(J(i=this._getOrReturnCtx(e,i),{validation:"ip",code:Z.invalid_string,message:o.message}),a.dirty())):"base64"===o.kind?eS.test(e.data)||(J(i=this._getOrReturnCtx(e,i),{validation:"base64",code:Z.invalid_string,message:o.message}),a.dirty()):l.assertNever(o);return{status:a.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:Z.invalid_string,...c.errToObj(r)})}_addCheck(e){return new eE({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...c.errToObj(e)})}url(e){return this._addCheck({kind:"url",...c.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...c.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...c.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...c.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...c.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...c.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...c.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...c.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...c.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...c.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...c.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...c.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...c.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...c.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...c.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...c.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...c.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...c.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...c.errToObj(t)})}nonempty(e){return this.min(1,c.errToObj(e))}trim(){return new eE({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eE({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eE({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eE.create=e=>{var t;return new eE({checks:[],typeName:h.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ef(e)})};class eO extends eh{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.number,received:t.parsedType}),et}let r=new ee;for(let n of this._def.checks)"int"===n.kind?l.isInteger(e.data)||(J(t=this._getOrReturnCtx(e,t),{code:Z.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:Z.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:Z.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:Z.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(J(t=this._getOrReturnCtx(e,t),{code:Z.not_finite,message:n.message}),r.dirty()):l.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,c.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.toString(t))}setLimit(e,t,r,n){return new eO({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:c.toString(n)}]})}_addCheck(e){return new eO({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:c.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:c.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:c.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:c.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:c.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:c.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:c.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:c.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&l.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}eO.create=e=>new eO({checks:[],typeName:h.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...ef(e)});class eR extends eh{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==H.bigint){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.bigint,received:t.parsedType}),et}let r=new ee;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:Z.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(J(t=this._getOrReturnCtx(e,t),{code:Z.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(J(t=this._getOrReturnCtx(e,t),{code:Z.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):l.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,c.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.toString(t))}setLimit(e,t,r,n){return new eR({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:c.toString(n)}]})}_addCheck(e){return new eR({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:c.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:c.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:c.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:c.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eR.create=e=>{var t;return new eR({checks:[],typeName:h.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ef(e)})};class eT extends eh{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==H.boolean){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.boolean,received:t.parsedType}),et}return en(e.data)}}eT.create=e=>new eT({typeName:h.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...ef(e)});class eI extends eh{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.date,received:t.parsedType}),et}if(isNaN(e.data.getTime()))return J(this._getOrReturnCtx(e),{code:Z.invalid_date}),et;let r=new ee;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(J(t=this._getOrReturnCtx(e,t),{code:Z.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(J(t=this._getOrReturnCtx(e,t),{code:Z.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):l.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new eI({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:c.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:c.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}eI.create=e=>new eI({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:h.ZodDate,...ef(e)});class eM extends eh{_parse(e){if(this._getType(e)!==H.symbol){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.symbol,received:t.parsedType}),et}return en(e.data)}}eM.create=e=>new eM({typeName:h.ZodSymbol,...ef(e)});class eF extends eh{_parse(e){if(this._getType(e)!==H.undefined){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.undefined,received:t.parsedType}),et}return en(e.data)}}eF.create=e=>new eF({typeName:h.ZodUndefined,...ef(e)});class eD extends eh{_parse(e){if(this._getType(e)!==H.null){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.null,received:t.parsedType}),et}return en(e.data)}}eD.create=e=>new eD({typeName:h.ZodNull,...ef(e)});class eP extends eh{constructor(){super(...arguments),this._any=!0}_parse(e){return en(e.data)}}eP.create=e=>new eP({typeName:h.ZodAny,...ef(e)});class eL extends eh{constructor(){super(...arguments),this._unknown=!0}_parse(e){return en(e.data)}}eL.create=e=>new eL({typeName:h.ZodUnknown,...ef(e)});class eN extends eh{_parse(e){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.never,received:t.parsedType}),et}}eN.create=e=>new eN({typeName:h.ZodNever,...ef(e)});class ez extends eh{_parse(e){if(this._getType(e)!==H.undefined){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.void,received:t.parsedType}),et}return en(e.data)}}ez.create=e=>new ez({typeName:h.ZodVoid,...ef(e)});class eV extends eh{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==H.array)return J(t,{code:Z.invalid_type,expected:H.array,received:t.parsedType}),et;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(J(t,{code:e?Z.too_big:Z.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(J(t,{code:Z.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(J(t,{code:Z.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new ec(t,e,t.path,r)))).then(e=>ee.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new ec(t,e,t.path,r)));return ee.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new eV({...this._def,minLength:{value:e,message:c.toString(t)}})}max(e,t){return new eV({...this._def,maxLength:{value:e,message:c.toString(t)}})}length(e,t){return new eV({...this._def,exactLength:{value:e,message:c.toString(t)}})}nonempty(e){return this.min(1,e)}}eV.create=(e,t)=>new eV({type:e,minLength:null,maxLength:null,exactLength:null,typeName:h.ZodArray,...ef(t)});class e$ extends eh{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=l.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==H.object){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.object,received:t.parsedType}),et}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof eN&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let o=[];for(let e of i){let t=n[e],i=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new ec(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof eN){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(J(r,{code:Z.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new ec(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>ee.mergeObjectSync(t,e)):ee.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return c.errToObj,new e$({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,a,o;let s=null!==(a=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=c.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new e$({...this._def,unknownKeys:"strip"})}passthrough(){return new e$({...this._def,unknownKeys:"passthrough"})}extend(e){return new e$({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new e$({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:h.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new e$({...this._def,catchall:e})}pick(e){let t={};return l.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new e$({...this._def,shape:()=>t})}omit(e){let t={};return l.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new e$({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof e$){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=e6.create(e(i))}return new e$({...t._def,shape:()=>r})}return t instanceof eV?new eV({...t._def,type:e(t.element)}):t instanceof e6?e6.create(e(t.unwrap())):t instanceof e3?e3.create(e(t.unwrap())):t instanceof eK?eK.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return l.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new e$({...this._def,shape:()=>t})}required(e){let t={};return l.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof e6;)e=e._def.innerType;t[r]=e}}),new e$({...this._def,shape:()=>t})}keyof(){return eJ(l.objectKeys(this.shape))}}e$.create=(e,t)=>new e$({shape:()=>e,unknownKeys:"strip",catchall:eN.create(),typeName:h.ZodObject,...ef(t)}),e$.strictCreate=(e,t)=>new e$({shape:()=>e,unknownKeys:"strict",catchall:eN.create(),typeName:h.ZodObject,...ef(t)}),e$.lazycreate=(e,t)=>new e$({shape:e,unknownKeys:"strip",catchall:eN.create(),typeName:h.ZodObject,...ef(t)});class eB extends eh{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new Q(e.ctx.common.issues));return J(t,{code:Z.invalid_union,unionErrors:r}),et});{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new Q(e));return J(t,{code:Z.invalid_union,unionErrors:i}),et}}get options(){return this._def.options}}eB.create=(e,t)=>new eB({options:e,typeName:h.ZodUnion,...ef(t)});let eU=e=>{if(e instanceof eY)return eU(e.schema);if(e instanceof e4)return eU(e.innerType());if(e instanceof eX)return[e.value];if(e instanceof e0)return e.options;if(e instanceof e1)return l.objectValues(e.enum);if(e instanceof e8)return eU(e._def.innerType);if(e instanceof eF)return[void 0];else if(e instanceof eD)return[null];else if(e instanceof e6)return[void 0,...eU(e.unwrap())];else if(e instanceof e3)return[null,...eU(e.unwrap())];else if(e instanceof te)return eU(e.unwrap());else if(e instanceof tr)return eU(e.unwrap());else if(e instanceof e5)return eU(e._def.innerType);else return[]};class eq extends eh{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.object)return J(t,{code:Z.invalid_type,expected:H.object,received:t.parsedType}),et;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(J(t,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),et)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=eU(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new eq({typeName:h.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...ef(r)})}}class eH extends eh{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(ei(e)||ei(n))return et;let i=function e(t,r){let n=K(t),i=K(r);if(t===r)return{valid:!0,data:t};if(n===H.object&&i===H.object){let n=l.objectKeys(r),i=l.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===H.array&&i===H.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===H.date&&i===H.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return i.valid?((ea(e)||ea(n))&&t.dirty(),{status:t.value,value:i.data}):(J(r,{code:Z.invalid_intersection_types}),et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eH.create=(e,t,r)=>new eH({left:e,right:t,typeName:h.ZodIntersection,...ef(r)});class eK extends eh{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.array)return J(r,{code:Z.invalid_type,expected:H.array,received:r.parsedType}),et;if(r.data.length<this._def.items.length)return J(r,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new ec(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>ee.mergeArray(t,e)):ee.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eK({...this._def,rest:e})}}eK.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eK({items:e,typeName:h.ZodTuple,rest:null,...ef(t)})};class eZ extends eh{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.object)return J(r,{code:Z.invalid_type,expected:H.object,received:r.parsedType}),et;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new ec(r,e,r.path,e)),value:a._parse(new ec(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?ee.mergeObjectAsync(t,n):ee.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eZ(t instanceof eh?{keyType:e,valueType:t,typeName:h.ZodRecord,...ef(r)}:{keyType:eE.create(),valueType:e,typeName:h.ZodRecord,...ef(t)})}}class eQ extends eh{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.map)return J(r,{code:Z.invalid_type,expected:H.map,received:r.parsedType}),et;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new ec(r,e,r.path,[a,"key"])),value:i._parse(new ec(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return et;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return et;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}eQ.create=(e,t,r)=>new eQ({valueType:t,keyType:e,typeName:h.ZodMap,...ef(r)});class eG extends eh{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.set)return J(r,{code:Z.invalid_type,expected:H.set,received:r.parsedType}),et;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(J(r,{code:Z.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(J(r,{code:Z.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return et;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>i._parse(new ec(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>a(e)):a(o)}min(e,t){return new eG({...this._def,minSize:{value:e,message:c.toString(t)}})}max(e,t){return new eG({...this._def,maxSize:{value:e,message:c.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eG.create=(e,t)=>new eG({valueType:e,minSize:null,maxSize:null,typeName:h.ZodSet,...ef(t)});class eW extends eh{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.function)return J(t,{code:Z.invalid_type,expected:H.function,received:t.parsedType}),et;function r(e,r){return X({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Y(),G].filter(e=>!!e),issueData:{code:Z.invalid_arguments,argumentsError:r}})}function n(e,r){return X({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Y(),G].filter(e=>!!e),issueData:{code:Z.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof e2){let e=this;return en(async function(...t){let o=new Q([]),s=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(r(t,e)),o}),l=await Reflect.apply(a,this,s);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw o.addIssue(n(l,e)),o})})}{let e=this;return en(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new Q([r(t,o.error)]);let s=Reflect.apply(a,this,o.data),l=e._def.returns.safeParse(s,i);if(!l.success)throw new Q([n(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eW({...this._def,args:eK.create(e).rest(eL.create())})}returns(e){return new eW({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eW({args:e||eK.create([]).rest(eL.create()),returns:t||eL.create(),typeName:h.ZodFunction,...ef(r)})}}class eY extends eh{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eY.create=(e,t)=>new eY({getter:e,typeName:h.ZodLazy,...ef(t)});class eX extends eh{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return J(t,{received:t.data,code:Z.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eJ(e,t){return new e0({values:e,typeName:h.ZodEnum,...ef(t)})}eX.create=(e,t)=>new eX({value:e,typeName:h.ZodLiteral,...ef(t)});class e0 extends eh{constructor(){super(...arguments),d.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return J(t,{expected:l.joinValues(r),received:t.parsedType,code:Z.invalid_type}),et}if(el(this,d,"f")||eu(this,d,new Set(this._def.values),"f"),!el(this,d,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return J(t,{received:t.data,code:Z.invalid_enum_value,options:r}),et}return en(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return e0.create(e,{...this._def,...t})}exclude(e,t=this._def){return e0.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}d=new WeakMap,e0.create=eJ;class e1 extends eh{constructor(){super(...arguments),f.set(this,void 0)}_parse(e){let t=l.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==H.string&&r.parsedType!==H.number){let e=l.objectValues(t);return J(r,{expected:l.joinValues(e),received:r.parsedType,code:Z.invalid_type}),et}if(el(this,f,"f")||eu(this,f,new Set(l.getValidEnumValues(this._def.values)),"f"),!el(this,f,"f").has(e.data)){let e=l.objectValues(t);return J(r,{received:r.data,code:Z.invalid_enum_value,options:e}),et}return en(e.data)}get enum(){return this._def.values}}f=new WeakMap,e1.create=(e,t)=>new e1({values:e,typeName:h.ZodNativeEnum,...ef(t)});class e2 extends eh{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==H.promise&&!1===t.common.async?(J(t,{code:Z.invalid_type,expected:H.promise,received:t.parsedType}),et):en((t.parsedType===H.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}e2.create=(e,t)=>new e2({type:e,typeName:h.ZodPromise,...ef(t)});class e4 extends eh{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===h.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{J(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return et;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?et:"dirty"===n.status||"dirty"===t.value?er(n.value):n});{if("aborted"===t.value)return et;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?et:"dirty"===n.status||"dirty"===t.value?er(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?et:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?et:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>eo(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!eo(e))return e;let a=n.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}l.assertNever(n)}}e4.create=(e,t,r)=>new e4({schema:e,typeName:h.ZodEffects,effect:t,...ef(r)}),e4.createWithPreprocess=(e,t,r)=>new e4({schema:t,effect:{type:"preprocess",transform:e},typeName:h.ZodEffects,...ef(r)});class e6 extends eh{_parse(e){return this._getType(e)===H.undefined?en(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e6.create=(e,t)=>new e6({innerType:e,typeName:h.ZodOptional,...ef(t)});class e3 extends eh{_parse(e){return this._getType(e)===H.null?en(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e3.create=(e,t)=>new e3({innerType:e,typeName:h.ZodNullable,...ef(t)});class e8 extends eh{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===H.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}e8.create=(e,t)=>new e8({innerType:e,typeName:h.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ef(t)});class e5 extends eh{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return es(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Q(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new Q(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}e5.create=(e,t)=>new e5({innerType:e,typeName:h.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ef(t)});class e9 extends eh{_parse(e){if(this._getType(e)!==H.nan){let t=this._getOrReturnCtx(e);return J(t,{code:Z.invalid_type,expected:H.nan,received:t.parsedType}),et}return{status:"valid",value:e.data}}}e9.create=e=>new e9({typeName:h.ZodNaN,...ef(e)});let e7=Symbol("zod_brand");class te extends eh{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class tt extends eh{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?et:"dirty"===e.status?(t.dirty(),er(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?et:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new tt({in:e,out:t,typeName:h.ZodPipeline})}}class tr extends eh{_parse(e){let t=this._def.innerType._parse(e),r=e=>(eo(e)&&(e.value=Object.freeze(e.value)),e);return es(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function tn(e,t={},r){return e?eP.create().superRefine((n,i)=>{var a,o;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,s=null===(o=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===o||o,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:s})}}):eP.create()}tr.create=(e,t)=>new tr({innerType:e,typeName:h.ZodReadonly,...ef(t)});let ti={object:e$.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(h||(h={}));let ta=eE.create,to=eO.create,ts=e9.create,tl=eR.create,tu=eT.create,tc=eI.create,td=eM.create,tf=eF.create,th=eD.create,tp=eP.create,tg=eL.create,tm=eN.create,tv=ez.create,ty=eV.create,tb=e$.create,tx=e$.strictCreate,tw=eB.create,tC=eq.create,tS=eH.create,tj=eK.create,tA=eZ.create,t_=eQ.create,tk=eG.create,tE=eW.create,tO=eY.create,tR=eX.create,tT=e0.create,tI=e1.create,tM=e2.create,tF=e4.create,tD=e6.create,tP=e3.create,tL=e4.createWithPreprocess,tN=tt.create;var tz=/*#__PURE__*/Object.freeze({__proto__:null,defaultErrorMap:G,setErrorMap:function(e){W=e},getErrorMap:Y,makeIssue:X,EMPTY_PATH:[],addIssueToContext:J,ParseStatus:ee,INVALID:et,DIRTY:er,OK:en,isAborted:ei,isDirty:ea,isValid:eo,isAsync:es,get util(){return l},get objectUtil(){return u},ZodParsedType:H,getParsedType:K,ZodType:eh,datetimeRegex:ek,ZodString:eE,ZodNumber:eO,ZodBigInt:eR,ZodBoolean:eT,ZodDate:eI,ZodSymbol:eM,ZodUndefined:eF,ZodNull:eD,ZodAny:eP,ZodUnknown:eL,ZodNever:eN,ZodVoid:ez,ZodArray:eV,ZodObject:e$,ZodUnion:eB,ZodDiscriminatedUnion:eq,ZodIntersection:eH,ZodTuple:eK,ZodRecord:eZ,ZodMap:eQ,ZodSet:eG,ZodFunction:eW,ZodLazy:eY,ZodLiteral:eX,ZodEnum:e0,ZodNativeEnum:e1,ZodPromise:e2,ZodEffects:e4,ZodTransformer:e4,ZodOptional:e6,ZodNullable:e3,ZodDefault:e8,ZodCatch:e5,ZodNaN:e9,BRAND:e7,ZodBranded:te,ZodPipeline:tt,ZodReadonly:tr,custom:tn,Schema:eh,ZodSchema:eh,late:ti,get ZodFirstPartyTypeKind(){return h},coerce:{string:e=>eE.create({...e,coerce:!0}),number:e=>eO.create({...e,coerce:!0}),boolean:e=>eT.create({...e,coerce:!0}),bigint:e=>eR.create({...e,coerce:!0}),date:e=>eI.create({...e,coerce:!0})},any:tp,array:ty,bigint:tl,boolean:tu,date:tc,discriminatedUnion:tC,effect:tF,enum:tT,function:tE,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>tn(t=>t instanceof e,t),intersection:tS,lazy:tO,literal:tR,map:t_,nan:ts,nativeEnum:tI,never:tm,null:th,nullable:tP,number:to,object:tb,oboolean:()=>tu().optional(),onumber:()=>to().optional(),optional:tD,ostring:()=>ta().optional(),pipeline:tN,preprocess:tL,promise:tM,record:tA,set:tk,strictObject:tx,string:ta,symbol:td,transformer:tF,tuple:tj,undefined:tf,union:tw,unknown:tg,void:tv,NEVER:et,ZodIssueCode:Z,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Q});let tV=tz.object({type:tz.string(),title:tz.string(),status:tz.number(),detail:tz.string(),instance:tz.string(),stacktrace:tz.string().optional(),action:tz.string().optional(),validationErrors:tz.array(tz.object({action:tz.string(),lineNumber:tz.number(),reason:tz.string()})).optional()});async function t$(e){if(!e.ok){let t=e.headers.get("content-type");if(t&&t.includes("application/problem+json")){let t=await e.json(),r=tV.parse(t);if(500!==r.status)throw new D({response:e,problemDetail:r});throw new F(e,`${e.status} (${r.title}): ${r.detail}`)}if(403===e.status)throw new F(e,"You are not authorized to perform this action. Contact your technical support representative");if(t&&t.includes("application/json")){let t=await e.json();throw new F(e,`${e.status}: ${t.error??"An unexpected error occurred."}`)}throw new F(e,`${e.status}: ${await e.text()}`)}}var tB="undefined"==typeof window||"Deno"in window;function tU(){}function tq(e){return"number"==typeof e&&e>=0&&e!==1/0}function tH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tK(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==tQ(o,t.options))return!1}else if(!tW(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof s||t.isStale()===s)&&(void 0===i||i===t.state.fetchStatus)&&(!a||!!a(t))}function tZ(e,t){let{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(tG(t.options.mutationKey)!==tG(a))return!1}else if(!tW(t.options.mutationKey,a))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function tQ(e,t){return(t?.queryKeyHashFn||tG)(e)}function tG(e){return JSON.stringify(e,(e,t)=>t0(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function tW(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!tW(e[r],t[r]))}function tY(e,t){if(e===t)return e;let r=tJ(e)&&tJ(t);if(r||t0(e)&&t0(t)){let n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{},l=0;for(let i=0;i<o;i++){let o=r?i:a[i];!r&&void 0===e[o]&&void 0===t[o]&&n.includes(o)?(s[o]=void 0,l++):(s[o]=tY(e[o],t[o]),s[o]===e[o]&&void 0!==e[o]&&l++)}return i===o&&l===i?e:s}return t}function tX(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function tJ(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function t0(e){if(!t1(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(t1(r)&&r.hasOwnProperty("isPrototypeOf"))}function t1(e){return"[object Object]"===Object.prototype.toString.call(e)}function t2(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?tY(e,t):t}function t4(e){return e}function t6(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function t3(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var t8=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=e=>setTimeout(e,0),a=n=>{t?e.push(n):i(()=>{r(n)})},o=()=>{let t=e;e=[],t.length&&i(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}(),t5=class{constructor(){this.listeners=/* @__PURE__ */new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},t9=new class extends t5{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!tB&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}},t7=new class extends t5{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!tB&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function re(e){return Math.min(1e3*2**e,3e4)}function rt(e){return(e??"online")!=="online"||t7.isOnline()}var rr=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function rn(e){return e instanceof rr}function ri(e){let t,r,n,i=!1,a=0,o=!1,s=new Promise((e,t)=>{r=e,n=t}),l=()=>!t9.isFocused()||"always"!==e.networkMode&&!t7.isOnline(),u=n=>{o||(o=!0,e.onSuccess?.(n),t?.(),r(n))},c=r=>{o||(o=!0,e.onError?.(r),t?.(),n(r))},d=()=>new Promise(r=>{t=e=>{let t=o||!l();return t&&r(e),t},e.onPause?.()}).then(()=>{t=void 0,o||e.onContinue?.()}),f=()=>{let t;if(!o){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(u).catch(t=>{if(o)return;let r=e.retry??(tB?0:3),n=e.retryDelay??re,s="function"==typeof n?n(a,t):n,u=!0===r||"number"==typeof r&&a<r||"function"==typeof r&&r(a,t);if(i||!u){c(t);return}a++,e.onFail?.(a,t),new Promise(e=>{setTimeout(e,s)}).then(()=>{if(l())return d()}).then(()=>{i?c(t):f()})})}};return rt(e.networkMode)?f():d().then(f),{promise:s,cancel:t=>{o||(c(new rr(t)),e.abort?.())},continue:()=>t?.()?s:Promise.resolve(),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}var ra=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tq(this.gcTime)&&(this.#i=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(tB?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},ro=class extends ra{#a;#o;#s;#l;#u;#c;#d;#f;constructor(e){super(),this.#f=!1,this.#d=e.defaultOptions,this.#h(e.options),this.#c=[],this.#s=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#a=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#a,this.scheduleGc()}get meta(){return this.options.meta}#h(e){this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.#c.length||"idle"!==this.state.fetchStatus||this.#s.remove(this)}setData(e,t){let r=t2(this.state.data,e,this.options);return this.#p({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#p({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#l;return this.#u?.cancel(e),t?t.then(tU).catch(tU):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#a)}isActive(){return this.#c.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.#c.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!tH(this.state.dataUpdatedAt,e)}onFocus(){let e=this.#c.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){let e=this.#c.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.#c.includes(e)||(this.#c.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.#c.includes(e)&&(this.#c=this.#c.filter(t=>t!==e),this.#c.length||(this.#u&&(this.#f?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.#c.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#u?.continueRetry(),this.#l}if(e&&this.#h(e),!this.options.queryFn){let e=this.#c.find(e=>e.options.queryFn);e&&this.#h(e.options)}let r=new AbortController,n={queryKey:this.queryKey,meta:this.meta},i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,r.signal)})};i(n);let a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.#f=!1,this.options.persister)?this.options.persister(this.options.queryFn,n,this):this.options.queryFn(n):Promise.reject(Error(`Missing queryFn: '${this.options.queryHash}'`))};i(a),this.options.behavior?.onFetch(a,this),this.#o=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#p({type:"fetch",meta:a.fetchOptions?.meta});let o=e=>{rn(e)&&e.silent||this.#p({type:"error",error:e}),rn(e)||(this.#s.config.onError?.(e,this),this.#s.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#u=ri({fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e){o(Error(`${this.queryHash} data is undefined`));return}this.setData(e),this.#s.config.onSuccess?.(e,this),this.#s.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode}),this.#l=this.#u.promise,this.#l}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:rt(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if(rn(r)&&r.revert&&this.#o)return{...this.#o,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),t8.batch(()=>{this.#c.forEach(e=>{e.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}},rs=class extends t5{constructor(e={}){super(),this.config=e,this.#g=/* @__PURE__ */new Map}#g;build(e,t,r){let n=t.queryKey,i=t.queryHash??tQ(n,t),a=this.get(i);return a||(a=new ro({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#g.has(e.queryHash)||(this.#g.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#g.get(e.queryHash);t&&(e.destroy(),t===e&&this.#g.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){t8.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#g.get(e)}getAll(){return[...this.#g.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>tK(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>tK(e,t)):t}notify(e){t8.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){t8.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){t8.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rl=class extends ra{#c;#d;#m;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#d=e.defaultOptions,this.#m=e.mutationCache,this.#c=[],this.state=e.state||ru(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#c.includes(e)||(this.#c.push(e),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#c=this.#c.filter(t=>t!==e),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#c.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){let t="pending"===this.state.status;try{if(!t){this.#p({type:"pending",variables:e}),await this.#m.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#p({type:"pending",context:t,variables:e})}let r=await (this.#u=ri({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#u.promise);return await this.#m.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#m.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#p({type:"success",data:r}),r}catch(t){try{throw await this.#m.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#m.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#p({type:"error",error:t})}}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!rt(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),t8.batch(()=>{this.#c.forEach(t=>{t.onMutationUpdate(e)}),this.#m.notify({mutation:this,type:"updated",action:e})})}};function ru(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rc=class extends t5{constructor(e={}){super(),this.config=e,this.#v=[],this.#y=0}#v;#y;#b;build(e,t,r){let n=new rl({mutationCache:this,mutationId:++this.#y,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#v.push(e),this.notify({type:"added",mutation:e})}remove(e){this.#v=this.#v.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){t8.batch(()=>{this.#v.forEach(e=>{this.remove(e)})})}getAll(){return this.#v}find(e){let t={exact:!0,...e};return this.#v.find(e=>tZ(t,e))}findAll(e={}){return this.#v.filter(t=>tZ(e,t))}notify(e){t8.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){return this.#b=(this.#b??Promise.resolve()).then(()=>{let e=this.#v.filter(e=>e.state.isPaused);return t8.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(tU)),Promise.resolve()))}).then(()=>{this.#b=void 0}),this.#b}};function rd(e,{pages:t,pageParams:r}){let n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}var rf=class{#x;#m;#d;#w;#C;#S;#j;#A;constructor(e={}){this.#x=e.queryCache||new rs,this.#m=e.mutationCache||new rc,this.#d=e.defaultOptions||{},this.#w=/* @__PURE__ */new Map,this.#C=/* @__PURE__ */new Map,this.#S=0}mount(){this.#S++,1===this.#S&&(this.#j=t9.subscribe(()=>{t9.isFocused()&&(this.resumePausedMutations(),this.#x.onFocus())}),this.#A=t7.subscribe(()=>{t7.isOnline()&&(this.resumePausedMutations(),this.#x.onOnline())}))}unmount(){this.#S--,0===this.#S&&(this.#j?.(),this.#j=void 0,this.#A?.(),this.#A=void 0)}isFetching(e){return this.#x.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#m.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);return void 0!==t?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#x.get(n.queryHash),a=i?.state.data,o="function"==typeof t?t(a):t;if(void 0!==o)return this.#x.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return t8.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state}removeQueries(e){let t=this.#x;t8.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#x,n={type:"active",...e};return t8.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){let r={revert:!0,...t};return Promise.all(t8.batch(()=>this.#x.findAll(e).map(e=>e.cancel(r)))).then(tU).catch(tU)}invalidateQueries(e={},t={}){return t8.batch(()=>{if(this.#x.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){let r={...t,cancelRefetch:t?.cancelRefetch??!0};return Promise.all(t8.batch(()=>this.#x.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(tU)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(tU)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#x.build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tU).catch(tU)}fetchInfiniteQuery(e){var t;return e.behavior=(t=e.pages,{onFetch:(e,r)=>{let n=async()=>{let r;let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[],s=!1,l=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?s=!0:e.signal.addEventListener("abort",()=>{s=!0}),e.signal)})},u=e.options.queryFn||(()=>Promise.reject(Error(`Missing queryFn: '${e.options.queryHash}'`))),c=async(t,r,n)=>{if(s)return Promise.reject();if(null==r&&t.pages.length)return Promise.resolve(t);let i={queryKey:e.queryKey,pageParam:r,direction:n?"backward":"forward",meta:e.options.meta};l(i);let a=await u(i),{maxPages:o}=e.options,c=n?t3:t6;return{pages:c(t.pages,a,o),pageParams:c(t.pageParams,r,o)}};if(i&&a.length){let e="backward"===i,t={pages:a,pageParams:o},s=(e?function(e,{pages:t,pageParams:r}){return e.getPreviousPageParam?.(t[0],t,r[0],r)}:rd)(n,t);r=await c(t,s,e)}else{r=await c({pages:[],pageParams:[]},o[0]??n.initialPageParam);let e=t??a.length;for(let t=1;t<e;t++){let e=rd(n,r);r=await c(r,e)}}return r};e.options.persister?e.fetchFn=()=>e.options.persister?.(n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=n}}),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tU).catch(tU)}resumePausedMutations(){return this.#m.resumePausedMutations()}getQueryCache(){return this.#x}getMutationCache(){return this.#m}getDefaultOptions(){return this.#d}setDefaultOptions(e){this.#d=e}setQueryDefaults(e,t){this.#w.set(tG(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#w.values()],r={};return t.forEach(t=>{tW(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){this.#C.set(tG(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#C.values()],r={};return t.forEach(t=>{tW(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#d.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tQ(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),void 0===t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#d.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#x.clear(),this.#m.clear()}};let rh=(0,w.lazy)(()=>r.e(184).then(r.bind(r,6184)).then(e=>({default:e.ReactQueryDevtools})));function rp(e){let t=t=>{var r;let[n,a]=(0,w.useState)(!1),{notification:o}=m.App.useApp(),s=(r=o,!i&&(i=new rf({defaultOptions:{queries:{refetchOnWindowFocus:!1}},queryCache:new rs({onError:(e,t)=>{console.error(e),e instanceof Q&&console.error("Validation errors:",e.issues),t?.meta&&"errorMessage"in t.meta&&r.error(P(e,t.meta.errorMessage))}}),mutationCache:new rc({onError:(e,t,n,i)=>{console.error(e),e instanceof Q&&console.error("Validation errors:",e.issues),i?.meta&&"errorMessage"in i.meta&&r.error(P(e,i.meta.errorMessage.replaceAll("%s",JSON.stringify(t))))}})})),i);return(0,w.useEffect)(()=>{window.toggleDevtools=()=>a(e=>!e)},[]),(0,g.jsx)(E,{client:s,children:(0,g.jsx)(I,{children:(0,g.jsx)($,{children:(0,g.jsxs)(w.Suspense,{fallback:(0,g.jsx)(p.LoadingBackground,{}),children:[n&&(0,g.jsx)(rh,{initialIsOpen:!1,buttonPosition:"bottom-left"}),(0,g.jsx)(e,{...t})]})})})})};return t.displayName=`withBasQueryClient(${e.displayName??e.name})`,t}function rg(e){let t=(0,p.useTheme)();return(0,g.jsx)(m.Select,{size:"small",css:(0,v.css)`
        div.ant-select-selector {
          background-color: ${t.grayScale[4]} !important;
          border-radius: 10px !important;
          font-size: 12px !important;
          height: 24px !important;
          display: flex !important;
          align-items: center !important;
        }
        span.ant-select-clear {
          background-color: ${t.grayScale[4]} !important;
        }
      `,...e})}function rm(){return(rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}rp.doesProvideQueryClient=!0;let rv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ry(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ry(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rx(e){return(rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rw(e,t,r){var n;return(n=function(e,t){if("object"!=rx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rx(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rx(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rC(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rS=r(6942),rj=/*#__PURE__*/r.n(rS);function rA(e,t){"string"==typeof(r=e)&&-1!==r.indexOf(".")&&1===parseFloat(r)&&(e="100%");var r,n,i="string"==typeof(n=e)&&-1!==n.indexOf("%");return(e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),1e-6>Math.abs(e-t))?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function r_(e){return e<=1?"".concat(100*Number(e),"%"):e}function rk(e){return 1===e.length?"0"+e:String(e)}function rE(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+6*r*(t-e):r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rO(e){return parseInt(e,16)}var rR={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function rT(e){var t,r,n,i,a,o,s,l,u,c,d,f,h,p={r:0,g:0,b:0},g=1,m=null,v=null,y=null,b=!1,x=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(rR[e])e=rR[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var r=rD.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=rD.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=rD.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=rD.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=rD.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=rD.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=rD.hex8.exec(e))?{r:rO(r[1]),g:rO(r[2]),b:rO(r[3]),a:rO(r[4])/255,format:t?"name":"hex8"}:(r=rD.hex6.exec(e))?{r:rO(r[1]),g:rO(r[2]),b:rO(r[3]),format:t?"name":"hex"}:(r=rD.hex4.exec(e))?{r:rO(r[1]+r[1]),g:rO(r[2]+r[2]),b:rO(r[3]+r[3]),a:rO(r[4]+r[4])/255,format:t?"name":"hex8"}:!!(r=rD.hex3.exec(e))&&{r:rO(r[1]+r[1]),g:rO(r[2]+r[2]),b:rO(r[3]+r[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(rP(e.r)&&rP(e.g)&&rP(e.b)?(t=e.r,r=e.g,n=e.b,p={r:255*rA(t,255),g:255*rA(r,255),b:255*rA(n,255)},b=!0,x="%"===String(e.r).substr(-1)?"prgb":"rgb"):rP(e.h)&&rP(e.s)&&rP(e.v)?(m=r_(e.s),v=r_(e.v),i=e.h,a=m,o=v,i=6*rA(i,360),a=rA(a,100),o=rA(o,100),s=Math.floor(i),l=i-s,u=o*(1-a),c=o*(1-l*a),d=o*(1-(1-l)*a),p={r:255*[o,c,u,u,d,o][f=s%6],g:255*[d,o,o,c,u,u][f],b:255*[u,u,d,o,o,c][f]},b=!0,x="hsv"):rP(e.h)&&rP(e.s)&&rP(e.l)&&(m=r_(e.s),y=r_(e.l),p=function(e,t,r){if(e=rA(e,360),t=rA(t,100),r=rA(r,100),0===t)i=r,a=r,n=r;else{var n,i,a,o=r<.5?r*(1+t):r+t-r*t,s=2*r-o;n=rE(s,o,e+1/3),i=rE(s,o,e),a=rE(s,o,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(e.h,m,y),b=!0,x="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(g=e.a)),(isNaN(h=parseFloat(h=g))||h<0||h>1)&&(h=1),g=h,{ok:b,format:e.format||x,r:Math.min(255,Math.max(p.r,0)),g:Math.min(255,Math.max(p.g,0)),b:Math.min(255,Math.max(p.b,0)),a:g}}var rI="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),rM="[\\s|\\(]+(".concat(rI,")[,|\\s]+(").concat(rI,")[,|\\s]+(").concat(rI,")\\s*\\)?"),rF="[\\s|\\(]+(".concat(rI,")[,|\\s]+(").concat(rI,")[,|\\s]+(").concat(rI,")[,|\\s]+(").concat(rI,")\\s*\\)?"),rD={CSS_UNIT:new RegExp(rI),rgb:RegExp("rgb"+rM),rgba:RegExp("rgba"+rF),hsl:RegExp("hsl"+rM),hsla:RegExp("hsla"+rF),hsv:RegExp("hsv"+rM),hsva:RegExp("hsva"+rF),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function rP(e){return!!rD.CSS_UNIT.exec(String(e))}var rL=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function rN(e){var t=function(e,t,r){var n=Math.max(e=rA(e,255),t=rA(t,255),r=rA(r,255)),i=Math.min(e,t,r),a=0,o=n-i;if(n===i)a=0;else{switch(n){case e:a=(t-r)/o+(t<r?6:0);break;case t:a=(r-e)/o+2;break;case r:a=(e-t)/o+4}a/=6}return{h:a,s:0===n?0:o/n,v:n}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function rz(e){var t=e.r,r=e.g,n=e.b;return"#".concat([rk(Math.round(t).toString(16)),rk(Math.round(r).toString(16)),rk(Math.round(n).toString(16))].join(""))}function rV(e,t,r){var n;return(n=Math.round(e.h)>=60&&240>=Math.round(e.h)?r?Math.round(e.h)-2*t:Math.round(e.h)+2*t:r?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:n>=360&&(n-=360),n}function r$(e,t,r){var n;return 0===e.h&&0===e.s?e.s:((n=r?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(n=1),r&&5===t&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)))}function rB(e,t,r){var n;return(n=r?e.v+.05*t:e.v-.15*t)>1&&(n=1),Number(n.toFixed(2))}var rU=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];rU.primary=rU[5];var rq=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];rq.primary=rq[5];var rH=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];rH.primary=rH[5];var rK=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];rK.primary=rK[5];var rZ=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];rZ.primary=rZ[5];var rQ=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];rQ.primary=rQ[5];var rG=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];rG.primary=rG[5];var rW=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];rW.primary=rW[5];var rY=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];rY.primary=rY[5];var rX=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];rX.primary=rX[5];var rJ=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];rJ.primary=rJ[5];var r0=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];r0.primary=r0[5];var r1=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];r1.primary=r1[5];var r2=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];r2.primary=r2[5];var r4=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];r4.primary=r4[5];var r6=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];r6.primary=r6[5];var r3=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];r3.primary=r3[5];var r8=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];r8.primary=r8[5];var r5=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];r5.primary=r5[5];var r9=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];r9.primary=r9[5];var r7=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];r7.primary=r7[5];var ne=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];ne.primary=ne[5];var nt=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];nt.primary=nt[5];var nr=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];nr.primary=nr[5];var nn=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];nn.primary=nn[5];var ni=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];ni.primary=ni[5];var na=/*#__PURE__*/(0,w.createContext)({});function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach(function(t){rw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var nl="data-rc-order",nu="data-rc-priority",nc=new Map;function nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):"rc-util-key"}function nf(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function nh(e){return Array.from((nc.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function np(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!("undefined"!=typeof window&&window.document&&window.document.createElement))return null;var r=t.csp,n=t.prepend,i=t.priority,a=void 0===i?0:i,o="queue"===n?"prependQueue":n?"prepend":"append",s="prependQueue"===o,l=document.createElement("style");l.setAttribute(nl,o),s&&a&&l.setAttribute(nu,"".concat(a)),null!=r&&r.nonce&&(l.nonce=null==r?void 0:r.nonce),l.innerHTML=e;var u=nf(t),c=u.firstChild;if(n){if(s){var d=(t.styles||nh(u)).filter(function(e){return!!["prepend","prependQueue"].includes(e.getAttribute(nl))&&a>=Number(e.getAttribute(nu)||0)});if(d.length)return u.insertBefore(l,d[d.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function ng(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}var nm={},nv=[];function ny(e,t){}function nb(e,t){}function nx(e,t,r){t||nm[r]||(e(!1,r),nm[r]=!0)}function nw(e,t){nx(ny,e,t)}function nC(e){return"object"===rx(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===rx(e.icon)||"function"==typeof e.icon)}function nS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var n=e[r];return"class"===r?(t.className=n,delete t.class):(delete t[r],t[r.replace(/-(.)/g,function(e,t){return t.toUpperCase()})]=n),t},{})}function nj(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=rT(e),i=5;i>0;i-=1){var a=rN(n),o=rz(rT({h:rV(a,i,!0),s:r$(a,i,!0),v:rB(a,i,!0)}));r.push(o)}r.push(rz(n));for(var s=1;s<=4;s+=1){var l=rN(n),u=rz(rT({h:rV(l,s),s:r$(l,s),v:rB(l,s)}));r.push(u)}return"dark"===t.theme?rL.map(function(e){var n,i,a,o=e.index,s=e.opacity;return rz((n=rT(t.backgroundColor||"#141414"),i=rT(r[o]),a=100*s/100,{r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b}))}):r}(e)[0]}function nA(e){return e?Array.isArray(e)?e:[e]:[]}nw.preMessage=function(e){nv.push(e)},nw.resetWarned=function(){nm={}},nw.noteOnce=function(e,t){nx(nb,e,t)};var n_=function(e){var t=(0,w.useContext)(na),r=t.csp,n=t.prefixCls,i="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";n&&(i=i.replace(/anticon/g,n)),(0,w.useEffect)(function(){var t,n=ng(t=e.current)instanceof ShadowRoot?ng(t):null;!function(e,t){var r,n,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=nf(a),s=nh(o),l=ns(ns({},a),{},{styles:s});!function(e,t){var r=nc.get(e);if(!r||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}(document,r)){var n=np("",t),i=n.parentNode;nc.set(e,i),e.removeChild(n)}}(o,l);var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=nf(t);return(t.styles||nh(r)).find(function(r){return r.getAttribute(nd(t))===e})}(t,l);if(u)return null!==(r=l.csp)&&void 0!==r&&r.nonce&&u.nonce!==(null===(n=l.csp)||void 0===n?void 0:n.nonce)&&(u.nonce=null===(i=l.csp)||void 0===i?void 0:i.nonce),u.innerHTML!==e&&(u.innerHTML=e);np(e,l).setAttribute(nd(l),t)}(i,"@ant-design-icons",{prepend:!0,csp:r,attachTo:n})},[])},nk=["icon","className","onClick","style","primaryColor","secondaryColor"],nE={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},nO=function(e){var t,r,n=e.icon,i=e.className,a=e.onClick,o=e.style,s=e.primaryColor,l=e.secondaryColor,u=rC(e,nk),c=w.useRef(),d=nE;if(s&&(d={primaryColor:s,secondaryColor:l||nj(s)}),n_(c),t=nC(n),r="icon should be icon definiton, but got ".concat(n),nw(t,"[@ant-design/icons] ".concat(r)),!nC(n))return null;var f=n;return f&&"function"==typeof f.icon&&(f=ns(ns({},f),{},{icon:f.icon(d.primaryColor,d.secondaryColor)})),function e(t,r,n){return n?/*#__PURE__*/C().createElement(t.tag,ns(ns({key:r},nS(t.attrs)),n),(t.children||[]).map(function(n,i){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(i))})):/*#__PURE__*/C().createElement(t.tag,ns({key:r},nS(t.attrs)),(t.children||[]).map(function(n,i){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(i))}))}(f.icon,"svg-".concat(f.name),ns(ns({className:i,onClick:a,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:c}))};function nR(e){var t=rb(nA(e),2),r=t[0],n=t[1];return nO.setTwoToneColors({primaryColor:r,secondaryColor:n})}nO.displayName="IconReact",nO.getTwoToneColors=function(){return ns({},nE)},nO.setTwoToneColors=function(e){var t=e.primaryColor,r=e.secondaryColor;nE.primaryColor=t,nE.secondaryColor=r||nj(t),nE.calculated=!!r};var nT=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];nR(rY.primary);var nI=/*#__PURE__*/w.forwardRef(function(e,t){var r=e.className,n=e.icon,i=e.spin,a=e.rotate,o=e.tabIndex,s=e.onClick,l=e.twoToneColor,u=rC(e,nT),c=w.useContext(na),d=c.prefixCls,f=void 0===d?"anticon":d,h=c.rootClassName,p=rj()(h,f,rw(rw({},"".concat(f,"-").concat(n.name),!!n.name),"".concat(f,"-spin"),!!i||"loading"===n.name),r),g=o;void 0===g&&s&&(g=-1);var m=rb(nA(l),2),v=m[0],y=m[1];return /*#__PURE__*/w.createElement("span",rm({role:"img","aria-label":n.name},u,{ref:t,tabIndex:g,onClick:s,className:p}),/*#__PURE__*/w.createElement(nO,{icon:n,primaryColor:v,secondaryColor:y,style:a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0}))});nI.displayName="AntdIcon",nI.getTwoToneColor=function(){var e=nO.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},nI.setTwoToneColor=nR;var nM=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:rv}))});let nF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};var nD=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:nF}))});function nP({children:e,isDisabled:t,isExpanded:r,expandedTitle:n,collapsedTitle:i,onToggled:a,style:o}){let s=(0,p.useTheme)();return(0,g.jsxs)(w.Fragment,{children:[(0,g.jsxs)("div",{style:{display:r?"flex":"none",flexDirection:"column",backgroundColor:s.alternateBackgroundColor,borderRight:`1px solid ${s.cellBorderColor}`,borderBottom:`1px solid ${s.cellBorderColor}`,height:"100%",...o},children:[(0,g.jsxs)("div",{onClick:()=>a(!1),style:{backgroundColor:s.alternateBackgroundColor,borderBottom:`1px solid ${s.grayScale[5]}`,display:"flex",justifyContent:"space-between",alignItems:"center",height:24,cursor:"pointer",color:s.textColor,padding:"0 8px 0 8px"},role:"button",children:[(0,g.jsx)("div",{style:{textTransform:"uppercase",fontSize:"11px",width:"100%"},children:n}),(0,g.jsx)("div",{children:!t&&(0,g.jsx)(nM,{})})]}),(0,g.jsx)("div",{style:{height:"calc(100% - 24px)",display:"flex",flexDirection:"column",padding:"0px 10px",overflow:"auto"},children:e})]}),(0,g.jsxs)("div",{onClick:()=>a(!0),style:{display:r?"none":"block",height:"100%",borderRight:`1px solid ${s.cellBorderColor}`,borderBottom:`1px solid ${s.cellBorderColor}`,backgroundColor:s.alternateBackgroundColor,cursor:"pointer",width:34},role:"button",children:[(0,g.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:24,color:s.textColor,borderBottom:`1px solid ${s.grayScale[5]}`},children:(0,g.jsx)(nD,{})}),(0,g.jsx)("div",{style:{whiteSpace:"nowrap",textAlign:"center"},children:(0,g.jsx)("div",{style:{display:"inline-block",justifyContent:"center",width:34,alignItems:"center",marginTop:92,transform:"rotate(-90deg)",color:s.textColor,textTransform:"uppercase"},children:i})})]})]})}function nL(e){return(0,g.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...e.style},children:(0,g.jsx)(m.Spin,{size:"large",delay:700,...e})})}function nN({children:e,...t}){return(0,g.jsx)(w.Suspense,{fallback:(0,g.jsx)(nL,{...t}),children:e})}let nz=({className:e,direction:t="row",dragHandleStyle:r,minSize:n,onResizeEnd:i,size:a,style:o,firstChildStyle:s,secondChildStyle:l,isResizingDisabled:u,children:c})=>{let d=(0,p.useTheme)(),f=(0,w.useRef)(null),h=(0,w.useRef)(null),m="row"===t;return(0,g.jsxs)("div",{ref:f,className:e,style:o,css:(0,v.css)`
        display: flex;
        flex-direction: ${t};
        height: 100%;
        width: 100%;
      `,children:[(0,g.jsx)("div",{ref:h,className:"resizable-first-child",style:{flexShrink:0,[m?"width":"height"]:`${a}px`,...s,overflow:"hidden"},children:c[0]}),u?null:(0,g.jsx)("div",{style:r,css:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:d.grayScale[6],opacity:.4,position:"relative",...m?{height:"100%",width:1}:{width:"100%",height:1}},children:(0,g.jsx)("div",{draggable:!0,onDragStart:e=>{e.preventDefault();let{userSelect:t}=document.body.style;document.body.style.userSelect="none";let r=e=>{if(f.current&&h.current){let t=e[m?"clientX":"clientY"]-f.current.getBoundingClientRect()[m?"left":"top"],r=f.current.getBoundingClientRect()[m?"width":"height"];h.current.style[m?"width":"height"]=`${Math.min(Math.max(t,n),r-n)}px`}},a=()=>{document.body.style.userSelect=t,h.current&&i(parseInt(h.current.style[m?"width":"height"].replace("px",""))),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",a)},css:{position:"absolute",...m?{left:-5,height:"100%",width:11,cursor:"col-resize"}:{top:-5,width:"100%",height:11,cursor:"row-resize"},transition:"background 300ms",opacity:.5,":hover":{background:d.grayScale[6]}}})}),(0,g.jsx)("div",{css:(0,v.css)`
          flex-grow: 1;
          overflow: ${"row"===t?"hidden":"auto"};
        `,style:l,children:c[1]})]})};function nV({children:e,fallbackComponent:t}){let[r,n]=(0,w.useState)(!1);return(0,g.jsx)("span",{onMouseEnter:()=>!r&&n(!0),children:r?e:t})}function n$({children:e,icon:t,style:r,...n}){let{maxWidth:i,width:a,textOverflow:o,overflow:s,...l}=r??{};return(0,g.jsxs)("div",{style:{border:"1px solid",padding:"0px 4px",width:"max-content",display:"flex",minWidth:0,...l},...n,children:[t&&(0,g.jsx)("span",{style:{display:"inline-flex",alignItems:"center",paddingRight:4},children:t}),(0,g.jsx)("span",{style:{maxWidth:i,width:a,textOverflow:o,overflow:s},children:e})]})}function nB({onCancel:e,expectedDuration:t}){return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",gap:8},children:[(0,g.jsx)(nL,{}),(0,g.jsxs)(j,{delay:t,children:[(0,g.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:"This is taking longer than expected."}),(0,g.jsx)(m.Button,{style:{width:"fit-content"},onClick:()=>{e()},children:"Cancel"})]})]})}let nU=tz.object({value:tz.any(),expirationDate:tz.number().nullable()}),nq=tz.preprocess(e=>nU.safeParse(e).success?e:{value:e,expirationDate:null},nU);function nH({storageKey:e,initialState:t,storageType:r,doClearOnInitialization:n,timeToLive:i}){let a;let o="session"===r?window.sessionStorage:window.localStorage,s=e?["activeviam",e].join("-"):void 0,l=(0,w.useRef)(),u=void 0!==s;if((0,w.useState)(()=>{n&&u&&o.removeItem(s)}),u){let e=o.getItem(s);if(e){let t=JSON.parse(e),r=nq.parse(t),n=r.expirationDate;n&&n<Date.now()?o.removeItem(s):a=r}}let[c,d]=(0,w.useState)(a?a.value:t);return(0,w.useEffect)(()=>{l.current=c},[c]),[c,(0,w.useCallback)(e=>{let t=e instanceof Function?e(l.current):e;d(t),u&&(void 0!==t?o.setItem(s,JSON.stringify({value:t,expirationDate:i?Date.now()+i:null})):o.removeItem(s))},[s,u,o,i]),()=>{u&&o.removeItem(s)}]}function nK({storageKey:e,initialState:t,doClearOnInitialization:r,timeToLive:n}){return nH({storageKey:e,initialState:t,storageType:"local",doClearOnInitialization:r,timeToLive:n})}function nZ({storageKey:e,initialState:t,doClearOnInitialization:r}){return nH({storageKey:e,initialState:t,storageType:"session",doClearOnInitialization:r})}function nQ(){let e=(0,w.useRef)(null),t=e.current;return{elementRef:e,isOverflowing:!!t&&t.offsetWidth<t.scrollWidth}}let nG={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};var nW=class extends t5{constructor(e,t){super(),this.options=t,this.#_=e,this.#k=null,this.bindMethods(),this.setOptions(t)}#_;#E=void 0;#O=void 0;#R=void 0;#T;#I;#k;#M;#F;#D;#P;#L;#N;#z=/* @__PURE__ */new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#E.addObserver(this),nY(this.#E,this.options)?this.#V():this.updateResult(),this.#$())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nX(this.#E,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nX(this.#E,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=/* @__PURE__ */new Set,this.#B(),this.#U(),this.#E.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.#E;if(this.options=this.#_.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.#q(),tX(this.options,r)||this.#_.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#E,observer:this});let i=this.hasListeners();i&&nJ(this.#E,n,this.options,r)&&this.#V(),this.updateResult(t),i&&(this.#E!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.#H();let a=this.#K();i&&(this.#E!==n||this.options.enabled!==r.enabled||a!==this.#N)&&this.#Z(a)}getOptimisticResult(e){let t=this.#_.getQueryCache().build(this.#_,e),r=this.createResult(t,e);return tX(this.getCurrentResult(),r)||(this.#R=r,this.#I=this.options,this.#T=this.#E.state),r}getCurrentResult(){return this.#R}trackResult(e){let t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.#z.add(r),e[r])})}),t}getCurrentQuery(){return this.#E}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#_.defaultQueryOptions(e),r=this.#_.getQueryCache().build(this.#_,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#V({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#R))}#V(e){this.#q();let t=this.#E.fetch(this.options,e);return e?.throwOnError||(t=t.catch(tU)),t}#H(){if(this.#B(),tB||this.#R.isStale||!tq(this.options.staleTime))return;let e=tH(this.#R.dataUpdatedAt,this.options.staleTime);this.#P=setTimeout(()=>{this.#R.isStale||this.updateResult()},e+1)}#K(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#E):this.options.refetchInterval)??!1}#Z(e){this.#U(),this.#N=e,!tB&&!1!==this.options.enabled&&tq(this.#N)&&0!==this.#N&&(this.#L=setInterval(()=>{(this.options.refetchIntervalInBackground||t9.isFocused())&&this.#V()},this.#N))}#$(){this.#H(),this.#Z(this.#K())}#B(){this.#P&&(clearTimeout(this.#P),this.#P=void 0)}#U(){this.#L&&(clearInterval(this.#L),this.#L=void 0)}createResult(e,t){let r;let n=this.#E,i=this.options,a=this.#R,o=this.#T,s=this.#I,l=e!==n?e.state:this.#O,{state:u}=e,{error:c,errorUpdatedAt:d,fetchStatus:f,status:h}=u,p=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&nY(e,t),o=r&&nJ(e,n,t,i);(a||o)&&(f=rt(e.options.networkMode)?"fetching":"paused",u.dataUpdatedAt||(h="pending")),"isRestoring"===t._optimisticResults&&(f="idle")}if(t.select&&void 0!==u.data){if(a&&u.data===o?.data&&t.select===this.#M)r=this.#F;else try{this.#M=t.select,r=t.select(u.data),r=t2(a?.data,r,t),this.#F=r,this.#k=null}catch(e){this.#k=e}}else r=u.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===h){let e;if(a?.isPlaceholderData&&t.placeholderData===s?.placeholderData)e=a.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#D?.state.data,this.#D):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#k=null}catch(e){this.#k=e}void 0!==e&&(h="success",r=t2(a?.data,e,t),p=!0)}this.#k&&(c=this.#k,r=this.#F,d=Date.now(),h="error");let g="fetching"===f,m="pending"===h,v="error"===h,y=m&&g;return{status:h,fetchStatus:f,isPending:m,isSuccess:"success"===h,isError:v,isInitialLoading:y,isLoading:y,data:r,dataUpdatedAt:u.dataUpdatedAt,error:c,errorUpdatedAt:d,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:v&&0===u.dataUpdatedAt,isPaused:"paused"===f,isPlaceholderData:p,isRefetchError:v&&0!==u.dataUpdatedAt,isStale:n0(e,t),refetch:this.refetch}}updateResult(e){let t=this.#R,r=this.createResult(this.#E,this.options);if(this.#T=this.#E.state,this.#I=this.options,void 0!==this.#T.data&&(this.#D=this.#E),tX(r,t))return;this.#R=r;let n={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#z.size)return!0;let n=new Set(r??this.#z);return this.options.throwOnError&&n.add("error"),Object.keys(this.#R).some(e=>this.#R[e]!==t[e]&&n.has(e))})()&&(n.listeners=!0),this.#Q({...n,...e})}#q(){let e=this.#_.getQueryCache().build(this.#_,this.options);if(e===this.#E)return;let t=this.#E;this.#E=e,this.#O=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#$()}#Q(e){t8.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#R)}),this.#_.getQueryCache().notify({query:this.#E,type:"observerResultsUpdated"})})}};function nY(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&nX(e,t,t.refetchOnMount)}function nX(e,t,r){if(!1!==t.enabled){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&n0(e,t)}return!1}function nJ(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&n0(e,r)}function n0(e,t){return e.isStaleByTime(t.staleTime)}var n1=w.createContext(!1),n2=()=>w.useContext(n1);function n4(e,t){return"function"==typeof e?e(...t):!!e}n1.Provider;var n6=(e,t)=>{(e.suspense||e.throwOnError)&&!t.isReset()&&(e.retryOnMount=!1)},n3=e=>{w.useEffect(()=>{e.clearReset()},[e])},n8=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&n4(r,[e.error,n]),n5=(e,t)=>void 0===t.state.data,n9=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},n7=(e,t)=>e.isLoading&&e.isFetching&&!t,ie=(e,t)=>e?.suspense&&t.isPending,it=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ir(e,t,r){let n=k(r),i=n2(),a=T(),o=n.defaultQueryOptions(e);o._optimisticResults=i?"isRestoring":"optimistic",n9(o),n6(o,a),n3(a);let[s]=w.useState(()=>new t(n,o)),l=s.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(e=>{let t=i?()=>void 0:s.subscribe(t8.batchCalls(e));return s.updateResult(),t},[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),w.useEffect(()=>{s.setOptions(o,{listeners:!1})},[o,s]),ie(o,l))throw it(o,s,a);if(n8({result:l,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:s.trackResult(l)}function ii(e,t){return ir(e,nW,t)}var ia=r(6993);let io=function(e,t){return(0,ia.A)(e,t)},is={},il=e=>{let{eventHandlers:t,url:r,queryKey:n,queryFamily:i,timeToLiveInMs:a,onError:o,enabled:s}=e,{notification:l}=m.App.useApp();is[i]&&(is[i].isMounted=!0);let u=(0,w.useCallback)(e=>{if(is[i]){let{eventSource:t,timeout:r}=is[i];e||void 0===r||clearTimeout(r),t.close(),delete is[i]}},[i]);if((0,w.useEffect)(()=>{s||u(!1)},[s,u]),(0,B.useBeforeUnload)(()=>{u(!1)}),s&&(void 0===is[i]||!io(n,is[i]?.queryKey))){u(!1);let e=new EventSource(r,{withCredentials:!0});Object.entries(t).forEach(([t,r])=>{e.addEventListener(t,r)}),e.onerror=()=>{o?.(),l.error({message:"Connection error",description:"Refresh the page to retry"}),u(!1)},is[i]={eventSource:e,queryKey:n,isMounted:!0,isStale:void 0===a,timeout:void 0!==a?setTimeout(()=>{is[i].isStale=!0,is[i].isMounted||u(!0)},a):void 0}}(0,w.useEffect)(()=>()=>{is[i]&&(is[i].isMounted=!1,is[i].isStale&&u(!1))},[i,u])};function iu(e){return e&&e.requestInit||{}}function ic(e){let t=(0,p.useAtotiClient)(e),r=t?.url,n=iu(t);return(0,w.useCallback)(async e=>{let t=await fetch(`${r}${e}`,n);return await t$(t),t},[r,n])}function id(e){let t=(0,p.useAtotiClient)(e),r=t?.url,n=iu(t);return(0,w.useCallback)(async(e,t)=>{let i=await fetch(`${r}${e}`,{...n,headers:{...t?.headers||{},...n.headers||{}},method:"POST",body:t?.body});return await t$(i),i},[r,n])}async function ih(e,t){let r=e.headers.get("content-type");if(!r||!r.includes("application/json"))throw Error(`Response is not of type 'application/json' but ${r}`);if(t){if(e.ok)return e.text();throw Error(await e.text())}return await e.json()}function ip(e){let t=ic(e);return(0,w.useCallback)(async e=>ih(await t(e)),[t])}function ig(e){let t=function(e){let t=id(e);return(0,w.useCallback)(async(e,r)=>t(e,{body:JSON.stringify(r?.body),headers:{Accept:"application/json","Content-Type":"application/json",...r?.headers||{}}}),[t])}(e);return(0,w.useCallback)(async(e,r)=>ih(await t(e,r),r?.options?.hasTextResponse),[t])}function im(e){let t=(0,p.useAtotiClient)(e),r=t?.url,n=iu(t);return(0,w.useCallback)(async(e,t)=>{let i=await fetch(`${r}${e}`,{...n,headers:{...t?.headers||{},...n.headers||{}},method:"DELETE",body:JSON.stringify(t?.body)});return await t$(i),i},[r,n])}function iv({serverKey:e}){let t=ig(e),r=(0,p.useAtotiClient)(e),n=r?.serviceVersion,i=n?.restPath;return(0,w.useCallback)(async(e,r)=>await t(`${i}/cube/query/mdx`,{body:{mdx:e,context:r}}),[t,i])}r(9450);var iy=class extends t5{#_;#R=void 0;#G;#W;constructor(e,t){super(),this.#_=e,this.setOptions(t),this.bindMethods(),this.#Y()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#_.defaultMutationOptions(e),tX(this.options,t)||this.#_.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#G,observer:this}),t?.mutationKey&&this.options.mutationKey&&tG(t.mutationKey)!==tG(this.options.mutationKey)?this.reset():this.#G?.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#G?.removeObserver(this)}onMutationUpdate(e){this.#Y(),this.#Q(e)}getCurrentResult(){return this.#R}reset(){this.#G?.removeObserver(this),this.#G=void 0,this.#Y(),this.#Q()}mutate(e,t){return this.#W=t,this.#G?.removeObserver(this),this.#G=this.#_.getMutationCache().build(this.#_,this.options),this.#G.addObserver(this),this.#G.execute(e)}#Y(){let e=this.#G?.state??ru();this.#R={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#Q(e){t8.batch(()=>{if(this.#W&&this.hasListeners()){let t=this.#R.variables,r=this.#R.context;e?.type==="success"?(this.#W.onSuccess?.(e.data,t,r),this.#W.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#W.onError?.(e.error,t,r),this.#W.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#R)})})}};function ib(e,t){let r=k(t),[n]=w.useState(()=>new iy(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);let i=w.useSyncExternalStore(w.useCallback(e=>n.subscribe(t8.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=w.useCallback((e,t)=>{n.mutate(e,t).catch(ix)},[n]);if(i.error&&n4(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function ix(){}let iw=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};function iC({cellSet:e,lastLevelKeys:t}){if(t&&e){let r={};return t.forEach(e=>{r[e]={}}),e.axes[0].positions.forEach(e=>{e.forEach((e,n)=>{"AllMember"!==iw(e.namePath)&&(r[t[n]][e.namePath.join(",")]=e)})}),r}}function iS(e,t,r,n,i){let a=Object.entries(e),o=a.map(([e,r])=>{let[n,o,s]=e.split("@"),l=(0,p.getHierarchy)({dimensionName:s,hierarchyName:o},t),u=!!(l&&l.slicing),c=(i??[]).filter(e=>"AllMember"!==e).length,d=r.length-c,f=i?1:2;d>f&&(d=f);let h=`Hierarchize(
        Descendants(
        {
          [${s}].[${o}].${i?i.map(e=>`[${e}]`).join("."):u?`[${n}].Members`:"[ALL].[AllMember]"}
      },
          ${d},
          SELF_AND_BEFORE
        )
      )`;return`(${a.map(([r])=>{if(r===e)return h;{let[,e,n]=r.split("@"),i=(0,p.getHierarchy)({dimensionName:n,hierarchyName:e},t),a=!!(i&&i.slicing);return`[${n}].[${e}].${a?"DefaultMember":"[ALL].[AllMember]"}`}}).join(",")})
`}).map(e=>`TOPCOUNT(${e}, ${n})`),s=r.map(e=>`FROM (
      SELECT
      Except(
        [${e.dimensionName}].[${e.hierarchyName}].Members,
    [${e.dimensionName}].[${e.hierarchyName}].[ALL].${e.namePath.map(e=>`[${e}]`).join(".")})
    ON COLUMNS`);return`SELECT  
  ${o.join("+")}
      ON ROWS
      ${s.join(" ")} FROM [${t.name}]${s.map(()=>")").join("")}`}let ij="getMembers";var iA=r(3149),i_=r(1917);let ik=function(){return i_.A.Date.now()};var iE=/\s/;let iO=function(e){for(var t=e.length;t--&&iE.test(e.charAt(t)););return t};var iR=/^\s+/,iT=r(1882),iI=0/0,iM=/^[-+]0x[0-9a-f]+$/i,iF=/^0b[01]+$/i,iD=/^0o[0-7]+$/i,iP=parseInt;let iL=function(e){if("number"==typeof e)return e;if((0,iT.A)(e))return iI;if((0,iA.A)(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=(0,iA.A)(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,iO(t)+1).replace(iR,""):t;var n=iF.test(e);return n||iD.test(e)?iP(e.slice(2),n?2:8):iM.test(e)?iI:+e};var iN=Math.max,iz=Math.min;let iV=function(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function h(t){var r=n,a=i;return n=i=void 0,u=t,o=e.apply(a,r)}function p(e){var r=e-l,n=e-u;return void 0===l||r>=t||r<0||d&&n>=a}function g(){var e,r,n,i=ik();if(p(i))return m(i);s=setTimeout(g,(e=i-l,r=i-u,n=t-e,d?iz(n,a-r):n))}function m(e){return(s=void 0,f&&n)?h(e):(n=i=void 0,o)}function v(){var e,r=ik(),a=p(r);if(n=arguments,i=this,l=r,a){if(void 0===s)return u=e=l,s=setTimeout(g,t),c?h(e):o;if(d)return clearTimeout(s),s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),o}return t=iL(t)||0,(0,iA.A)(r)&&(c=!!r.leading,a=(d="maxWait"in r)?iN(iL(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=i=s=void 0},v.flush=function(){return void 0===s?o:m(ik())},v};function i$(){let e=(0,p.useAtotiClients)();return(0,w.useCallback)(t=>!!t&&!!e[t]&&"disconnected"!==e[t].connectionStatus,[e])}function iB(){let e=i$(),t=(0,p.useDataModels)();return(0,w.useCallback)(r=>e(r)&&!t[r],[t,e])}var iU=r(6912),iq=r(241),iH=r(2274),iK=r(2049),iZ=iq.A?iq.A.isConcatSpreadable:void 0;let iQ=function(e){return(0,iK.A)(e)||(0,iH.A)(e)||!!(iZ&&e&&e[iZ])},iG=function e(t,r,n,i,a){var o=-1,s=t.length;for(n||(n=iQ),a||(a=[]);++o<s;){var l=t[o];r>0&&n(l)?r>1?e(l,r-1,n,i,a):(0,iU.A)(a,l):i||(a[a.length]=l)}return a},iW=function(e){return(null==e?0:e.length)?iG(e,1):[]},iY=[e=>e?{color:"#3c89e8",background:"#111a2c",borderColor:"#15325b"}:{color:"#0D47A1",background:"#E3F2FD",borderColor:"#90CAF9"},e=>e?{color:"#e89a3c",background:"#2b1d11",borderColor:"#593815"}:{color:"#E65100",background:"#FFE0B2",borderColor:"#FFCC80"},e=>e?{color:"#33bcb7",background:"#112123",borderColor:"#144848"}:{color:"#006064",background:"#E0F7FA",borderColor:"#4DD0E1"},e=>e?{color:"#6abe39",background:"#162312",borderColor:"#274916"}:{color:"#1B5E20",background:"#E8F5E9",borderColor:"#81C784"},e=>e?{color:"#e8d639",background:"#2b2611",borderColor:"#595014"}:{color:"#F57F17",background:"#FFF9C4",borderColor:"#FFEB3B"},e=>e?{color:"#854eca",background:"#1a1325",borderColor:"#301c4d"}:{color:"#6A1B9A",background:"#F3E5F5",borderColor:"#BA68C8"},e=>e?{color:"#e0529c",background:"#291321",borderColor:"#551c3b"}:{color:"#880E4F",background:"#FCE4EC",borderColor:"#FFCDD2"},e=>e?{color:"#D7CCC8",background:"#3E2723",borderColor:"rgb(61 61 61)"}:{color:"#3E2723",background:"#D7CCC8",borderColor:"#A1887F"},e=>e?{color:"#EEEEEE",background:"#212121",borderColor:"rgb(55 55 55)"}:{color:"#212121",background:"#EEEEEE",borderColor:"#BDBDBD"}];function iX({title:e,collapsedTitle:t=e,id:r,drawerNode:n,children:i}){let a=(0,p.useTheme)(),[o,s]=nK({storageKey:`${r}-expanded`,initialState:!0}),[l,u]=nK({storageKey:`${r}-drawer-width`,initialState:o?500:34});return(0,g.jsx)("div",{style:{backgroundColor:a.backgroundColor,display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,g.jsxs)(nz,{style:{height:"100%",background:a.backgroundColor},minSize:400,onResizeEnd:u,isResizingDisabled:!o,size:o?l:34,children:[(0,g.jsx)(nP,{collapsedTitle:t,expandedTitle:e,isExpanded:o,onToggled:s,style:{width:"100%"},children:(0,g.jsx)("div",{style:{scrollBehavior:"smooth",height:"100%",backgroundColor:a.alternateBackgroundColor,marginTop:8,...o?{}:{paddingTop:10}},children:n})}),(0,g.jsx)("div",{style:{width:"100%",height:"100%",backgroundColor:a.backgroundColor,position:"relative"},children:i})]})})}function iJ({title:e,actions:t,children:r}){let n=(0,p.useTheme)();return(0,g.jsxs)("div",{style:{backgroundColor:n.backgroundColor,paddingTop:8,paddingLeft:20,paddingRight:8,paddingBottom:8,gap:8,height:"100%",display:"flex",flexDirection:"column"},children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)("div",{style:{fontSize:"large"},children:e}),(0,g.jsx)("div",{children:t})]}),r]})}function i0(e,t){let r=[];return e&&e.length>0&&e.forEach(e=>{let n=t?[]:["AllMember"];Object.values(e).forEach(e=>{"AllMember"!==e&&n.push(e)}),r.push(n)}),r}let i1=["toBeLazyLoaded"],i2=(e,t)=>!t&&1===e.length,i4=(e,t,r)=>{let n=e,i=r;for(let e of t){if(!i[e])return;let{children:t,index:r}=i[e];n.children&&(n=n.children[r]),i=t}return n},i6=({tree:e,selectedNamePaths:t,selectedPaths:r,searchValue:n,pathToSearchedElement:i=[],paths:a=[]})=>{e.path=a;let o=t.findIndex(t=>e.namePath.every((r,n)=>e.namePath.length===t.length&&r===t[n]));-1!==o&&e.namePath.length>0&&(r.push(a),t.splice(o,1)),n&&e.caption?.toLowerCase().includes(n.toLowerCase())&&a.forEach((e,t)=>{let r=a.slice(0,t+1);i.every(e=>!io(e,r))&&i.push(r)}),e.children&&e.children.forEach((e,o)=>{i6({tree:e,selectedNamePaths:t,selectedPaths:r,searchValue:n,pathToSearchedElement:i,paths:[...a,o]})})};function i3({members:e,numberOfLevels:t,isHierarchySlicing:r,selectedValues:n,search:i,scopeCaption:a}){let o={caption:"root",captionPath:[],isFolder:!0,namePath:[],children:[],path:[]},s=[],l=i0(n,r),u={};e.forEach(({namePath:e,captionPath:n,properties:i})=>{!function e({captionPath:t,namePath:r,tree:n,isHierarchySlicing:i,indexes:a,numberOfLevels:o,properties:s,scopeCaption:l}){if(!i2(r,i)){let u=r.slice(0,-1),c=i?u:u.slice(1),d=r[r.length-1],f=t[t.length-1],h=i4(n,c,a);if(h||(e({captionPath:t.slice(0,-1),namePath:u,tree:n,isHierarchySlicing:i,indexes:a,numberOfLevels:o,properties:s,scopeCaption:l}),h=i4(n,c,a)),h){h.isFolder=!0,(!h.children||h.children.some(e=>e.captionPath===i1))&&(h.children=[]);let e=c.reduce((e,t)=>e[t]?e[t].children:e,a);e[d]={index:Object.keys(e).length,children:{}};let n=r.filter(e=>"AllMember"!==e).length<o,i=s?.isLeaf||"number"==typeof s?.CHILDREN_CARDINALITY&&0===s.CHILDREN_CARDINALITY;h.children.push({caption:f,captionPath:t,isFolder:n,children:n?[{captionPath:i?[]:i1,namePath:[],caption:i?`No ${l} members`:"Loading",isDisabled:!0,path:[]}]:void 0,namePath:r,isDisabled:!1,path:[]})}}}({namePath:e,captionPath:n??e,tree:o,isHierarchySlicing:r,indexes:u,numberOfLevels:t,properties:i,scopeCaption:a})});let c=[];return i6({tree:o,selectedNamePaths:l,selectedPaths:s,searchValue:i?.searchValue,pathToSearchedElement:c}),i&&i.onTreeReturned(c),{tree:o,paths:s}}var i8=r(1754);let i5=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e};var i9=r(2851),i7=r(2031),ae=r(7422),at=r(5615),ar=r(154),an=r(9759),ai=r(8634),aa=r(5647),ao=r(3153),as=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,iU.A)(t,(0,ai.A)(e)),e=(0,aa.A)(e);return t}:ao.A,al=r(9042),au=r(3831);let ac=function(e){return(0,au.A)(e,at.A,as)};var ad=r(9779),af=Object.prototype.hasOwnProperty;let ah=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&af.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var ap=r(565);let ag=function(e,t){var r=t?(0,ap.A)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var am=/\w*$/;let av=function(e){var t=new e.constructor(e.source,am.exec(e));return t.lastIndex=e.lastIndex,t};var ay=iq.A?iq.A.prototype:void 0,ab=ay?ay.valueOf:void 0,ax=r(1801);let aw=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,ap.A)(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return ag(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,ax.A)(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return av(e);case"[object Symbol]":return ab?Object(ab.call(e)):{}}};var aC=r(8598),aS=r(9912),aj=r(3098),aA=r(2789),a_=r(4841),ak=a_.A&&a_.A.isMap,aE=ak?(0,aA.A)(ak):function(e){return(0,aj.A)(e)&&"[object Map]"==(0,ad.A)(e)},aO=a_.A&&a_.A.isSet,aR=aO?(0,aA.A)(aO):function(e){return(0,aj.A)(e)&&"[object Set]"==(0,ad.A)(e)},aT="[object Arguments]",aI="[object Function]",aM="[object Object]",aF={};aF[aT]=aF["[object Array]"]=aF["[object ArrayBuffer]"]=aF["[object DataView]"]=aF["[object Boolean]"]=aF["[object Date]"]=aF["[object Float32Array]"]=aF["[object Float64Array]"]=aF["[object Int8Array]"]=aF["[object Int16Array]"]=aF["[object Int32Array]"]=aF["[object Map]"]=aF["[object Number]"]=aF[aM]=aF["[object RegExp]"]=aF["[object Set]"]=aF["[object String]"]=aF["[object Symbol]"]=aF["[object Uint8Array]"]=aF["[object Uint8ClampedArray]"]=aF["[object Uint16Array]"]=aF["[object Uint32Array]"]=!0,aF["[object Error]"]=aF[aI]=aF["[object WeakMap]"]=!1;let aD=function e(t,r,n,i,a,o){var s,l=1&r,u=2&r,c=4&r;if(n&&(s=a?n(t,i,a,o):n(t)),void 0!==s)return s;if(!(0,iA.A)(t))return t;var d=(0,iK.A)(t);if(d){if(s=ah(t),!l)return(0,an.A)(t,s)}else{var f,h,p,g,m=(0,ad.A)(t),v=m==aI||"[object GeneratorFunction]"==m;if((0,aS.A)(t))return(0,ar.A)(t,l);if(m==aM||m==aT||v&&!a){if(s=u||v?{}:(0,aC.A)(t),!l)return u?(h=(f=s)&&(0,i7.A)(t,(0,at.A)(t),f),(0,i7.A)(t,as(t),h)):(g=(p=s)&&(0,i7.A)(t,(0,ae.A)(t),p),(0,i7.A)(t,(0,ai.A)(t),g))}else{if(!aF[m])return a?t:{};s=aw(t,m,l)}}o||(o=new i8.A);var y=o.get(t);if(y)return y;o.set(t,s),aR(t)?t.forEach(function(i){s.add(e(i,r,n,i,t,o))}):aE(t)&&t.forEach(function(i,a){s.set(a,e(i,r,n,a,t,o))});var b=c?u?ac:al.A:u?at.A:ae.A,x=d?void 0:b(t);return i5(x||t,function(i,a){x&&(i=t[a=i]),(0,i9.A)(s,a,e(i,r,n,a,t,o))}),s},aP=function(e){return aD(e,5)},aL=function(e,{forEachNode:t,sort:r},n=[]){t(e,n),e.children&&(r?e.children.slice().sort(r):e.children).forEach((e,i)=>{aL(e,{forEachNode:t,sort:r},[...n,i])})},aN={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},az=nI.default??nI,aV=w.forwardRef((e,t)=>(0,g.jsx)(az,{...e,ref:t,icon:aN})),a$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},aB=nI.default??nI,aU=w.forwardRef((e,t)=>(0,g.jsx)(aB,{...e,ref:t,icon:a$}));var aq=r(5505);let aH=(0,w.forwardRef)((e,t)=>{let[r,n]=(0,w.useState)(e.searchValue),i=e.searchValue??r,a=e.onSearchValueChanged??n,o=(0,aq.useTheme)(),s=(0,w.useCallback)(e=>{a?.(e.target.value)},[a]);return(0,g.jsx)(m.Input,{ref:t,allowClear:!0,autoFocus:e.autoFocus,prefix:e.isLoading?(0,g.jsx)(m.Spin,{indicator:(0,g.jsx)(aV,{style:{color:o.primaryColor,fontSize:12}})}):(0,g.jsx)(aU,{}),value:i,onChange:s,onKeyDown:t=>{"ArrowDown"===t.key||"ArrowUp"===t.key?e.onArrowKeyPressed&&(e.onArrowKeyPressed("ArrowDown"===t.key?"down":"up"),t.preventDefault()):"Enter"===t.key&&e.onEnterPressed&&e.onEnterPressed(t)},placeholder:e.searchPlaceholder,style:{height:26,marginBottom:8,...e.style},disabled:e.isDisabled})});function aK({scope:e,scopeKeys:t,cube:r,serverKey:n,multiSelect:i=!1,onChange:a,lastLevelToScopeKeys:o,maxScopeMembersQueryResult:s,restrictedScopes:l}){let[u,c]=(0,w.useState)([[0]]),d=t[t.length-1],[f,h,m]=d.split("@"),v=r?(0,p.getLevel)({levelName:f,dimensionName:m,hierarchyName:h},r).caption:f,y=(0,p.getHierarchy)({dimensionName:m,hierarchyName:h},r),b=!!y?.slicing,{searchValue:x,handleSearchValueChanged:C,searchedMembersQueryResult:S}=function({serverKey:e,cube:t,dimensionName:r,hierarchyName:n,numberOfLevels:i,isHierarchySlicing:a,restrictedScopes:o}){let s=o[t.name]??[],[l,u]=(0,w.useState)(""),[c,d]=(0,w.useState)(""),f=(0,w.useMemo)(()=>iV(e=>{d(e)},1e3),[d]),h=(0,w.useCallback)((e,t)=>{void 0===e||""===e.trim()?(f.cancel(),u(""),d("")):(u(e),f(e)),t([[0]])},[f]),g=""!==c.trim(),m=(0,w.useRef)("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),v=s.map(e=>`FROM (
      SELECT
      Except(
        [${e.dimensionName}].[${e.hierarchyName}].Members,
    [${e.dimensionName}].[${e.hierarchyName}].[ALL].${e.namePath.map(e=>`[${e}]`).join(".")})
    ON COLUMNS`),y=`
  SELECT
  NON EMPTY Hierarchize(
    Descendants(
      {
        [${r}].[${n}]
      },
      ${i},
      SELF_AND_BEFORE
    )
  ) DIMENSION PROPERTIES CHILDREN_CARDINALITY ON ROWS
  FROM (
    SELECT
    Filter(
      [${r}].[${n}].Members,
      ${Array.from({length:i},(e,t)=>t+(a?0:1)).map(e=>`[${r}].[${n}].CurrentMember.LEVEL_NUMBER is ${e} AND 
            InStr(
          1,
          [${r}].[${n}].CurrentMember.MEMBER_CAPTION,
          "${c}"
        ) > 0`).join(" OR")}
    ) ON ROWS
    ${v.join(" ")} FROM [${t.name}]${v.map(()=>")").join("")})
  `,b=(0,w.useMemo)(()=>g?{mdx:y,updateMode:"once"}:void 0,[g,y]);return{searchValue:l,debouncedSearchValue:c,handleSearchValueChanged:h,isSearchActive:g,searchedMembersQueryResult:(0,p.useQueryResult)({serverKey:e,queryId:b?m.current:void 0,query:b})}}({serverKey:n,cube:r,dimensionName:m,hierarchyName:h,numberOfLevels:t.length,isHierarchySlicing:b,restrictedScopes:l}),{data:j,mutate:A}=function({cube:e,serverKey:t,lastLevelToScopeKeys:r,scopeKey:n,maxScopeMembersQueryResult:i,restrictedScopes:a}){let o=k(),s=iv({serverKey:t}),l=[ij,t,e?.name,Object.keys(r??{})];return{...ib({gcTime:0,mutationFn:async t=>{if(e&&r){let u={[n]:r[n]},c=await s(iS(u,e,a[e.name]??[],i,t),{}),d=iC({cellSet:c,lastLevelKeys:Object.keys(u??{})})?.[n],f=Object.keys(d??{});if(d&&1===f.length){let e=d[f[0]];e.properties={...e.properties,isLeaf:!0}}o.setQueryData(l,e=>({...e,[n]:{...e?.[n],...d}}))}},meta:{errorMessage:"An error occurred while fetching the possible values for this limit's scope. Try refreshing this screen"}}),data:o.getQueryData(l)?.[n]}}({cube:r,serverKey:n,lastLevelToScopeKeys:o,scopeKey:d,maxScopeMembersQueryResult:s,restrictedScopes:l}),_=(0,w.useMemo)(()=>i3({members:Object.values(j??{}),numberOfLevels:t.length,isHierarchySlicing:b,scopeCaption:v}).tree,[j,b,t.length,v]),E=(0,w.useMemo)(()=>S.data?.axes[0].positions.map(e=>e[0]),[S]),{tree:O,paths:R}=(0,w.useMemo)(()=>E?i3({members:E,numberOfLevels:t.length,isHierarchySlicing:b,selectedValues:e,search:{searchValue:x,onTreeReturned:c},scopeCaption:v}):{tree:null,paths:null},[E,t.length,b,e,x,v]),T=(0,w.useMemo)(()=>{if(null===O)return _?function(e,t,r){let n=i0(t,r),i=[],a=aP(n);return aL(e,{forEachNode:e=>{if(a.length>0){let t=a.findIndex(t=>e.namePath.length===t.length&&e.namePath.every((e,r)=>e===t[r]));-1!==t&&(i.push(e.path),a.splice(t,1))}}}),i}(_,e,b):void 0},[_,e,O,b]);return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{display:"flex"},children:(0,g.jsx)(aH,{searchValue:x,searchPlaceholder:"Type to search the data model",onSearchValueChanged:e=>C(e,c),style:{flexShrink:1}})}),(0,g.jsx)(p.Tree,{style:{height:340},expandTrigger:"full-node",isSearchVisible:!1,searchPlaceholder:"Type to search the data model",hasCheckbox:e=>t.length===e.namePath.filter(e=>"AllMember"!==e).length&&i,onExpandedPathsChange:(e,t)=>{if(c(e),"expand"===t.type){let e=(0,p.getNode)(_?.children??[],t.path);e.children?.some(e=>e.captionPath===i1)&&A(e.namePath)}},expandedPaths:u,isSelectable:i,onClick:e=>{let r={};t.length===e.namePath.filter(e=>"AllMember"!==e).length&&(e.namePath.filter(e=>"AllMember"!==e).forEach((e,n)=>{r[t[n]]=e}),a(r))},isLoading:S.isLoading,value:O?.children??_?.children??[],selectedPaths:R||T})]})}function aZ({selectedCubeName:e,selectedServerKey:t,onChange:r,isAlwaysVisible:n}){let i=(0,p.useDataModels)(),a=iW((t&&i[t]?Object.values(i[t].catalogs):[]).map(e=>Object.values(e.cubes))),o=i$(),s=iB();return!n&&a.length<=1?null:(0,g.jsx)(rg,{"data-testid":"cubeFilter",placeholder:"All cubes",style:{minWidth:"220px"},disabled:!t,loading:s(t),value:o(t)&&e?`Cube: ${e}`:void 0,allowClear:!0,onChange:t=>{t!==e&&r(t??null)},options:a.map(e=>({value:e.name,label:e.caption}))})}function aQ({selectedServerKey:e,onChange:t,servers:r}){let n=i$(),i=iB()(e);return(0,g.jsx)(rg,{style:{minWidth:"220px"},placeholder:"All servers","data-testid":"serverFilter",loading:i,value:n(e)?`Server: ${r[e]}`:void 0,allowClear:!0,onChange:r=>{r!==e&&t(r??null)},options:Object.entries(r).map(([e,t])=>({value:e,label:t,disabled:!n(e)}))})}var aG=r(2062);let aW=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return -1},aY=function(e){return e!=e},aX=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1},aJ=function(e,t){return!!(null==e?0:e.length)&&(t==t?aX(e,t,0):aW(e,aY,0))>-1},a0=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1};var a1=r(5572),a2=r(4099);let a4=function(e,t,r,n){var i=-1,a=aJ,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=(0,a1.A)(t,(0,aA.A)(r))),n?(a=a0,o=!1):t.length>=200&&(a=a2.A,o=!1,t=new aG.A(t));e:for(;++i<s;){var c=e[i],d=null==r?c:r(c);if(c=n||0!==c?c:0,o&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,n)||l.push(c)}return l};var a6=r(4326),a3=r(3533),a8=(0,a6.A)(function(e,t){var r=iw(t);return(0,a3.A)(r)&&(r=void 0),(0,a3.A)(e)?a4(e,iG(t,1,a3.A,!0),void 0,r):[]});function a5({onLevelClicked:e,cube:t,serverKey:r,excludedHierarchies:n,isDisabled:i}){let a=t&&r?function({cube:e,serverKey:t,excludedHierarchies:r,isDisabled:n}){let i=[];for(let a of Object.values(e.dimensions).filter(e=>e.visible).sort((e,t)=>e.caption.localeCompare(t.caption))){let o=a8(Object.values(a.hierarchies).filter(e=>e.visible),r??[],(e,t)=>e.name===t.hierarchyName&&a.name===t.dimensionName).sort((e,t)=>e.caption.localeCompare(t.caption)),s=[];for(let r of o){let i=[];Object.values(r.levels).slice(r.slicing?0:1).forEach((o,s)=>{i.push({type:"level",level:o,dimension:a,hierarchy:r,serverKey:t,cubeName:e.name,depth:s,caption:o.caption,isDisabled:!!n&&n({dimensionName:a.name,hierarchyName:r.name,levelName:o.name})})}),s.push({type:"hierarchy",hierarchy:r,dimension:a,caption:r.caption,cubeName:e.name,serverKey:t,children:i,isFolder:!0,isActionable:!1})}i.push({type:"dimension",children:s,dimension:a,cubeName:e.name,serverKey:t,caption:a.caption,isFolder:!0,isActionable:!1})}return i}({cube:t,excludedHierarchies:n,serverKey:r,isDisabled:i}):[];return(0,g.jsx)("div",{css:{flexGrow:1,"& *":{boxSizing:"border-box"}},children:(0,g.jsx)(p.Tree,{expandTrigger:"full-node",isSearchVisible:!0,searchPlaceholder:"Type to search the data model",isSelectable:!1,onClick:t=>{"level"===t.type&&e(t)},isLoading:!a,value:a??[],doSearchResultsIncludeFolders:!1})})}function a9({displayValue:e,longDescription:t,getColorForLocation:r,locationId:n}){let i=r(n),a=(0,g.jsx)(n$,{style:{maxWidth:250,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...i},children:e});return(0,g.jsx)(nV,{fallbackComponent:a,children:(0,g.jsx)(m.Tooltip,{trigger:"hover",title:t,mouseEnterDelay:.75,children:a})})}function a7({locations:e,getColorForLocation:t}){return(0,g.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:e.map(({displayValue:e,longDescription:r,locationId:n})=>(0,g.jsx)(a9,{displayValue:e,longDescription:r,locationId:n,getColorForLocation:t},`locationtag-${n}`))})}var oe=r(6535);let ot=e=>(t,r)=>e((e,r)=>{let n=t(e,r),i=window.history.state?.usr?.dashboardFilters;return"dashboardLoaded"===r.type&&i&&i.filters.length>0&&void 0!==i.serverKey&&void 0!==i.cubeName?(0,oe.jM)(n,e=>{if(e.dashboard.present)Object.values(e.dashboard.present.pages).forEach(e=>{Object.values(e.content).forEach(e=>{(0,p.isWidgetWithQueryState)(e)&&e.serverKey===i.serverKey&&e.query.mdx&&(0,p.getCubeName)(e.query.mdx)===i.cubeName&&(e.filters=[...e.filters||[],...i.filters])})});else throw Error("Error originating from the `linkToDashboardStoreEnhancer` store enhancer. nextState.dashboard.present should exist, but it does not.")}):n},r||{});function or({availableApplicationServers:e,servers:t,selectedServerKey:r,selectedCubeName:n,onChange:i,disableFields:a}){let o=i$(),s=(0,p.useDataModels)(),l=iB()(r),u=iW((r&&s[r]?Object.values(s[r].catalogs):[]).map(e=>Object.values(e.cubes)));return!function({serverKey:e,cubeName:t,availableApplicationServers:r},n){let i=(0,p.useDataModels)();(0,w.useEffect)(()=>{if(void 0===e||null!==e&&void 0===t){let t=e??r.find(e=>void 0!==i[e]);if(t&&i[t]){let e=iW(Object.values(i[t].catalogs).map(e=>Object.values(e.cubes)))[0];n(t,e.name)}}},[r,n,i,e,t])}({serverKey:r,cubeName:n,availableApplicationServers:e},i),(0,g.jsxs)(g.Fragment,{children:[e.length>1&&(0,g.jsx)(m.Form.Item,{label:"Server name",required:!r,htmlFor:"serverSelect",children:(0,g.jsx)(m.Select,{id:"serverSelect",onChange:e=>{i(e,void 0)},loading:l,value:r,disabled:a,showSearch:!0,options:Object.entries(t).map(([e,t])=>({value:e,label:t,disabled:!o(e)}))})}),(0,g.jsx)(m.Form.Item,{label:"Cube",required:!n,htmlFor:"cubeSelect",children:(0,g.jsx)(m.Select,{id:"cubeSelect",onChange:e=>i(r,e),value:n,loading:l,disabled:a||!r,showSearch:!0,options:u.map(e=>({value:e.name,label:e.caption})),filterOption:(e,t)=>t.label.toLowerCase().includes(e.toLowerCase())})})]})}ot.doesIncludeLinkToDashboard=!0;let on=tz.object({asOfDateDimensionName:tz.string(),asOfDateHierarchyName:tz.string(),asOfDateLevelName:tz.string()});function oi({cubeName:e,serverName:t,asOfDateSettingsPerServer:r}){let n=r[t];if(!n)throw Error(`No asOfDate dimensions for "${t}" found.  Please refer to the documentation for information on setting this.`);if(void 0!==n[e])return n[e].asOfDate;if(void 0!==n["*"])return n["*"].asOfDate;throw Error(`No asOfDate dimensions for cube "${e}" in server "${t}". Please refer to the documentation for information on setting this.
    HINT: You can also use the wildcard "*" to set the same asOfDate coordinates for every cube of that server.`)}function oa({onValueChangedDebounced:e,debounceDelay:t,inputProps:r}){let[n,i]=(0,w.useState)(),a=(0,w.useCallback)(iV(e,t),[e,t]);return(0,g.jsx)(m.Input,{...r,value:n,onChange:e=>{i(e.target.value),a(e.target.value)}})}function oo(e){return e.doesIncludeLinkToDashboard}function os(e){return e.doesProvideQueryClient}let ol={frtb:"5.3.1","frtb-qis":"1.0.0",cvarc:"5.1.2",mr:"5.4.0",signoff:"5.3.1",limits:"4.0.0-beta",simm:"3.0.3",collateral:"0.2.0","signoff-v2":"0.1.0"},ou=tz.object({serverUrl:tz.string().url(),apVersion:tz.string(),moduleSettings:tz.any()});tz.object({displayName:tz.string(),serverKey:tz.string(),serverUrl:tz.string().url(),apVersion:tz.string(),limitsModule:ou.optional(),signOffModule:ou.optional()}).strict();let oc=(0,w.createContext)({});function od(){let e=(0,w.useContext)(oc);if(!e)throw Error("Missing context for BAS settings. Did you forget to provide them?");return e}function of(e){let t=od(),r={};for(let n in t){let i=t[n]?.[e];i&&(r[n]=i)}return r}function oh({serverKey:e,settingsKey:t,throwIfNotFound:r=!1}){let n=od();if(!e&&r)throw Error('Missing "serverKey" No server given');if(e){let i=n[e];if(i){let n=i[t];if(n)return n;if(r)throw Error(`Settings for key "${t}" were not found for server "${e}".`)}else if(r)throw Error(`No settings for server "${e}" were found.`)}}let op={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var og=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:op}))});let om={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};var ov=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:om}))});let oy="accelerator_navbar-help-documentation",ob={key:oy,useMenuItem:()=>{let e=of("bas-plugin-menu-item-solution-documentation");if(0!==Object.values(e).length)return{label:"Solutions",icon:(0,g.jsx)(og,{}),children:Object.values(e).map(({docName:e,docUrl:t},r)=>({key:`${oy}-${r}`,icon:(0,g.jsx)(ov,{}),label:`${e} Documentation`,onClick:()=>{window.open(t,"_blank")}}))}}},ox=["limits","collateral","signoff-v2"],[ow,oC]=ol.limits.split("."),oS=`${ow}.${oC}`,oj={LIMITS:{"bas-plugin-cell-style-total-bolding":{},"bas-plugin-menu-item-solution-documentation":{docName:"Limits",docUrl:`https://docs.activeviam.com/products/modules/limits/${oS}/online-help/`},"bas-plugin-widget-documentation":{documentationBaseURL:`https://docs.activeviam.com/products/modules/limits/${oS}/online-help/`}}},oA={limitsServerName:"LIMITS",auditTrailNodeColors:{green:["APPROVED"],blue:["INITIATED"],red:["REJECTED","BREACHED"],yellow:["WARNING"]},restrictedScopes:{},limitsRESTEndpoint:"/limits/rest/v2",maxScopeMembersQueryResult:1e3},o_={key:"pivot-table-bold-cell-style",withCellStyle:function(e){let{withCellStyle:t}=p.pluginCellStylePivotTable,r=(0,w.forwardRef)((t,r)=>(function({settingsKey:e,serverKey:t}){return void 0!==oh({serverKey:t,settingsKey:e})})({settingsKey:"bas-plugin-cell-style-total-bolding",serverKey:t.widgetState.serverKey})&&function(e){let{cube:t}=e;if(void 0===t)return!1;let r=(0,p.isBodyCell)(e)?e.tuple:null;return!!r&&r.some(e=>{if("Measures"===e.hierarchyName||"Measures"===e.dimensionName)return!1;{let r=(0,p.getHierarchy)(e,t);return(0,p.isTotal)(r,e)}})}(t)?(0,g.jsx)(e,{ref:r,...t,style:{fontWeight:"bold"}}):(0,g.jsx)(e,{ref:r,...t}));return r.displayName=`withPivotTableBoldCellStyle(${e.displayName})`,t(r)}},ok={position:"absolute",zIndex:"1",textAlign:"center",top:0,bottom:0,left:0,right:0,padding:"16px 5px 5px",display:"block"},oE=({serversPool:e,onServerSelected:t})=>{let{backgroundColor:r}=(0,p.useTheme)();return(0,g.jsxs)("div",{className:"serverScreenLoad",style:{...ok,background:r},children:[(0,g.jsx)("div",{style:{alignItems:"center",fontSize:"15px",padding:"5px 10px"},children:"Select the Server that contains the data you want"}),(0,g.jsx)("hr",{}),(0,g.jsx)("div",{style:{width:"fit-content",marginLeft:"auto",marginRight:"auto",marginTop:5},children:(0,g.jsx)(m.Menu,{onClick:({key:r})=>{t(e.find(e=>e===r))},mode:"vertical",items:e.map(e=>({key:e,label:e}))})})]})},oO="accelerator_documentation-widget-container",oR=(0,w.memo)(({url:e})=>(0,g.jsx)("iframe",{title:"Accelerator Doc",src:e,width:"100%",height:"100%",frameBorder:"0",children:(0,g.jsx)("p",{children:"Your browser does not support iframes."})}));oR.displayName="MemoizedIframe";let oT={key:oO,Component:(a=({onChange:e,widgetState:t})=>{let{documentationBaseURL:r}=oh({settingsKey:"bas-plugin-widget-documentation",serverKey:t.savedSelectedServer,throwIfNotFound:!0}),n=(0,w.useCallback)(n=>{n.data.toString().includes(r)&&e({...t,lastOpenedRelativeLink:n.data.toString().replace(r,"")})},[r,e,t]);(0,w.useEffect)(()=>(window.addEventListener("message",n,!1),()=>{window.removeEventListener("message",n)}),[n]);let[i]=(0,w.useState)(`${r}${t.lastOpenedRelativeLink||"index.html"}`);return(0,g.jsx)(oR,{url:i})},o="bas-plugin-widget-documentation",e=>{let{widgetState:t,onChange:r}=e,n=t.savedSelectedServer,i=(0,p.useAtotiClients)(),s=Object.keys(of(o));if(0===s.length)throw Error("This widget has not been configured to work with any application.");let l=Object.keys(i).filter(e=>s.includes(e));if(0===l.length)throw Error("This widget has not been configured to work with any of the currently available applications.");if(n&&void 0===l.find(e=>e===n))throw Error(`The application "${n}" that this widget is using is not available anymore.`);return!n&&l.length>1?(0,g.jsx)(oE,{serversPool:l,onServerSelected:e=>{r({...t,savedSelectedServer:e})}}):(0,g.jsx)(a,{...e,widgetState:{...t,savedSelectedServer:n||l[0]}})}),initialState:{name:"Documentation Container",widgetKey:oO},Icon:({className:e})=>(0,g.jsxs)("svg",{className:e,height:"18",width:"26",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22.07 17.55",children:[(0,g.jsx)("defs",{children:(0,g.jsx)("style",{children:".cls-doc1{fill:#a9a9a9;}"})}),(0,g.jsx)("g",{id:"Layer_1-2",children:(0,g.jsx)("path",{className:"cls-doc1",d:"m21.64,1.25s-.03-.01-.04-.02c0,0,0,0,0,0-.12-.06-.25-.13-.38-.19-.35-.16-.73-.31-1.1-.43-1.27-.4-2.6-.61-3.93-.61h-.07c-1.75,0-3.14.33-4,.61-.33.11-.66.23-.98.37-.03.02-.07.02-.1.02h0s-.07,0-.1-.02c0,0,0,0,0,0-.31-.14-.64-.26-.98-.37-1.27-.4-2.6-.61-3.93-.61h-.07c-1.41,0-2.76.2-4,.61-.37.12-.74.26-1.1.43-.13.06-.26.13-.39.19,0,0,0,0-.02,0,0,0-.01,0-.02.01-.26.15-.42.44-.42.75v14.69c0,.23.09.45.25.61s.38.25.61.25h0c.16,0,.31-.04.44-.12,0,0,.02-.01.03-.01,0,0,.01,0,.02-.01.05-.03.12-.06.22-.11.28-.13.59-.25.91-.35,1.13-.35,2.28-.54,3.47-.52,1.16,0,2.34.17,3.46.52.31.1.61.22.91.35.09.04.18.09.27.14,0,0,.02,0,.02.01.27.15.6.14.86-.01.1-.05.17-.09.27-.14.29-.14.6-.25.91-.35,1.1-.35,2.24-.52,3.4-.52h.14c1.15,0,2.29.18,3.39.52.31.1.61.22.9.35.09.04.17.08.25.13.01,0,.02.01.03.02.42.23.94.09,1.18-.31.08-.13.12-.29.12-.44V2c0-.3-.16-.59-.42-.75Zm-11.48,13.75c0,.08-.04.16-.11.21-.07.05-.15.06-.23.04-1.26-.38-2.57-.57-3.88-.57-1.36,0-2.67.19-3.88.57-.03,0-.05.01-.08.01-.06,0-.11-.02-.16-.05-.07-.05-.11-.13-.11-.21V2.71c0-.11.07-.2.16-.24.16-.07.36-.14.59-.21,1.13-.35,2.28-.54,3.47-.52,1.16-.02,2.34.17,3.46.52.23.07.42.15.59.21.1.04.16.14.16.24v12.29Zm10.17,0c0,.08-.04.16-.11.21-.05.03-.1.05-.16.05-.03,0-.05,0-.08-.01-1.26-.38-2.58-.57-3.88-.57-1.36,0-2.67.19-3.88.57-.08.02-.17.01-.23-.04-.07-.05-.11-.13-.11-.21V2.71c0-.11.06-.2.16-.24.16-.07.36-.14.59-.21,1.12-.35,2.29-.52,3.47-.52,1.17-.02,2.34.17,3.46.52.23.07.42.14.59.21.1.04.17.14.17.24v12.29Z"})})]}),translations:{"en-US":{key:"Documentation Container"}}};var oI=r(4346);let oM={key:"limits-menu-item",useMenuItem:()=>({label:"Limits"}),children:[{key:"limits-management-menu-item",useMenuItem:()=>{let e=(0,B.useNavigate)(),{reset:t}=T();return{label:"Inventory",onClick:async()=>{t(),e("/limits")}}}},{key:"evaluation-status-menu-item",useMenuItem:()=>{let e=(0,B.useNavigate)(),{reset:t}=T();return{label:"Status",onClick:async()=>{t(),e("/limits/status")}}}}]},oF=(0,w.createContext)(null),oD=(0,w.createContext)("/");oF.displayName="LimitsSettingsContext",oD.displayName="LimitsPathToHomeContext";let oP=oD.Provider,oL=oF.Provider;function oN(){let e=(0,w.useContext)(oF);if(!e)throw Error("Missing context for Limits settings. Did you forget to provide them?");return e}function oz(e,t){return"function"==typeof e?e(t):e}function oV(e,t){return r=>{t.setState(t=>({...t,[e]:oz(r,t[e])}))}}function o$(e){return e instanceof Function}function oB(e,t){let r=[],n=e=>{e.forEach(e=>{r.push(e);let i=t(e);null!=i&&i.length&&n(i)})};return n(e),r}function oU(e,t,r){let n,i=[];return a=>{let o,s;r.key&&r.debug&&(o=Date.now());let l=e(a);if(!(l.length!==i.length||l.some((e,t)=>i[t]!==e)))return n;if(i=l,r.key&&r.debug&&(s=Date.now()),n=t(...l),null==r||null==r.onChange||r.onChange(n),r.key&&r.debug&&null!=r&&r.debug()){let e=Math.round((Date.now()-o)*100)/100,t=Math.round((Date.now()-s)*100)/100,n=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${i(t,5)} /${i(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*n,120))}deg 100% 31%);`,null==r?void 0:r.key)}return n}}function oq(e,t,r,n){return{debug:()=>{var r;return null!=(r=null==e?void 0:e.debugAll)?r:e[t]},key:!1,onChange:n}}let oH="debugHeaders";function oK(e,t,r){var n;let i={id:null!=(n=r.id)?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{let e=[],t=r=>{r.subHeaders&&r.subHeaders.length&&r.subHeaders.map(t),e.push(r)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(i,e)}),i}function oZ(e,t,r,n){var i,a;let o=0,s=function(e,t){void 0===t&&(t=1),o=Math.max(o,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var r;null!=(r=e.columns)&&r.length&&s(e.columns,t+1)},0)};s(e);let l=[],u=(e,t)=>{let i={depth:t,id:[n,`${t}`].filter(Boolean).join("_"),headers:[]},a=[];e.forEach(e=>{let o;let s=[...a].reverse()[0],l=e.column.depth===i.depth,u=!1;if(l&&e.column.parent?o=e.column.parent:(o=e.column,u=!0),s&&(null==s?void 0:s.column)===o)s.subHeaders.push(e);else{let i=oK(r,o,{id:[n,t,o.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:u,placeholderId:u?`${a.filter(e=>e.column===o).length}`:void 0,depth:t,index:a.length});i.subHeaders.push(e),a.push(i)}i.headers.push(e),e.headerGroup=i}),l.push(i),t>0&&u(a,t-1)};u(t.map((e,t)=>oK(r,e,{depth:o,index:t})),o-1),l.reverse();let c=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,r=0,n=[0];return e.subHeaders&&e.subHeaders.length?(n=[],c(e.subHeaders).forEach(e=>{let{colSpan:r,rowSpan:i}=e;t+=r,n.push(i)})):t=1,r+=Math.min(...n),e.colSpan=t,e.rowSpan=r,{colSpan:t,rowSpan:r}});return c(null!=(i=null==(a=l[0])?void 0:a.headers)?i:[]),l}let oQ=(e,t,r,n,i,a,o)=>{let s={id:t,index:n,original:r,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];let r=e.getColumn(t);if(null!=r&&r.accessorFn)return s._valuesCache[t]=r.accessorFn(s.original,n),s._valuesCache[t]},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];let r=e.getColumn(t);return null!=r&&r.accessorFn?(r.columnDef.getUniqueValues?s._uniqueValuesCache[t]=r.columnDef.getUniqueValues(s.original,n):s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var r;return null!=(r=s.getValue(t))?r:e.options.renderFallbackValue},subRows:null!=a?a:[],getLeafRows:()=>oB(s.subRows,e=>e.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){let r=t.getParentRow();if(!r)break;e.push(r),t=r}return e.reverse()},getAllCells:oU(()=>[e.getAllLeafColumns()],t=>t.map(t=>(function(e,t,r,n){let i={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:oU(()=>[e,r,t,i],(e,t,r,n)=>({table:e,column:t,row:r,cell:n,getValue:n.getValue,renderValue:n.renderValue}),oq(e.options,"debugCells","cell.getContext"))};return e._features.forEach(n=>{null==n.createCell||n.createCell(i,r,t,e)},{}),i})(e,s,t,t.id)),oq(e.options,"debugRows","getAllCells")),_getAllCellsByColumnId:oU(()=>[s.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),oq(e.options,"debugRows","getAllCellsByColumnId"))};for(let t=0;t<e._features.length;t++){let r=e._features[t];null==r||null==r.createRow||r.createRow(s,e)}return s},oG=(e,t,r)=>{var n,i;let a=null==r||null==(n=r.toString())?void 0:n.toLowerCase();return!!(null==(i=e.getValue(t))||null==(i=i.toString())||null==(i=i.toLowerCase())?void 0:i.includes(a))};oG.autoRemove=e=>o3(e);let oW=(e,t,r)=>{var n;return!!(null==(n=e.getValue(t))||null==(n=n.toString())?void 0:n.includes(r))};oW.autoRemove=e=>o3(e);let oY=(e,t,r)=>{var n;return(null==(n=e.getValue(t))||null==(n=n.toString())?void 0:n.toLowerCase())===(null==r?void 0:r.toLowerCase())};oY.autoRemove=e=>o3(e);let oX=(e,t,r)=>{var n;return null==(n=e.getValue(t))?void 0:n.includes(r)};oX.autoRemove=e=>o3(e)||!(null!=e&&e.length);let oJ=(e,t,r)=>!r.some(r=>{var n;return!(null!=(n=e.getValue(t))&&n.includes(r))});oJ.autoRemove=e=>o3(e)||!(null!=e&&e.length);let o0=(e,t,r)=>r.some(r=>{var n;return null==(n=e.getValue(t))?void 0:n.includes(r)});o0.autoRemove=e=>o3(e)||!(null!=e&&e.length);let o1=(e,t,r)=>e.getValue(t)===r;o1.autoRemove=e=>o3(e);let o2=(e,t,r)=>e.getValue(t)==r;o2.autoRemove=e=>o3(e);let o4=(e,t,r)=>{let[n,i]=r,a=e.getValue(t);return a>=n&&a<=i};o4.resolveFilterValue=e=>{let[t,r]=e,n="number"!=typeof t?parseFloat(t):t,i="number"!=typeof r?parseFloat(r):r,a=null===t||Number.isNaN(n)?-1/0:n,o=null===r||Number.isNaN(i)?1/0:i;if(a>o){let e=a;a=o,o=e}return[a,o]},o4.autoRemove=e=>o3(e)||o3(e[0])&&o3(e[1]);let o6={includesString:oG,includesStringSensitive:oW,equalsString:oY,arrIncludes:oX,arrIncludesAll:oJ,arrIncludesSome:o0,equals:o1,weakEquals:o2,inNumberRange:o4};function o3(e){return null==e||""===e}function o8(e,t,r){return!!e&&!!e.autoRemove&&e.autoRemove(t,r)||void 0===t||"string"==typeof t&&!t}let o5={sum:(e,t,r)=>r.reduce((t,r)=>{let n=r.getValue(e);return t+("number"==typeof n?n:0)},0),min:(e,t,r)=>{let n;return r.forEach(t=>{let r=t.getValue(e);null!=r&&(n>r||void 0===n&&r>=r)&&(n=r)}),n},max:(e,t,r)=>{let n;return r.forEach(t=>{let r=t.getValue(e);null!=r&&(n<r||void 0===n&&r>=r)&&(n=r)}),n},extent:(e,t,r)=>{let n,i;return r.forEach(t=>{let r=t.getValue(e);null!=r&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)))}),[n,i]},mean:(e,t)=>{let r=0,n=0;if(t.forEach(t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++r,n+=i)}),r)return n/r},median:(e,t)=>{if(!t.length)return;let r=t.map(t=>t.getValue(e));if(!function(e){return Array.isArray(e)&&e.every(e=>"number"==typeof e)}(r))return;if(1===r.length)return r[0];let n=Math.floor(r.length/2),i=r.sort((e,t)=>e-t);return r.length%2!=0?i[n]:(i[n-1]+i[n])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},o9=()=>({left:[],right:[]}),o7={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},se=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),st=null;function sr(){if("boolean"==typeof st)return st;let e=!1;try{let t=()=>{};window.addEventListener("test",t,{get passive(){return e=!0,!1}}),window.removeEventListener("test",t)}catch(t){e=!1}return st=e}function sn(e){return"touchstart"===e.type}function si(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}let sa=()=>({pageIndex:0,pageSize:10}),so=()=>({top:[],bottom:[]}),ss=(e,t,r,n,i)=>{var a;let o=i.getRow(t,!0);r?(o.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),o.getCanSelect()&&(e[t]=!0)):delete e[t],n&&null!=(a=o.subRows)&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(t=>ss(e,t.id,r,n,i))};function sl(e,t){let r=e.getState().rowSelection,n=[],i={},a=function(e,t){return e.map(e=>{var t;let o=su(e,r);if(o&&(n.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:a(e.subRows)}),o)return e}).filter(Boolean)};return{rows:a(t.rows),flatRows:n,rowsById:i}}function su(e,t){var r;return null!=(r=t[e.id])&&r}function sc(e,t,r){var n;if(!(null!=(n=e.subRows)&&n.length))return!1;let i=!0,a=!1;return e.subRows.forEach(e=>{if((!a||i)&&(e.getCanSelect()&&(su(e,t)?a=!0:i=!1),e.subRows&&e.subRows.length)){let r=sc(e,t);"all"===r?a=!0:("some"===r&&(a=!0),i=!1)}}),i?"all":!!a&&"some"}let sd=/([0-9]+)/gm;function sf(e,t){return e===t?0:e>t?1:-1}function sh(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function sp(e,t){let r=e.split(sd).filter(Boolean),n=t.split(sd).filter(Boolean);for(;r.length&&n.length;){let e=r.shift(),t=n.shift(),i=parseInt(e,10),a=parseInt(t,10),o=[i,a].sort();if(isNaN(o[0])){if(e>t)return 1;if(t>e)return -1;continue}if(isNaN(o[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return -1}return r.length-n.length}let sg={alphanumeric:(e,t,r)=>sp(sh(e.getValue(r)).toLowerCase(),sh(t.getValue(r)).toLowerCase()),alphanumericCaseSensitive:(e,t,r)=>sp(sh(e.getValue(r)),sh(t.getValue(r))),text:(e,t,r)=>sf(sh(e.getValue(r)).toLowerCase(),sh(t.getValue(r)).toLowerCase()),textCaseSensitive:(e,t,r)=>sf(sh(e.getValue(r)),sh(t.getValue(r))),datetime:(e,t,r)=>{let n=e.getValue(r),i=t.getValue(r);return n>i?1:n<i?-1:0},basic:(e,t,r)=>sf(e.getValue(r),t.getValue(r))},sm=[{createTable:e=>{e.getHeaderGroups=oU(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,i)=>{var a,o;let s=null!=(a=null==n?void 0:n.map(e=>r.find(t=>t.id===e)).filter(Boolean))?a:[],l=null!=(o=null==i?void 0:i.map(e=>r.find(t=>t.id===e)).filter(Boolean))?o:[];return oZ(t,[...s,...r.filter(e=>!(null!=n&&n.includes(e.id))&&!(null!=i&&i.includes(e.id))),...l],e)},oq(e.options,oH,"getHeaderGroups")),e.getCenterHeaderGroups=oU(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,i)=>oZ(t,r=r.filter(e=>!(null!=n&&n.includes(e.id))&&!(null!=i&&i.includes(e.id))),e,"center"),oq(e.options,oH,"getCenterHeaderGroups")),e.getLeftHeaderGroups=oU(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var i;return oZ(t,null!=(i=null==n?void 0:n.map(e=>r.find(t=>t.id===e)).filter(Boolean))?i:[],e,"left")},oq(e.options,oH,"getLeftHeaderGroups")),e.getRightHeaderGroups=oU(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var i;return oZ(t,null!=(i=null==n?void 0:n.map(e=>r.find(t=>t.id===e)).filter(Boolean))?i:[],e,"right")},oq(e.options,oH,"getRightHeaderGroups")),e.getFooterGroups=oU(()=>[e.getHeaderGroups()],e=>[...e].reverse(),oq(e.options,oH,"getFooterGroups")),e.getLeftFooterGroups=oU(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),oq(e.options,oH,"getLeftFooterGroups")),e.getCenterFooterGroups=oU(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),oq(e.options,oH,"getCenterFooterGroups")),e.getRightFooterGroups=oU(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),oq(e.options,oH,"getRightFooterGroups")),e.getFlatHeaders=oU(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),oq(e.options,oH,"getFlatHeaders")),e.getLeftFlatHeaders=oU(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),oq(e.options,oH,"getLeftFlatHeaders")),e.getCenterFlatHeaders=oU(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),oq(e.options,oH,"getCenterFlatHeaders")),e.getRightFlatHeaders=oU(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),oq(e.options,oH,"getRightFlatHeaders")),e.getCenterLeafHeaders=oU(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),oq(e.options,oH,"getCenterLeafHeaders")),e.getLeftLeafHeaders=oU(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),oq(e.options,oH,"getLeftLeafHeaders")),e.getRightLeafHeaders=oU(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),oq(e.options,oH,"getRightLeafHeaders")),e.getLeafHeaders=oU(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,r)=>{var n,i,a,o,s,l;return[...null!=(n=null==(i=e[0])?void 0:i.headers)?n:[],...null!=(a=null==(o=t[0])?void 0:o.headers)?a:[],...null!=(s=null==(l=r[0])?void 0:l.headers)?s:[]].map(e=>e.getLeafHeaders()).flat()},oq(e.options,oH,"getLeafHeaders"))}},{getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:oV("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(t=>({...t,[e.id]:null!=r?r:!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;let i=e.columns;return null==(r=i.length?i.some(e=>e.getIsVisible()):null==(n=t.getState().columnVisibility)?void 0:n[e.id])||r},e.getCanHide=()=>{var r,n;return(null==(r=e.columnDef.enableHiding)||r)&&(null==(n=t.options.enableHiding)||n)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=oU(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),oq(t.options,"debugRows","_getAllVisibleCells")),e.getVisibleCells=oU(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,r)=>[...e,...t,...r],oq(t.options,"debugRows","getVisibleCells"))},createTable:e=>{let t=(t,r)=>oU(()=>[r(),r().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),oq(e.options,"debugColumns",t));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var r;e.setColumnVisibility(t?{}:null!=(r=e.initialState.columnVisibility)?r:{})},e.toggleAllColumnsVisible=t=>{var r;t=null!=(r=t)?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,r)=>({...e,[r.id]:t||!(null!=r.getCanHide&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible(null==(r=t.target)?void 0:r.checked)}}},{getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:oV("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=oU(e=>[si(t,e)],t=>t.findIndex(t=>t.id===e.id),oq(t.options,"debugColumns","getIndex")),e.getIsFirstColumn=r=>{var n;return(null==(n=si(t,r)[0])?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;let i=si(t,r);return(null==(n=i[i.length-1])?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:null!=(r=e.initialState.columnOrder)?r:[])},e._getOrderColumnsFn=oU(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,r)=>n=>{let i=[];if(null!=e&&e.length){let t=[...e],r=[...n];for(;r.length&&t.length;){let e=t.shift(),n=r.findIndex(t=>t.id===e);n>-1&&i.push(r.splice(n,1)[0])}i=[...i,...r]}else i=n;return function(e,t,r){if(!(null!=t&&t.length)||!r)return e;let n=e.filter(e=>!t.includes(e.id));return"remove"===r?n:[...t.map(t=>e.find(e=>e.id===t)).filter(Boolean),...n]}(i,t,r)},oq(e.options,"debugTable","_getOrderColumnsFn"))}},{getInitialState:e=>({columnPinning:o9(),...e}),getDefaultOptions:e=>({onColumnPinningChange:oV("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{let n=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,i,a,o,s,l;return"right"===r?{left:(null!=(a=null==e?void 0:e.left)?a:[]).filter(e=>!(null!=n&&n.includes(e))),right:[...(null!=(o=null==e?void 0:e.right)?o:[]).filter(e=>!(null!=n&&n.includes(e))),...n]}:"left"===r?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter(e=>!(null!=n&&n.includes(e))),...n],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter(e=>!(null!=n&&n.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=n&&n.includes(e))),right:(null!=(i=null==e?void 0:e.right)?i:[]).filter(e=>!(null!=n&&n.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var r,n,i;return(null==(r=e.columnDef.enablePinning)||r)&&(null==(n=null!=(i=t.options.enableColumnPinning)?i:t.options.enablePinning)||n)}),e.getIsPinned=()=>{let r=e.getLeafColumns().map(e=>e.id),{left:n,right:i}=t.getState().columnPinning,a=r.some(e=>null==n?void 0:n.includes(e)),o=r.some(e=>null==i?void 0:i.includes(e));return a?"left":!!o&&"right"},e.getPinnedIndex=()=>{var r,n;let i=e.getIsPinned();return i?null!=(r=null==(n=t.getState().columnPinning)||null==(n=n[i])?void 0:n.indexOf(e.id))?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=oU(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,r)=>{let n=[...null!=t?t:[],...null!=r?r:[]];return e.filter(e=>!n.includes(e.column.id))},oq(t.options,"debugRows","getCenterVisibleCells")),e.getLeftVisibleCells=oU(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"left"})),oq(t.options,"debugRows","getLeftVisibleCells")),e.getRightVisibleCells=oU(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"right"})),oq(t.options,"debugRows","getRightVisibleCells"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?o9():null!=(r=null==(n=e.initialState)?void 0:n.columnPinning)?r:o9())},e.getIsSomeColumnsPinned=t=>{var r,n,i;let a=e.getState().columnPinning;return t?!!(null==(r=a[t])?void 0:r.length):!!((null==(n=a.left)?void 0:n.length)||(null==(i=a.right)?void 0:i.length))},e.getLeftLeafColumns=oU(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),oq(e.options,"debugColumns","getLeftLeafColumns")),e.getRightLeafColumns=oU(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),oq(e.options,"debugColumns","getRightLeafColumns")),e.getCenterLeafColumns=oU(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,r)=>{let n=[...null!=t?t:[],...null!=r?r:[]];return e.filter(e=>!n.includes(e.id))},oq(e.options,"debugColumns","getCenterLeafColumns"))}},{createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},{getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:oV("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{let r=t.getCoreRowModel().flatRows[0],n=null==r?void 0:r.getValue(e.id);return"string"==typeof n?o6.includesString:"number"==typeof n?o6.inNumberRange:"boolean"==typeof n||null!==n&&"object"==typeof n?o6.equals:Array.isArray(n)?o6.arrIncludes:o6.weakEquals},e.getFilterFn=()=>{var r,n;return o$(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(r=null==(n=t.options.filterFns)?void 0:n[e.columnDef.filterFn])?r:o6[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,i;return(null==(r=e.columnDef.enableColumnFilter)||r)&&(null==(n=t.options.enableColumnFilters)||n)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return null==(r=t.getState().columnFilters)||null==(r=r.find(t=>t.id===e.id))?void 0:r.value},e.getFilterIndex=()=>{var r,n;return null!=(r=null==(n=t.getState().columnFilters)?void 0:n.findIndex(t=>t.id===e.id))?r:-1},e.setFilterValue=r=>{t.setColumnFilters(t=>{var n,i;let a=e.getFilterFn(),o=null==t?void 0:t.find(t=>t.id===e.id),s=oz(r,o?o.value:void 0);if(o8(a,s,e))return null!=(n=null==t?void 0:t.filter(t=>t.id!==e.id))?n:[];let l={id:e.id,value:s};return o?null!=(i=null==t?void 0:t.map(t=>t.id===e.id?l:t))?i:[]:null!=t&&t.length?[...t,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{let r=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var n;return null==(n=oz(t,e))?void 0:n.filter(e=>{let t=r.find(t=>t.id===e.id);return!(t&&o8(t.getFilterFn(),e.value,t))})})},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:null!=(r=null==(n=e.initialState)?void 0:n.columnFilters)?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel)?e.getPreFilteredRowModel():e._getFilteredRowModel()}},{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:oV("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;let n=null==(r=e.getCoreRowModel().flatRows[0])||null==(r=r._getAllCellsByColumnId()[t.id])?void 0:r.getValue();return"string"==typeof n||"number"==typeof n}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,i,a;return(null==(r=e.columnDef.enableGlobalFilter)||r)&&(null==(n=t.options.enableGlobalFilter)||n)&&(null==(i=t.options.enableFilters)||i)&&(null==(a=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||a)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>o6.includesString,e.getGlobalFilterFn=()=>{var t,r;let{globalFilterFn:n}=e.options;return o$(n)?n:"auto"===n?e.getGlobalAutoFilterFn():null!=(t=null==(r=e.options.filterFns)?void 0:r[n])?t:o6[n]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},{getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:oV("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{let r=t.getFilteredRowModel().flatRows.slice(10),n=!1;for(let t of r){let r=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(r))return sg.datetime;if("string"==typeof r&&(n=!0,r.split(sd).length>1))return sg.alphanumeric}return n?sg.text:sg.basic},e.getAutoSortDir=()=>{let r=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==r?void 0:r.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw Error();return o$(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(r=null==(n=t.options.sortingFns)?void 0:n[e.columnDef.sortingFn])?r:sg[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{let i=e.getNextSortingOrder(),a=null!=r;t.setSorting(o=>{let s;let l=null==o?void 0:o.find(t=>t.id===e.id),u=null==o?void 0:o.findIndex(t=>t.id===e.id),c=[],d=a?r:"desc"===i;if("toggle"!=(s=null!=o&&o.length&&e.getCanMultiSort()&&n?l?"toggle":"add":null!=o&&o.length&&u!==o.length-1?"replace":l?"toggle":"replace")||a||i||(s="remove"),"add"===s){var f;(c=[...o,{id:e.id,desc:d}]).splice(0,c.length-(null!=(f=t.options.maxMultiSortColCount)?f:Number.MAX_SAFE_INTEGER))}else c="toggle"===s?o.map(t=>t.id===e.id?{...t,desc:d}:t):"remove"===s?o.filter(t=>t.id!==e.id):[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var r,n;return(null!=(r=null!=(n=e.columnDef.sortDescFirst)?n:t.options.sortDescFirst)?r:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=r=>{var n,i;let a=e.getFirstSortDir(),o=e.getIsSorted();return o?(o===a||null!=(n=t.options.enableSortingRemoval)&&!n||!!r&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===o?"asc":"desc"):a},e.getCanSort=()=>{var r,n;return(null==(r=e.columnDef.enableSorting)||r)&&(null==(n=t.options.enableSorting)||n)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return null!=(r=null!=(n=e.columnDef.enableMultiSort)?n:t.options.enableMultiSort)?r:!!e.accessorFn},e.getIsSorted=()=>{var r;let n=null==(r=t.getState().sorting)?void 0:r.find(t=>t.id===e.id);return!!n&&(n.desc?"desc":"asc")},e.getSortIndex=()=>{var r,n;return null!=(r=null==(n=t.getState().sorting)?void 0:n.findIndex(t=>t.id===e.id))?r:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{let r=e.getCanSort();return n=>{r&&(null==n.persist||n.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(n))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:null!=(r=null==(n=e.initialState)?void 0:n.sorting)?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel)?e.getPreSortedRowModel():e._getSortedRowModel()}},{getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return null!=(t=null==(r=e.getValue())||null==r.toString?void 0:r.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:oV("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var r,n;return(null==(r=e.columnDef.enableGrouping)||r)&&(null==(n=t.options.enableGrouping)||n)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return null==(r=t.getState().grouping)?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return null==(r=t.getState().grouping)?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{let t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{let r=t.getCoreRowModel().flatRows[0],n=null==r?void 0:r.getValue(e.id);return"number"==typeof n?o5.sum:"[object Date]"===Object.prototype.toString.call(n)?o5.extent:void 0},e.getAggregationFn=()=>{var r,n;if(!e)throw Error();return o$(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(r=null==(n=t.options.aggregationFns)?void 0:n[e.columnDef.aggregationFn])?r:o5[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:null!=(r=null==(n=e.initialState)?void 0:n.grouping)?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel)?e.getPreGroupedRowModel():e._getGroupedRowModel()},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];let n=t.getColumn(r);return null!=n&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!(null!=(t=r.subRows)&&t.length)}}},{getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:oV("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,i;if(!t){e._queue(()=>{t=!0});return}if(null!=(n=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var r,n;e.setExpanded(t?{}:null!=(r=null==(n=e.initialState)?void 0:n.expanded)?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{let t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{let t=e.getState().expanded;return"boolean"==typeof t?!0===t:!(!Object.keys(t).length||e.getRowModel().flatRows.some(e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{let r=e.split(".");t=Math.max(t,r.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel)?e.getPreExpandedRowModel():e._getExpandedRowModel()},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var i;let a=!0===n||!!(null!=n&&n[e.id]),o={};if(!0===n?Object.keys(t.getRowModel().rowsById).forEach(e=>{o[e]=!0}):o=n,r=null!=(i=r)?i:!a,!a&&r)return{...o,[e.id]:!0};if(a&&!r){let{[e.id]:t,...r}=o;return r}return n})},e.getIsExpanded=()=>{var r;let n=t.getState().expanded;return!!(null!=(r=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?r:!0===n||(null==n?void 0:n[e.id]))},e.getCanExpand=()=>{var r,n,i;return null!=(r=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?r:(null==(n=t.options.enableExpanding)||n)&&!!(null!=(i=e.subRows)&&i.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)r=(n=t.getRow(n.parentId,!0)).getIsExpanded();return r},e.getToggleExpandedHandler=()=>{let t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},{getInitialState:e=>({...e,pagination:{...sa(),...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:oV("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,i;if(!t){e._queue(()=>{t=!0});return}if(null!=(n=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>oz(t,e)),e.resetPagination=t=>{var r;e.setPagination(t?sa():null!=(r=e.initialState.pagination)?r:sa())},e.setPageIndex=t=>{e.setPagination(r=>{let n=oz(t,r.pageIndex);return n=Math.max(0,Math.min(n,void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1)),{...r,pageIndex:n}})},e.resetPageIndex=t=>{var r,n;e.setPageIndex(t?0:null!=(r=null==(n=e.initialState)||null==(n=n.pagination)?void 0:n.pageIndex)?r:0)},e.resetPageSize=t=>{var r,n;e.setPageSize(t?10:null!=(r=null==(n=e.initialState)||null==(n=n.pagination)?void 0:n.pageSize)?r:10)},e.setPageSize=t=>{e.setPagination(e=>{let r=Math.max(1,oz(t,e.pageSize)),n=Math.floor(e.pageSize*e.pageIndex/r);return{...e,pageIndex:n,pageSize:r}})},e.setPageCount=t=>e.setPagination(r=>{var n;let i=oz(t,null!=(n=e.options.pageCount)?n:-1);return"number"==typeof i&&(i=Math.max(-1,i)),{...r,pageCount:i}}),e.getPageOptions=oU(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...Array(e)].fill(null).map((e,t)=>t)),t},oq(e.options,"debugTable","getPageOptions")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{let{pageIndex:t}=e.getState().pagination,r=e.getPageCount();return -1===r||0!==r&&t<r-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel)?e.getPrePaginationRowModel():e._getPaginationRowModel(),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},{getInitialState:e=>({rowPinning:so(),...e}),getDefaultOptions:e=>({onRowPinningChange:oV("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,i)=>{let a=n?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],o=new Set([...i?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],e.id,...a]);t.setRowPinning(e=>{var t,n,i,a,s,l;return"bottom"===r?{top:(null!=(i=null==e?void 0:e.top)?i:[]).filter(e=>!(null!=o&&o.has(e))),bottom:[...(null!=(a=null==e?void 0:e.bottom)?a:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)]}:"top"===r?{top:[...(null!=(s=null==e?void 0:e.top)?s:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter(e=>!(null!=o&&o.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=o&&o.has(e))),bottom:(null!=(n=null==e?void 0:e.bottom)?n:[]).filter(e=>!(null!=o&&o.has(e)))}})},e.getCanPin=()=>{var r;let{enableRowPinning:n,enablePinning:i}=t.options;return"function"==typeof n?n(e):null==(r=null!=n?n:i)||r},e.getIsPinned=()=>{let r=[e.id],{top:n,bottom:i}=t.getState().rowPinning,a=r.some(e=>null==n?void 0:n.includes(e)),o=r.some(e=>null==i?void 0:i.includes(e));return a?"top":!!o&&"bottom"},e.getPinnedIndex=()=>{var r,n;let i=e.getIsPinned();if(!i)return -1;let a=null==(r="top"===i?t.getTopRows():t.getBottomRows())?void 0:r.map(e=>{let{id:t}=e;return t});return null!=(n=null==a?void 0:a.indexOf(e.id))?n:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?so():null!=(r=null==(n=e.initialState)?void 0:n.rowPinning)?r:so())},e.getIsSomeRowsPinned=t=>{var r,n,i;let a=e.getState().rowPinning;return t?!!(null==(r=a[t])?void 0:r.length):!!((null==(n=a.top)?void 0:n.length)||(null==(i=a.bottom)?void 0:i.length))},e._getPinnedRows=(t,r,n)=>{var i;return(null==(i=e.options.keepPinnedRows)||i?(null!=r?r:[]).map(t=>{let r=e.getRow(t,!0);return r.getIsAllParentsExpanded()?r:null}):(null!=r?r:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>({...e,position:n}))},e.getTopRows=oU(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),oq(e.options,"debugRows","getTopRows")),e.getBottomRows=oU(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),oq(e.options,"debugRows","getBottomRows")),e.getCenterRows=oU(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,r)=>{let n=new Set([...null!=t?t:[],...null!=r?r:[]]);return e.filter(e=>!n.has(e.id))},oq(e.options,"debugRows","getCenterRows"))}},{getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:oV("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:null!=(r=e.initialState.rowSelection)?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=void 0!==t?t:!e.getIsAllRowsSelected();let n={...r},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(e=>{e.getCanSelect()&&(n[e.id]=!0)}):i.forEach(e=>{delete n[e.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{let n=void 0!==t?t:!e.getIsAllPageRowsSelected(),i={...r};return e.getRowModel().rows.forEach(t=>{ss(i,t.id,n,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=oU(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?sl(e,r):{rows:[],flatRows:[],rowsById:{}},oq(e.options,"debugTable","getSelectedRowModel")),e.getFilteredSelectedRowModel=oU(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?sl(e,r):{rows:[],flatRows:[],rowsById:{}},oq(e.options,"debugTable","getFilteredSelectedRowModel")),e.getGroupedSelectedRowModel=oU(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?sl(e,r):{rows:[],flatRows:[],rowsById:{}},oq(e.options,"debugTable","getGroupedSelectedRowModel")),e.getIsAllRowsSelected=()=>{let t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState(),n=!!(t.length&&Object.keys(r).length);return n&&t.some(e=>e.getCanSelect()&&!r[e.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:r}=e.getState(),n=!!t.length;return n&&t.some(e=>!r[e.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;let r=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{let i=e.getIsSelected();t.setRowSelection(a=>{var o;if(r=void 0!==r?r:!i,e.getCanSelect()&&i===r)return a;let s={...a};return ss(s,e.id,r,null==(o=null==n?void 0:n.selectChildren)||o,t),s})},e.getIsSelected=()=>{let{rowSelection:r}=t.getState();return su(e,r)},e.getIsSomeSelected=()=>{let{rowSelection:r}=t.getState();return"some"===sc(e,r)},e.getIsAllSubRowsSelected=()=>{let{rowSelection:r}=t.getState();return"all"===sc(e,r)},e.getCanSelect=()=>{var r;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(r=t.options.enableRowSelection)||r},e.getCanSelectSubRows=()=>{var r;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(r=t.options.enableSubRowSelection)||r},e.getCanMultiSelect=()=>{var r;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(r=t.options.enableMultiRowSelection)||r},e.getToggleSelectedHandler=()=>{let t=e.getCanSelect();return r=>{var n;t&&e.toggleSelected(null==(n=r.target)?void 0:n.checked)}}}},{getDefaultColumnDef:()=>o7,getInitialState:e=>({columnSizing:{},columnSizingInfo:se(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:oV("columnSizing",e),onColumnSizingInfoChange:oV("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,i;let a=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(r=e.columnDef.minSize)?r:o7.minSize,null!=(n=null!=a?a:e.columnDef.size)?n:o7.size),null!=(i=e.columnDef.maxSize)?i:o7.maxSize)},e.getStart=oU(e=>[e,si(t,e),t.getState().columnSizing],(t,r)=>r.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),oq(t.options,"debugColumns","getStart")),e.getAfter=oU(e=>[e,si(t,e),t.getState().columnSizing],(t,r)=>r.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),oq(t.options,"debugColumns","getAfter")),e.resetSize=()=>{t.setColumnSizing(t=>{let{[e.id]:r,...n}=t;return n})},e.getCanResize=()=>{var r,n;return(null==(r=e.columnDef.enableResizing)||r)&&(null==(n=t.options.enableColumnResizing)||n)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0,r=e=>{if(e.subHeaders.length)e.subHeaders.forEach(r);else{var n;t+=null!=(n=e.column.getSize())?n:0}};return r(e),t},e.getStart=()=>{if(e.index>0){let t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=r=>{let n=t.getColumn(e.column.id),i=null==n?void 0:n.getCanResize();return a=>{if(!n||!i||(null==a.persist||a.persist(),sn(a)&&a.touches&&a.touches.length>1))return;let o=e.getSize(),s=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[n.id,n.getSize()]],l=sn(a)?Math.round(a.touches[0].clientX):a.clientX,u={},c=(e,r)=>{"number"==typeof r&&(t.setColumnSizingInfo(e=>{var n,i;let a="rtl"===t.options.columnResizeDirection?-1:1,o=(r-(null!=(n=null==e?void 0:e.startOffset)?n:0))*a,s=Math.max(o/(null!=(i=null==e?void 0:e.startSize)?i:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,r]=e;u[t]=Math.round(100*Math.max(r+r*s,0))/100}),{...e,deltaOffset:o,deltaPercentage:s}}),("onChange"===t.options.columnResizeMode||"end"===e)&&t.setColumnSizing(e=>({...e,...u})))},d=e=>c("move",e),f=e=>{c("end",e),t.setColumnSizingInfo(e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=r||"undefined"!=typeof document?document:null,p={moveHandler:e=>d(e.clientX),upHandler:e=>{null==h||h.removeEventListener("mousemove",p.moveHandler),null==h||h.removeEventListener("mouseup",p.upHandler),f(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==h||h.removeEventListener("touchmove",g.moveHandler),null==h||h.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),f(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!sr()&&{passive:!1};sn(a)?(null==h||h.addEventListener("touchmove",g.moveHandler,m),null==h||h.addEventListener("touchend",g.upHandler,m)):(null==h||h.addEventListener("mousemove",p.moveHandler,m),null==h||h.addEventListener("mouseup",p.upHandler,m)),t.setColumnSizingInfo(e=>({...e,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:null!=(r=e.initialState.columnSizing)?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?se():null!=(r=e.initialState.columnSizingInfo)?r:se())},e.getTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getLeftHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getCenterHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getRightHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}}];function sv(e){let t=[],r=e=>{var n;t.push(e),null!=(n=e.subRows)&&n.length&&e.getIsExpanded()&&e.subRows.forEach(r)};return e.rows.forEach(r),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function sy(e,t,r){return r.options.filterFromLeafRows?function(e,t,r){var n;let i=[],a={},o=null!=(n=r.options.maxLeafRowFilterDepth)?n:100,s=function(e,n){void 0===n&&(n=0);let l=[];for(let c=0;c<e.length;c++){var u;let d=e[c],f=oQ(r,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(f.columnFilters=d.columnFilters,null!=(u=d.subRows)&&u.length&&n<o){if(f.subRows=s(d.subRows,n+1),t(d=f)&&!f.subRows.length||t(d)||f.subRows.length){l.push(d),a[d.id]=d,i.push(d);continue}}else t(d=f)&&(l.push(d),a[d.id]=d,i.push(d))}return l};return{rows:s(e),flatRows:i,rowsById:a}}(e,t,r):function(e,t,r){var n;let i=[],a={},o=null!=(n=r.options.maxLeafRowFilterDepth)?n:100,s=function(e,n){void 0===n&&(n=0);let l=[];for(let c=0;c<e.length;c++){let d=e[c];if(t(d)){var u;if(null!=(u=d.subRows)&&u.length&&n<o){let e=oQ(r,d.id,d.original,d.index,d.depth,void 0,d.parentId);e.subRows=s(d.subRows,n+1),d=e}l.push(d),i.push(d),a[d.id]=d}}return l};return{rows:s(e),flatRows:i,rowsById:a}}(e,t,r)}/**
     * react-table
     *
     * Copyright (c) TanStack
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */function sb(e,t){return e?"function"==typeof e&&(()=>{let t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()||"function"==typeof e||"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)?/*#__PURE__*/w.createElement(e,t):e:null}var sx=r(1852),sw=r(8446),sC=r(7271),sS=r(3858),sj=Object.prototype.hasOwnProperty;let sA=function(e){if(null==e)return!0;if((0,sw.A)(e)&&((0,iK.A)(e)||"string"==typeof e||"function"==typeof e.splice||(0,aS.A)(e)||(0,sS.A)(e)||(0,iH.A)(e)))return!e.length;var t=(0,ad.A)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,sC.A)(e))return!(0,sx.A)(e).length;for(var r in e)if(sj.call(e,r))return!1;return!0};var s_=r(8496);let sk=function(e){return"string"==typeof e||!(0,iK.A)(e)&&(0,aj.A)(e)&&"[object String]"==(0,s_.A)(e)},sE="(Blank)";function sO(e,t,r){return r.includes(e.getValue(t))}function sR(e,t,r){let n=e.getValue(t);return sA(n)?r.includes(sE):!!r.includes(n)}function sT({isTableManuallySized:e,theme:t,getTotalSize:r}){return{width:e&&r?r():"100%",borderSpacing:0,borderCollapse:"separate",th:{borderTop:`1px solid ${t.cellBorderColor}`,borderBottom:`1px solid ${t.cellBorderColor}`,borderRight:`1px solid ${t.cellBorderColor}`},td:{borderBottom:`1px solid ${t.cellBorderColor}`,borderRight:`1px solid ${t.cellBorderColor}`},"th:first-of-type, td:first-of-type":{borderLeft:`1px solid ${t.cellBorderColor}`},...t.isDark?{"td .ant-btn-link:hover":{color:"#90a6d1"}}:{}}}function sI({afterFilteringApplied:e,table:t}){let r=[];r=e?t.getFilteredRowModel().flatRows:t.getPreFilteredRowModel().flatRows;let{rowSelection:n}=t.getState(),i=!!(r.length&&Object.keys(n).length);return i&&r.some(e=>e.getCanSelect()&&!n[e.id])&&(i=!1),i}let sM="select";function sF({table:e}){return(0,g.jsx)(m.Checkbox,{checked:sI({table:e,afterFilteringApplied:!1}),indeterminate:function({table:e}){let t=Object.keys(e.getState().rowSelection??{}).length;return t>0&&t<e.getPreFilteredRowModel().flatRows.length}({table:e}),onChange:t=>{e.setRowSelection(r=>(function({table:e,value:t,currentRowSelection:r}){t=void 0!==t?t:!sI({table:e,afterFilteringApplied:!0});let n={...r},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(e=>{e.getCanSelect()&&(n[e.id]=!0)}):i.forEach(e=>{delete n[e.id]}),n})({table:e,value:t.target.value,currentRowSelection:r}))}})}function sD({row:e}){return(0,g.jsx)(m.Checkbox,{checked:e.getIsSelected(),disabled:!e.getCanSelect(),indeterminate:e.getIsSomeSelected(),onChange:e.getToggleSelectedHandler()})}function sP({row:e}){return(0,g.jsx)(m.Checkbox,{checked:e.getIsAllSubRowsSelected(),disabled:!e.getCanSelectSubRows(),indeterminate:e.getIsSomeSelected(),onChange:t=>e.subRows.forEach(e=>{e.toggleSelected(t.target.checked)})})}let sL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var sN=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:sL}))}),sz=r(8182);let sV=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a},s$=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:sV(e,t,r)};var sB=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");let sU=function(e){return sB.test(e)};var sq="\ud800-\udfff",sH="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",sK="\ud83c[\udffb-\udfff]",sZ="[^"+sq+"]",sQ="(?:\ud83c[\udde6-\uddff]){2}",sG="[\ud800-\udbff][\udc00-\udfff]",sW="(?:"+sH+"|"+sK+")?",sY="[\\ufe0e\\ufe0f]?",sX="(?:\\u200d(?:"+[sZ,sQ,sG].join("|")+")"+sY+sW+")*",sJ=RegExp(sK+"(?="+sK+")|(?:"+[sZ+sH+"?",sH,sQ,sG,"["+sq+"]"].join("|")+")"+(sY+sW+sX),"g");let s0=function(e){return sU(e)?e.match(sJ)||[]:e.split("")},s1=function(e){var t=sU(e=(0,sz.A)(e))?s0(e):void 0,r=t?t[0]:e.charAt(0),n=t?s$(t,1).join(""):e.slice(1);return r.toUpperCase()+n},s2=function(e){return s1((0,sz.A)(e).toLowerCase())},s4=tz.tuple([tz.number().nullable(),tz.number().nullable()]);function s6(e){return tz.string().array().safeParse(e.value).success}let s3=["large","medium","small"];function s8({onTableSizeChange:e,tableSize:t,id:r}){let n=(0,p.useTheme)(),i=`${r??"global"}-table-size-selector`;return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[(0,g.jsx)("label",{htmlFor:i,style:{fontWeight:"bold"},children:"Table size"}),(0,g.jsx)(m.Select,{id:i,onChange:e,value:t,options:s3.map(e=>({label:(0,g.jsxs)("span",{children:[s2(e)," ","large"===e&&(0,g.jsxs)("span",{style:{color:n.disabledTextColor},children:[" ","(default)"]})]}),value:e})),style:{width:"150px"}})]})}function s5(e,t,r,n=!0){let i=[...r],a=r[e];return i.splice(e,1),i.splice(e<t&&!n?t-1:t,0,a),i}let s9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};var s7=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:s9}))}),le=r(6695);function lt({disabledHiding:e,columnConfiguration:t,configurationId:r,onColumnOrderChange:n,onToggleColumnVisibility:i,disableColumnReordering:a}){let o=(0,p.useTheme)(),[{isDragging:s},l,u]=(0,le.useDrag)({type:`listItem_${r}`,item:()=>t,collect:e=>({isDragging:e.isDragging()})}),[{isOver:c,canDrop:d},f]=(0,le.useDrop)({accept:`listItem_${r}`,drop:e=>{n(e.id,t.id)},collect:e=>({canDrop:!a&&e.canDrop(),isOver:e.isOver()})});return(0,g.jsxs)("div",{ref:e=>{a||(u(e),f(e))},style:{opacity:s?.5:1,display:"flex",justifyContent:"space-between",alignItems:"center",gap:4,borderTop:c&&d?`5px solid ${o.dropHintBorderColor}`:"none"},children:[(0,g.jsx)(s7,{ref:l,css:{padding:4,"&:hover":{cursor:"move"}}}),(0,g.jsx)("label",{style:{flexGrow:1},htmlFor:`switch-${t.id}`,children:t.label}),(0,g.jsx)(m.Switch,{size:"small",id:`switch-${t.id}`,checked:t.isVisible,disabled:e,onChange:e=>{i(t.id,e)},style:{whiteSpace:"nowrap",flexShrink:1,overflow:"hidden",textOverflow:"ellipsis"}},t.id)]})}function lr({configurationId:e,orderedColumnConfig:t,disableColumnReordering:r=!1,onResetColumns:n,onColumnOrderChange:i,onColumnVisibilityChange:a}){let o=t.filter(e=>"select"!==e.id),s=o.filter(e=>e.isVisible),l=(0,p.useTheme)(),[{isOver:u},c]=(0,le.useDrop)({accept:`listItem_${e}`,drop:e=>{let t=o.map(e=>e.id),r=t.length;i(s5(t.indexOf(e.id),r,t,!1))},collect:e=>({canDrop:!r&&e.canDrop(),isOver:e.isOver()})}),d=o.some(e=>e.isHideable);return(0,g.jsxs)("div",{id:`${e}-draggable-column-configuration`,style:{display:"flex",flexDirection:"column",width:"100%"},children:[r&&!d?null:(0,g.jsxs)(g.Fragment,{children:[o.map(t=>(0,g.jsx)(lt,{disableColumnReordering:r,onToggleColumnVisibility:(e,t)=>{a(o.reduce((r,n)=>(e===n.id?r[n.id]=t:r[n.id]=n.isVisible,r),{}))},columnConfiguration:t,configurationId:e,onColumnOrderChange:(e,t)=>{let r=o.map(e=>e.id),n=r.indexOf(t);i(s5(r.indexOf(e),n,r,!1))},disabledHiding:1===s.length&&t.isVisible||!t.isHideable},`draggable-col-${t.id}`)),(0,g.jsx)("div",{ref:c,style:{borderTop:u?`5px solid ${l.dropHintBorderColor}`:"none",width:"100%",height:16}}),(0,g.jsx)(m.Divider,{style:{marginTop:0}})]}),(0,g.jsx)(m.Button,{style:{textAlign:"left",width:"100%"},type:"text",onClick:n,children:"Reset columns"})]})}function ln({configurationId:e,onReset:t,tableSize:r,disableColumnReordering:n,onTableSizeChange:i,orderedColumnConfig:a,onColumnOrderChange:o,onColumnVisibilityChange:s}){let[l,u]=(0,w.useState)(!1);return(0,g.jsx)(m.Popover,{open:l,placement:"bottomRight",arrow:{pointAtCenter:!0},trigger:"click",onOpenChange:e=>u(e),overlayStyle:{maxWidth:450,width:250},content:()=>(0,g.jsxs)("div",{"data-testid":"BasTableConfigurationPanel",children:[(0,g.jsx)(s8,{onTableSizeChange:i,tableSize:r,id:e}),(0,g.jsx)(m.Divider,{}),(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"baseline",gap:4,paddingBottom:6},children:[(0,g.jsx)("label",{htmlFor:`${e}-draggable-column-configuration`,style:{fontWeight:"bold"},children:"Columns"}),(0,g.jsx)(lr,{onResetColumns:()=>{t(),u(!1)},disableColumnReordering:n,orderedColumnConfig:a,onColumnVisibilityChange:s,configurationId:e,onColumnOrderChange:o})]})]}),children:(0,g.jsx)(m.Button,{onClick:()=>u(!l),icon:(0,g.jsx)(sN,{"data-testid":"bas-table-configuration"})})})}var li=r(4352);function la(e,t,r){let n,i=r.initialDeps??[];return()=>{var a,o,s,l;let u,c;r.key&&(null==(a=r.debug)?void 0:a.call(r))&&(u=Date.now());let d=e();if(!(d.length!==i.length||d.some((e,t)=>i[t]!==e)))return n;if(i=d,r.key&&(null==(o=r.debug)?void 0:o.call(r))&&(c=Date.now()),n=t(...d),r.key&&(null==(s=r.debug)?void 0:s.call(r))){let e=Math.round((Date.now()-u)*100)/100,t=Math.round((Date.now()-c)*100)/100,n=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${i(t,5)} /${i(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*n,120))}deg 100% 31%);`,null==r?void 0:r.key)}return null==(l=null==r?void 0:r.onChange)||l.call(r,n),n}}function lo(e,t){if(void 0!==e)return e;throw Error(`Unexpected undefined${t?`: ${t}`:""}`)}let ls=(e,t)=>1>Math.abs(e-t),ll=e=>e,lu=e=>{let t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let e=t;e<=r;e++)n.push(e);return n},lc=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=e=>{let{width:r,height:n}=e;t({width:Math.round(r),height:Math.round(n)})};if(n(r.getBoundingClientRect()),"undefined"==typeof ResizeObserver)return()=>{};let i=new ResizeObserver(e=>{let t=e[0];if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e){n({width:e.inlineSize,height:e.blockSize});return}}n(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),()=>{i.unobserve(r)}},ld=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=()=>{t(r[e.options.horizontal?"scrollLeft":"scrollTop"])};return n(),r.addEventListener("scroll",n,{passive:!0}),()=>{r.removeEventListener("scroll",n)}},lf=(e,t,r)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[r.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[r.options.horizontal?"width":"height"])},lh=(e,{adjustments:t=0,behavior:r},n)=>{var i,a;null==(a=null==(i=n.scrollElement)?void 0:i.scrollTo)||a.call(i,{[n.options.horizontal?"left":"top"]:e+t,behavior:r})};class lp{constructor(e){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=/* @__PURE__ */new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=/* @__PURE__ */new Map,this.observer=/* @__PURE__ */(()=>{let e=null,t=()=>e||("undefined"!=typeof ResizeObserver?e=new ResizeObserver(e=>{e.forEach(e=>{this._measureElement(e.target,e)})}):null);return{disconnect:()=>{var e;return null==(e=t())?void 0:e.disconnect()},observe:e=>{var r;return null==(r=t())?void 0:r.observe(e,{box:"border-box"})},unobserve:e=>{var r;return null==(r=t())?void 0:r.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,r])=>{void 0===r&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ll,rangeExtractor:lu,onChange:()=>{},measureElement:lf,initialRect:{width:0,height:0},scrollMargin:0,gap:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,...e}},this.notify=e=>{var t,r;null==(r=(t=this.options).onChange)||r.call(t,this,e)},this.maybeNotify=la(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{let e=this.options.getScrollElement();this.scrollElement!==e&&(this.cleanup(),this.scrollElement=e,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,e=>{this.scrollAdjustments=0,this.scrollOffset!==e&&(null!==this.isScrollingTimeoutId&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.isScrolling=!0,this.scrollDirection=this.scrollOffset<e?"forward":"backward",this.scrollOffset=e,this.maybeNotify(),this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.scrollDirection=null,this.maybeNotify()},this.options.scrollingDelay))})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.memoOptions=la(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(e,t,r,n)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:r,getItemKey:n}),{key:!1}),this.getFurthestMeasurement=(e,t)=>{let r=/* @__PURE__ */new Map,n=/* @__PURE__ */new Map;for(let i=t-1;i>=0;i--){let t=e[i];if(r.has(t.lane))continue;let a=n.get(t.lane);if(null==a||t.end>a.end?n.set(t.lane,t):t.end<a.end&&r.set(t.lane,!0),r.size===this.options.lanes)break}return n.size===this.options.lanes?Array.from(n.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurements=la(()=>[this.memoOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:r,getItemKey:n},i)=>{let a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let o=this.measurementsCache.slice(0,a);for(let s=a;s<e;s++){let e=n(s),a=1===this.options.lanes?o[s-1]:this.getFurthestMeasurement(o,s),l=a?a.end+this.options.gap:t+r,u=i.get(e),c="number"==typeof u?u:this.options.estimateSize(s),d=l+c,f=a?a.lane:s%this.options.lanes;o[s]={index:s,start:l,size:c,end:d,key:e,lane:f}}return this.measurementsCache=o,o},{key:!1,debug:()=>this.options.debug}),this.calculateRange=la(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(e,t,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:r}){let n=e.length-1,i=lg(0,n,t=>e[t].start,r),a=i;for(;a<n&&e[a].end<r+t;)a++;return{startIndex:i,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=la(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,t,r,n)=>null===t?[]:e({...t,overscan:r,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,r=e.getAttribute(t);return r?parseInt(r,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let r=this.measurementsCache[this.indexFromElement(e)];if(!r||!e.isConnected){this.measureElementCache.forEach((t,r)=>{t===e&&(this.observer.unobserve(e),this.measureElementCache.delete(r))});return}let n=this.measureElementCache.get(r.key);n!==e&&(n&&this.observer.unobserve(n),this.observer.observe(e),this.measureElementCache.set(r.key,e));let i=this.options.measureElement(e,t,this);this.resizeItem(r,i)},this.resizeItem=(e,t)=>{let r=t-(this.itemSizeCache.get(e.key)??e.size);0!==r&&(e.start<this.scrollOffset+this.scrollAdjustments&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,t)),this.notify(!1))},this.measureElement=e=>{e&&this._measureElement(e,void 0)},this.getVirtualItems=la(()=>[this.getIndexes(),this.getMeasurements()],(e,t)=>{let r=[];for(let n=0,i=e.length;n<i;n++){let i=t[e[n]];r.push(i)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();return lo(t[lg(0,t.length-1,e=>lo(t[e]).start,e)])},this.getOffsetForAlignment=(e,t)=>{let r=this.getSize();"auto"===t&&(t=e<=this.scrollOffset?"start":e>=this.scrollOffset+r?"end":"start"),"start"===t||("end"===t?e-=r:"center"===t&&(e-=r/2));let n=this.options.horizontal?"scrollWidth":"scrollHeight";return Math.max(Math.min((this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[n]:this.scrollElement[n]:0)-this.getSize(),e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let r=lo(this.getMeasurements()[e]);if("auto"===t){if(r.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)t="end";else{if(!(r.start<=this.scrollOffset+this.options.scrollPaddingStart))return[this.scrollOffset,t];t="start"}}let n="end"===t?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(n,t),t]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:r}={})=>{this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:t="auto",behavior:r}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");let[n,i]=this.getOffsetForIndex(e,t);this._scrollToOffset(n,{adjustments:void 0,behavior:r}),"smooth"!==r&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(e))){let[t]=this.getOffsetForIndex(e,i);ls(t,this.scrollOffset)||this.scrollToIndex(e,{align:i,behavior:r})}else this.scrollToIndex(e,{align:i,behavior:r})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t=this.getMeasurements();return(0===t.length?this.options.paddingStart:1===this.options.lanes?(null==(e=t[t.length-1])?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map(e=>e.end)))-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(e,{adjustments:t,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=/* @__PURE__ */new Map,this.notify(!1)},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}),this.maybeNotify()}}let lg=(e,t,r,n)=>{for(;e<=t;){let i=(e+t)/2|0,a=r(i);if(a<n)e=i+1;else{if(!(a>n))return i;t=i-1}}return e>0?e-1:0},lm="undefined"!=typeof document?w.useLayoutEffect:w.useEffect;function lv(e){return function(e){let t=w.useReducer(()=>({}),{})[1],r={...e,onChange:(r,n)=>{var i;n?(0,li.flushSync)(t):t(),null==(i=e.onChange)||i.call(e,r,n)}},[n]=w.useState(()=>new lp(r));return n.setOptions(r),w.useEffect(()=>n._didMount(),[]),lm(()=>n._willUpdate()),n}({observeElementRect:lc,observeElementOffset:ld,scrollToFn:lh,...e})}function ly({tableSize:e}){return{rowHeight:"small"===e?"10px !important":"medium"===e?"14px !important":"18px !important",checkboxCss:{".ant-checkbox":{top:"unset"},".ant-checkbox-inner":{height:"small"===e?"10px":"14px",width:"small"===e?"10px":"14px"},".ant-checkbox-wrapper":{lineHeight:"unset",display:"flex",alignItems:"center",justifyContent:"center",top:"small"===e?"2px":"medium"===e?"1px":"0px"}},fontSize:"small"===e?"10px":"12px",cellPadding:"large"===e?4:"medium"===e?2:1,checkboxColumnWidth:"small"===e?14:16}}let lb=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],lx=e=>({_s:e,status:lb[e],isEnter:e<3,isMounted:6!==e,isResolved:2===e||e>4}),lw=e=>e?6:5,lC=(e,t)=>{switch(e){case 1:case 0:return 2;case 4:case 3:return lw(t)}},lS=e=>"object"==typeof e?[e.enter,e.exit]:[e,e],lj=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),lA=(e,t,r,n,i)=>{clearTimeout(n.current);let a=lx(e);t(a),r.current=a,i&&i({current:a})},l_=({enter:e=!0,exit:t=!0,preEnter:r,preExit:n,timeout:i,initialEntered:a,mountOnEnter:o,unmountOnExit:s,onStateChange:l}={})=>{let[u,c]=(0,w.useState)(()=>lx(a?2:lw(o))),d=(0,w.useRef)(u),f=(0,w.useRef)(),[h,p]=lS(i),g=(0,w.useCallback)(()=>{let e=lC(d.current._s,s);e&&lA(e,c,d,f,l)},[l,s]),m=(0,w.useCallback)(i=>{let a=e=>{switch(lA(e,c,d,f,l),e){case 1:h>=0&&(f.current=setTimeout(g,h));break;case 4:p>=0&&(f.current=setTimeout(g,p));break;case 0:case 3:f.current=lj(a,e)}},o=d.current.isEnter;"boolean"!=typeof i&&(i=!o),i?o||a(e?r?0:1:2):o&&a(t?n?3:4:lw(s))},[g,l,e,t,r,n,h,p,s]);return(0,w.useEffect)(()=>()=>clearTimeout(f.current),[]),[u,m,g]},lk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var lE=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:lk}))});let lO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var lR=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:lO}))});let lT=w.memo(function({cellPadding:e,cellStyle:t,cell:r,className:n}){return(0,g.jsx)("td",{style:{padding:e,...t?t(r):{}},className:n,children:r.getIsGrouped()?(0,g.jsxs)(m.Button,{onClick:r.row.getToggleExpandedHandler(),type:"ghost",icon:r.row.getIsExpanded()?(0,g.jsx)(lE,{}):(0,g.jsx)(lR,{}),children:[sb(r.column.columnDef.cell,r.getContext())," (",r.row.subRows.length,")"]}):r.getIsPlaceholder()?null:r.getIsAggregated()?sb(r.column.columnDef.aggregatedCell,r.getContext()):sb(r.column.columnDef.cell,r.getContext())},r.id)}),lI="background-color-animation";function lM({tableRowRef:e,index:t,rowOrRowWithTimestamp:r,enableRowSelection:n,cellStyle:i,tableSize:a,dataIndex:o,isRowSelected:s,measureElement:l}){let u=(0,p.useTheme)();m(null);let{rowHeight:c,fontSize:d,cellPadding:f}=ly({tableSize:a}),h={fontSize:d,backgroundColor:s?u.selectionColor:u.backgroundColor,color:u.textColor,lineHeight:c,...n&&{"&:hover":{backgroundColor:u.selectionOverlayColor}}};function m(r){0===t&&e&&(e.current=r)}let[{status:v,isEnter:y},b]=l_({enter:!1,exit:!1}),{timestampAdded:x}=r.original,w=void 0!==x&&Date.now()-x<2e3;return!y&&w&&(b(),setTimeout(()=>{b()},3e3)),(0,g.jsx)("tr",{css:[h],className:`${lI} ${v}`,"data-index":o,ref:e=>{m(e),l(e)},children:r.getVisibleCells().sort((e,t)=>"select"===e.column.id?-1:"select"===t.column.id?1:0).map(e=>(0,g.jsx)(lT,{cell:e,cellPadding:f,cellStyle:i,className:`isExpanded-${r.getIsExpanded()}`},`${r.id}-${e.id}-${s}`))},r.id)}function lF({rows:e,tableSize:t,virtualItems:r,enableRowSelection:n,cellStyle:i,numberOfColumns:a,emptyMessage:o,tableRowRef:s,measureElement:l}){let{fontSize:u,rowHeight:c}=ly({tableSize:t}),d=(0,p.useTheme)(),f=`
    @keyframes flashRowKeyframe {
      from {
        background-color: #d9f7b3;
      }
      25% {
        background-color: #d9f7b3;
      }
      to {
        background-color: ${d.backgroundColor};
      }
    }
    .${lI}.entered {
      animation: flashRowKeyframe 2500ms;
    }
    `;return(0,g.jsx)("tbody",{css:[{"tr td .ant-btn-icon-only,tr td .ant-progress-inner":{height:c,border:0},"tr td .ant-progress-inner":{width:c},"tr td":{".ant-checkbox":{top:"unset"},".ant-checkbox-inner":{height:"small"===t?"10px":"14px",width:"small"===t?"10px":"14px"},".ant-checkbox-wrapper":{lineHeight:"unset",display:"flex",alignItems:"center",justifyContent:"center",top:"small"===t?"2px":"medium"===t?"1px":"0px"}},"*":{lineHeight:c,fontSize:`${u} !important`}},f],children:0===e.length?(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:a,children:(0,g.jsx)(m.Empty,{image:m.Empty.PRESENTED_IMAGE_SIMPLE,description:o})})}):r.map((r,a)=>{let o=e[r.index-1];return(0,g.jsx)(lM,{tableRowRef:s,index:a,dataIndex:r.index,rowOrRowWithTimestamp:o,isRowSelected:o.getIsAllSubRowsSelected()||o.getIsSelected(),enableRowSelection:n,cellStyle:i,tableSize:t,measureElement:l},`${o.id}-${o.original.timestampAdded}`)})})}function lD(e){return"touchstart"===e.type}function lP(e,t){return void 0!==e.getState().columnSizing[t.column.id]?t.getSize():document.getElementById(t.column.id).getBoundingClientRect().width}let lL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};var lN=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:lL}))});let lz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var lV=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:lz}))});let l$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"};var lB=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:l$}))}),lU=r(6318),lq=r(2816),lH=r(1578);let lK=function(e,t){var r=-1,n=(0,sw.A)(e)?Array(e.length):[];return(0,lH.A)(e,function(e,i,a){n[++r]=t(e,i,a)}),n},lZ=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},lQ=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=(0,iT.A)(e),o=void 0!==t,s=null===t,l=t==t,u=(0,iT.A)(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return -1}return 0},lG=function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var l=lQ(i[n],a[n]);if(l){if(n>=s)return l;return l*("desc"==r[n]?-1:1)}}return e.index-t.index};var lW=r(9008);let lY=function(e,t,r){t=t.length?(0,a1.A)(t,function(e){return(0,iK.A)(e)?function(t){return(0,lU.A)(t,1===e.length?e[0]:e)}:e}):[lW.A];var n=-1;return t=(0,a1.A)(t,(0,aA.A)(lq.A)),lZ(lK(e,function(e,r,i){return{criteria:(0,a1.A)(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return lG(e,t,r)})};var lX=r(6832),lJ=(0,a6.A)(function(e,t){if(null==e)return[];var r=t.length;return r>1&&(0,lX.A)(e,t[0],t[1])?t=[]:r>2&&(0,lX.A)(t[0],t[1],t[2])&&(t=[t[0]]),lY(e,iG(t,1),[])});function l0({column:e,filterValues:t,onClose:r}){let[n,i]=(0,w.useState)(),[a,o]=(0,w.useState)(t),s=(0,w.useRef)(null),l=(0,w.useMemo)(()=>Array.from(e.getFacetedUniqueValues().keys()),[e]),u=(0,w.useMemo)(()=>l.filter(e=>!!sA(n)||e.toLowerCase().includes(n.toLowerCase())).sort(),[l,n]),c=lv({count:u.length,estimateSize:()=>20,getScrollElement:()=>s.current,overscan:125});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{style:{width:250,paddingBottom:6},children:[(0,g.jsx)(oa,{inputProps:{height:28,placeholder:"Search",allowClear:!0,style:{marginBottom:4}},onValueChangedDebounced:i,debounceDelay:500}),(0,g.jsx)("div",{style:{overflow:"auto",height:Math.min(218,20*l.length)},ref:s,children:(0,g.jsx)(m.Checkbox.Group,{value:a,style:{height:`${c.getTotalSize()}px`,position:"relative"},children:c.getVirtualItems().map(e=>{let t=u[e.index];return(0,g.jsx)(m.Checkbox,{value:t,style:{width:"100%",whiteSpace:"nowrap",position:"absolute",top:0,left:0,height:`${e.size}px`,transform:`translateY(${e.start}px)`},onChange:e=>{e.target.checked?o([...a,t]):o(a.filter(e=>e!==t))},children:t},t)})})})]}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"4px"},children:[(0,g.jsx)(m.Button,{style:{transition:"none"},onClick:function(){o([])},type:"link",children:"Reset"}),(0,g.jsx)(m.Button,{type:"primary",onClick:function(){r(),setTimeout(()=>{0!==a.length?e.setFilterValue(a):e.setFilterValue(void 0)},250)},disabled:io(lJ(a),lJ(t)),children:"Apply"})]})]})}function l1({filterValue:e,onFilterValueChanged:t}){return(0,g.jsxs)("div",{style:{width:"100%",display:"flex",gap:8},children:[(0,g.jsx)(m.InputNumber,{prefix:"Min",style:{width:"50%"},value:e[0],onChange:r=>{t([r,e[1]])}}),(0,g.jsx)(m.InputNumber,{prefix:"Max",style:{width:"50%"},value:e[1],onChange:r=>{t([e[0],r])}})]})}function l2({column:e,filterValues:t,onClose:r}){let[n,i]=(0,w.useState)(t),a=io(t,n),o=null!==n[0]&&null!==n[1]&&n[0]>n[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{width:250,paddingBottom:6},children:(0,g.jsx)(l1,{filterValue:n,onFilterValueChanged:i})}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"4px"},children:[(0,g.jsx)(m.Button,{style:{transition:"none"},onClick:function(){i([null,null])},type:"link",children:"Reset"}),(0,g.jsx)(m.Tooltip,{trigger:o?["hover"]:[],title:"Invalid interval",mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{type:"primary",onClick:function(){r(),setTimeout(()=>{e.setFilterValue(n)},250)},disabled:a||o,children:"Apply"})})]})]})}let l4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"}}]},name:"sort-ascending",theme:"outlined"};var l6=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:l4}))});let l3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z"}}]},name:"sort-descending",theme:"outlined"};var l8=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:l3}))});let l5={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var l9=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:l5}))});function l7({column:e,onSortingOptionSelected:t}){let r=e.getIsSorted();return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"250px"},children:[(0,g.jsx)(m.Button,{onClick:()=>{e.toggleSorting(!1,!0),t()},style:{textAlign:"left",width:"100%"},type:"text",icon:(0,g.jsx)(l6,{}),disabled:r&&"asc"===r,children:"Sort ascending"}),(0,g.jsx)(m.Button,{onClick:()=>{e.toggleSorting(!0,!0),t()},style:{textAlign:"left",width:"100%"},type:"text",icon:(0,g.jsx)(l8,{}),disabled:r&&"desc"===r,children:"Sort descending"}),(0,g.jsx)(m.Button,{onClick:()=>{e.clearSorting(),t()},style:{textAlign:"left",width:"100%"},type:"text",disabled:!r,icon:(0,g.jsx)(l9,{}),children:"Clear sorting"})]})}function ue({column:e,columnFilter:t}){let[r,n]=(0,w.useState)(!1),i=(0,p.useTheme)();return(0,g.jsx)("div",{className:r?"always-visible":"visible-on-hover",children:(0,g.jsx)(m.Popover,{trigger:"click",destroyTooltipOnHide:!0,open:r,arrow:{pointAtCenter:!0},placement:"bottomRight",content:()=>(0,g.jsx)(m.Tabs,{defaultActiveKey:"1",css:(0,v.css)`
              .ant-tabs-nav {
                width: 100% !important;
              }

              .ant-tabs-tab {
                display: block;
                flex: 1;
                text-align: center;
                margin: 0 !important;
              }

              .ant-tabs-nav > div:nth-of-type(1) {
                display: unset !important;
                width: 100% !important;
              }
            `,items:[...e.getCanFilter()?[{label:(0,g.jsx)(lN,{style:{marginLeft:8,marginRight:8}}),key:"1",children:"inNumberRange"===e.columnDef.filterFn?(0,g.jsx)(l2,{column:e,filterValues:t?.value||[null,null],onClose:()=>n(!1)}):(0,g.jsx)(l0,{column:e,filterValues:t?.value||[],onClose:()=>n(!1)})}]:[],...e.getCanSort()?[{label:(0,g.jsxs)("div",{style:{marginLeft:8,marginRight:8},children:[(0,g.jsx)(lV,{style:{margin:0}}),(0,g.jsx)(lB,{style:{margin:0}})]}),key:"2",children:(0,g.jsx)(l7,{column:e,onSortingOptionSelected:()=>n(!1)})}]:[]]}),children:(0,g.jsx)(m.Button,{icon:(0,g.jsx)(s7,{}),size:"small",ghost:!0,onClick:e=>{n(e=>!e),e.stopPropagation()},css:{fontSize:12,color:i.grayScale[6],border:"none",transition:"none","&:hover":{color:i.grayScale[7]}}})})})}function ut({column:e}){let t=(0,p.useTheme)();return(0,g.jsx)("span",{style:{color:t.textColor},children:"asc"===e.getIsSorted()?(0,g.jsx)(l6,{onClick:()=>e.toggleSorting(!0)}):(0,g.jsx)(l8,{onClick:()=>e.toggleSorting(!1)})})}function ur({header:e,tableRowRef:t,table:r,tableId:n,disableColumnReordering:i,tableSize:a,style:o,autoLockColumnWidth:s,onLockColumnWidth:l}){let u=(0,p.useTheme)(),c=(0,w.useRef)(null);(0,w.useEffect)(()=>{-1===e.column.columnDef.size&&void 0===s&&t.current&&c.current&&l(c.current.getBoundingClientRect().width)},[s,e.column.columnDef.size,l,t]);let[{canDrop:d,isOver:f},h]=(0,le.useDrop)({accept:`column_${n}`,drop:t=>{let n=r.getState().columnOrder.length>0?r.getState().columnOrder:r.getAllLeafColumns().map(e=>e.id),i=s5(n.indexOf(t.id),n.indexOf(e.column.id),n);r.setColumnOrder(i)},collect:e=>({canDrop:e.canDrop(),isOver:e.isOver()})}),[{isDragging:y},b,x]=(0,le.useDrag)({collect:e=>({isDragging:e.isDragging()}),item:()=>e.column,type:`column_${n}`,end:(e,t)=>{let n=t.didDrop(),i=e.getCanHide()&&1===r.getAllColumns().filter(e=>e.getIsVisible()&&e.getCanHide()).length;n||i||e.toggleVisibility()},canDrag:!i}),C=r.getState().columnFilters.find(({id:t})=>t===e.column.id),S=void 0!==r.getState().columnSizing[e.column.id],{cellPadding:j}=ly({tableSize:a}),A=e.column.getIsSorted();return(0,v.createElement)("th",{scope:"col",...A?{"aria-sort":"asc"===A?"ascending":"descending"}:{},id:e.column.id,ref:e=>{h(e),x(e),c.current=e},style:{border:d?`1px dashed ${u.dropHintBorderColor}`:void 0},css:{background:f?u.dropHintColor:u.grayScale[1],opacity:y?.4:1,width:S?e.getSize():-1===e.column.columnDef.size?s??"auto":e.column.columnDef.size,fontWeight:"600",padding:j,...o,userSelect:"none",".visible-on-hover":{visibility:"hidden"},"&:hover":{".visible-on-hover":{visibility:"visible"}}},key:e.id},(0,g.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",gap:"4px",alignItems:"center"},children:[e.isPlaceholder?null:(0,g.jsx)("div",{style:{flexGrow:1,...e.column.id===sM?{}:{textAlign:"left"}},ref:b,children:(0,g.jsxs)(m.Space,{size:"small",style:{fontSize:"unset"},children:[sb(e.column.columnDef.header,e.getContext()),A&&(0,g.jsx)(ut,{column:e.column})]})}),r.getRowModel().rows.length>0&&(e.column.getCanFilter()||e.column.getCanSort())?(0,g.jsx)(ue,{columnFilter:C,column:e.column}):null,e.column.getCanResize()&&(0,g.jsx)("div",{css:{background:u.grayScale[6],cursor:"col-resize",userSelect:"none",width:5,marginRight:-j-3,height:"100%",opacity:e.column.getIsResizing()?1:0,"&:hover":{opacity:1}},onMouseDown:function(e,t){let r=e.getColumn(t.column.id),n=r?.getCanResize();return i=>{if(!r||!n||(i.persist?.(),lD(i)&&i.touches&&i.touches.length>1))return;let a=lP(e,t),o=t?t.getLeafHeaders().map(t=>[t.column.id,lP(e,t)]):[[r.id,r.getSize()]],s=lD(i)?Math.round(i.touches[0].clientX):i.clientX,l={},u=(t,r)=>{"number"==typeof r&&(e.setColumnSizingInfo(e=>{let t=r-(e?.startOffset??0),n=Math.max(t/(e?.startSize??0),-.999999);return e.columnSizingStart.forEach(([e,t])=>{l[e]=Math.round(100*Math.max(t+t*n,0))/100}),{...e,deltaOffset:t,deltaPercentage:n}}),("onChange"===e.options.columnResizeMode||"end"===t)&&e.setColumnSizing(e=>({...e,...l})))},c=e=>u("move",e),d=t=>{u("end",t),e.setColumnSizingInfo(e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f={moveHandler:e=>c(e.clientX),upHandler:e=>{document.removeEventListener("mousemove",f.moveHandler),document.removeEventListener("mouseup",f.upHandler),d(e.clientX)}},h={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),c(e.touches[0].clientX),!1),upHandler:e=>{document.removeEventListener("touchmove",h.moveHandler),document.removeEventListener("touchend",h.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0]?.clientX)}},p=!!sr()&&{passive:!1};lD(i)?(document.addEventListener("touchmove",h.moveHandler,p),document.addEventListener("touchend",h.upHandler,p)):(document.addEventListener("mousemove",f.moveHandler,p),document.addEventListener("mouseup",f.upHandler,p)),e.setColumnSizingInfo(e=>({...e,startOffset:s,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id}))}}(r,e),children:" "})]}))}function un({rows:e,tableSize:t,scrollElement:r,enableRowSelection:n,cellStyle:i,numberOfColumns:a,emptyMessage:o,tableRowRef:s,tableBodyRef:l,isSticky:u,table:c,tableId:d,disableColumnReordering:f,tableCss:h,autoLockedColumnSizing:p,onAutoLockedColumnSizingChange:m,pagination:v}){let y=lv({count:e.length+1,estimateSize:()=>"small"===t?16:"medium"===t?22:37,getScrollElement:()=>r,measureElement:"undefined"!=typeof window&&-1===navigator.userAgent.indexOf("Firefox")?e=>e?.getBoundingClientRect().height:void 0,overscan:"small"===t?125:"medium"===t?100:75,rangeExtractor:e=>[...new Set([...u?[0]:[],...lu(e)])].sort((e,t)=>e-t)});(0,w.useImperativeHandle)(l,()=>({scrollToIndex(e){y.scrollToIndex(e,{align:"start"})},getRowLocation(e){let t=c.getSortedRowModel().flatRows.findIndex(t=>t.id===e),r=Math.floor(t/v.pageSize),n=t-r*v.pageSize+1,i=y.getVirtualItems(),a=i.find(e=>e.index===n),o=document.getElementById(`scrollable-table-container-${d}`)?.getBoundingClientRect().height??0,s=y.scrollOffset+i[0].size,l=y.scrollOffset+o;return{isVisible:v.pageIndex===r&&!!(a&&s<=a.start&&l>=a.end),scrollIndex:u?n-1:n,pageIndex:r}}}));let{rowHeight:b,checkboxCss:x,fontSize:C}=ly({tableSize:t}),[S,...j]=y.getVirtualItems(),A=j.length>0&&S?j[0].start-S.size:0,_=j.length>0?y.getTotalSize()-j[j.length-1].end:0;return(0,g.jsx)("div",{style:{width:"100%",position:"relative"},css:{tbody:{"::before":{content:'""',display:"block",paddingTop:`${A}px`},"::after":{content:'""',display:"block",paddingBottom:`${_}px`}}},children:(0,g.jsxs)("table",{css:h,children:[(0,g.jsx)("thead",{"data-index":0,ref:y.measureElement,children:c.getHeaderGroups().map(e=>(0,g.jsx)("tr",{style:{fontSize:C,lineHeight:b,...u?{position:"sticky",top:"0",zIndex:"999"}:{}},children:e.headers.sort((e,t)=>"select"===e.id?-1:"select"===t.id?1:0).map(e=>(0,g.jsx)(ur,{tableRowRef:s,style:e.column.id===sM?x:{},tableSize:t,header:e,table:c,onLockColumnWidth:t=>{m({...p,[e.id]:t})},autoLockColumnWidth:p[e.id],tableId:d,disableColumnReordering:f},e.column.id))},e.id))}),(0,g.jsx)(lF,{tableRowRef:s,rows:e,tableSize:t,virtualItems:j,enableRowSelection:n,cellStyle:i,numberOfColumns:a,emptyMessage:o,measureElement:y.measureElement})]})})}let ui={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M347.6 528.95l383.2 301.02c14.25 11.2 35.2 1.1 35.2-16.95V210.97c0-18.05-20.95-28.14-35.2-16.94L347.6 495.05a21.53 21.53 0 000 33.9M330 864h-64a8 8 0 01-8-8V168a8 8 0 018-8h64a8 8 0 018 8v688a8 8 0 01-8 8"}}]},name:"step-backward",theme:"outlined"};var ua=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:ui}))});let uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var us=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:uo}))});let ul={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 010 33.9M694 864h64a8 8 0 008-8V168a8 8 0 00-8-8h-64a8 8 0 00-8 8v688a8 8 0 008 8"}}]},name:"step-forward",theme:"outlined"};var uu=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:ul}))});let uc=[10,20,30,40,50,Number.MAX_VALUE];function ud({table:e,isLoading:t,onPageSizeChange:r}){let n=e.getState().pagination.pageSize;return(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,g.jsx)(m.Button,{size:"small",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),icon:(0,g.jsx)(ua,{}),style:{background:"transparent",border:"none"}}),(0,g.jsx)(m.Button,{size:"small",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),icon:(0,g.jsx)(us,{}),style:{background:"transparent",border:"none"}}),(0,g.jsxs)("div",{children:["Page ",(0,g.jsxs)("strong",{children:[e.getState().pagination.pageIndex+1," "]}),"of"," ",(0,g.jsx)("strong",{children:t?"":0===e.getPageCount()?1:e.getPageCount()})]}),(0,g.jsx)(m.Button,{size:"small",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),icon:(0,g.jsx)(lR,{}),style:{background:"transparent",border:"none"}}),(0,g.jsx)(m.Button,{size:"small",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),icon:(0,g.jsx)(uu,{}),style:{background:"transparent",border:"none"}}),(0,g.jsx)(m.Select,{size:"small",value:n,onChange:r,style:{background:"transparent",border:"none",minWidth:100},children:uc.map(e=>(0,g.jsxs)(m.Select.Option,{value:e,children:["Show ",e===Number.MAX_VALUE?"all":e]},e))})]})}let uf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};var uh=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:uf}))});let up={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var ug=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:up}))});function um(e){let[t,r]=s4.parse(e);return null===t?` ${r.toLocaleString("en-US")}`:null===r?` ${t.toLocaleString("en-US")}`:` [${t.toLocaleString("en-US")}, ${r.toLocaleString("en-US")}]`}function uv({filter:e,onFilterRemoved:t,columnDef:r}){let n=(0,p.useTheme)(),{elementRef:i,isOverflowing:a}=nQ(),o=r.header?.toString()??r.id,s="inNumberRange"===r.filterFn;return(0,g.jsx)(m.Popover,{trigger:a?["hover"]:[],mouseEnterDelay:.75,title:o,content:(0,g.jsx)("ul",{style:{paddingLeft:15,paddingRight:5,margin:0},children:s?(0,g.jsx)("li",{children:um(e.value)}):e.value.map(e=>(0,g.jsx)("li",{children:e},`filter-tooltip-item-${e}`))}),children:(0,g.jsx)(m.Tag,{"data-testid":"filter-tag",closable:!0,closeIcon:(0,g.jsx)("div",{style:{paddingTop:"2px",paddingRight:"2px"},children:(0,g.jsx)(ug,{style:{color:"rgba(0, 0, 0, 0.25)",fontSize:12},css:(0,v.css)`
                &:hover {
                  color: rgba(0, 0, 0, 0.45) !important;
                }
              `})}),style:{display:"flex",height:"24px",alignItems:"center",maxWidth:"220px",marginInlineEnd:"0px",borderRadius:"10px",background:n.grayScale[4],fontSize:12},onClose:()=>{t(e.id)},children:(0,g.jsxs)("div",{ref:i,style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"210px"},children:[o,":"," ",s?um(e.value):e.value.join(", ")]})})})}function uy({columnFilters:e,setColumnFilters:t,columnDefs:r,extraTags:n,id:i}){let a=(0,p.useTheme)();return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4,flexGrow:1,backgroundColor:a.grayScale[2],padding:"2px 2px 2px 4px",height:"100%",overflowX:"auto",overflowY:"hidden",fontSize:12},css:(0,v.css)`
        // This is compatible with Chrome, edge, safari (full list: https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-scrollbar#browser_compatibility)
        ::-webkit-scrollbar {
          width: 4px;
          height: 4px;
        }
        ::-webkit-scrollbar-track {
          background: transparent;
        }
        ::-webkit-scrollbar-thumb {
          background-color: rgba(155, 155, 155, 0.5);
          border-radius: 20px;
          border: transparent;
        }
        // Needed to style firefox scrollbars. This is not yet compatible with chrome or edge. (Full list https://developer.mozilla.org/en-US/docs/Web/CSS/scrollbar-width#browser_compatibility)
        scrollbar-width: thin;
      `,children:[(0,g.jsx)(uh,{}),n,e.map(n=>{let a=r.find(({id:e})=>e===n.id);if(!a)throw Error(`Unable to find column ${n.id} referenced by a filter`);return(0,g.jsx)(uv,{filter:n,columnDef:a,onFilterRemoved:r=>t(e.filter(({id:e})=>e!==r))},`table-${i}-filter-tag-${n.id}`)})]})}let ub="100%",ux=`calc(${ub} - 68px)`,uw=`calc(${ub} - 36px)`,uC=`calc(${ub} - 32px)`;function uS({tableId:e,data:t,columns:r,rowSelection:n,rowKey:i,controlledFilters:a,style:o,isLoading:s=!1,isSticky:l=!1,extraTags:u,actionButtons:c,tableBodyRef:d,doPersistStateToStorage:f=!0,emptyMessage:h,disablePagination:v=!1,disableConfigurationPanel:y=!1,disableColumnReordering:b=!1,disableColumnResizing:x=!1,disableColumnHiding:C=!1,cellStyle:S,controlledColumnVisibility:j,controlledColumnOrder:A,controlledTableSize:_,loadingIndicator:k,controlledPageIndex:E,controlledPageSize:O,grouping:R}){let T=(0,p.useTheme)(),[I,M]=(0,w.useTransition)(),F=s||I,D=void 0!==n,P=(0,w.useRef)(null),L=(0,w.useMemo)(()=>[...D?[{enableHiding:!1,enableResizing:!1,size:20,id:sM,header:sF,aggregatedCell:sP,cell:sD}]:[],...r.map(e=>(0,oe.jM)(e,e=>{x&&(e.enableResizing=!1),C&&(e.enableHiding=!1)}))],[r,D,x,C]),[N,z]=nK({storageKey:f?`bas-table-table-size-${e}`:void 0,initialState:"large"}),[V,$]=nK({storageKey:f?`bas-table-column-order-${e}`:void 0,initialState:[]}),[B,U]=nK({storageKey:f?`bas-table-column-filters-${e}`:void 0,initialState:[]}),[q,H]=nK({storageKey:f?`bas-table-column-page-size-${e}`:void 0,initialState:20}),[K,Z]=(0,w.useState)(0),Q={pageIndex:E?.pageIndex?E.pageIndex:K,pageSize:O?.pageSize?O.pageSize:q},[G,W]=nK({storageKey:f?`bas-table-column-sizing-${e}`:void 0,initialState:{}}),Y=(0,w.useMemo)(()=>_||N,[_,N]),X=(0,w.useMemo)(()=>[...a?a.columnFilters:[],...B],[B,a]),[J,ee]=(0,w.useState)(!0),[et,er]=nK({storageKey:f?`bas-table-column-sorting-${e}`:void 0,initialState:[]}),[en,ei]=nK({storageKey:f?`bas-table-column-visibility-${e}`:void 0,initialState:{}}),ea=(0,w.useMemo)(()=>void 0!==j&&!0===C?j:en,[j,C,en]),eo=(0,w.useMemo)(()=>void 0!==A&&!0===b?A:V,[A,b,V]),es=Object.keys(n?.selectedRows??{}).length,el=(0,w.useRef)(!1);(0,w.useEffect)(()=>{el.current=!1});let{ref:eu,width:ec}=function(){let e=(0,w.useRef)(0),t=(0,w.useRef)(null),[r,n]=(0,w.useState)(nG),i=(0,w.useMemo)(()=>"undefined"!=typeof window?new ResizeObserver(r=>{let i=r[0];i&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&n(i.contentRect)}))}):null,[]);(0,w.useEffect)(()=>(t.current&&i?.observe(t.current),()=>{i?.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[i]);let{width:a,height:o}=r;return{ref:t,width:a,height:o}}(),[ed,ef]=(0,w.useState)({}),eh=document.getElementById(`scrollable-table-container-${e}`),ep=ec-(eh?eh.offsetWidth-eh.clientWidth:0);(0,w.useEffect)(()=>{!sA(G)&&ep>Object.values(G).reduce((e,t)=>e+t,0)&&W({}),ef({})},[G,W,ep]),(0,w.useEffect)(()=>{et.some(e=>!1===ea[e.id])&&er(e=>e.filter(e=>!1!==ea[e.id]))},[ea,er,et]);let eg=function(e){let t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=w.useState(()=>({current:function(e){var t,r;let n=[...sm,...null!=(t=e._features)?t:[]],i={_features:n},a=i._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(i)),{}),o=e=>i.options.mergeOptions?i.options.mergeOptions(a,e):{...a,...e},s={...null!=(r=e.initialState)?r:{}};i._features.forEach(e=>{var t;s=null!=(t=null==e.getInitialState?void 0:e.getInitialState(s))?t:s});let l=[],u=!1,c={_features:n,options:{...a,...e},initialState:s,_queue:e=>{l.push(e),u||(u=!0,Promise.resolve().then(()=>{for(;l.length;)l.shift()();u=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{i.setState(i.initialState)},setOptions:e=>{let t=oz(e,i.options);i.options=o(t)},getState:()=>i.options.state,setState:e=>{null==i.options.onStateChange||i.options.onStateChange(e)},_getRowId:(e,t,r)=>{var n;return null!=(n=null==i.options.getRowId?void 0:i.options.getRowId(e,t,r))?n:`${r?[r.id,t].join("."):t}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(e,t)=>{let r=(t?i.getPrePaginationRowModel():i.getRowModel()).rowsById[e];if(!r&&!(r=i.getCoreRowModel().rowsById[e]))throw Error();return r},_getDefaultColumnDef:oU(()=>[i.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{let t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,r;return null!=(t=null==(r=e.renderValue())||null==r.toString?void 0:r.toString())?t:null},...i._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{}),...e}},oq(e,"debugColumns","_getDefaultColumnDef")),_getColumnDefs:()=>i.options.columns,getAllColumns:oU(()=>[i._getColumnDefs()],e=>{let t=function(e,r,n){return void 0===n&&(n=0),e.map(e=>{let a=function(e,t,r,n){var i,a;let o;let s={...e._getDefaultColumnDef(),...t},l=s.accessorKey,u=null!=(i=null!=(a=s.id)?a:l?"function"==typeof String.prototype.replaceAll?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)?i:"string"==typeof s.header?s.header:void 0;if(s.accessorFn?o=s.accessorFn:l&&(o=l.includes(".")?e=>{let t=e;for(let e of l.split(".")){var r;t=null==(r=t)?void 0:r[e]}return t}:e=>e[s.accessorKey]),!u)throw Error();let c={id:`${String(u)}`,accessorFn:o,parent:n,depth:r,columnDef:s,columns:[],getFlatColumns:oU(()=>[!0],()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},oq(e.options,"debugColumns","column.getFlatColumns")),getLeafColumns:oU(()=>[e._getOrderColumnsFn()],e=>{var t;return null!=(t=c.columns)&&t.length?e(c.columns.flatMap(e=>e.getLeafColumns())):[c]},oq(e.options,"debugColumns","column.getLeafColumns"))};for(let t of e._features)null==t.createColumn||t.createColumn(c,e);return c}(i,e,n,r);return a.columns=e.columns?t(e.columns,a,n+1):[],a})};return t(e)},oq(e,"debugColumns","getAllColumns")),getAllFlatColumns:oU(()=>[i.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),oq(e,"debugColumns","getAllFlatColumns")),_getAllFlatColumnsById:oU(()=>[i.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),oq(e,"debugColumns","getAllFlatColumnsById")),getAllLeafColumns:oU(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),oq(e,"debugColumns","getAllLeafColumns")),getColumn:e=>i._getAllFlatColumnsById()[e]};Object.assign(i,c);for(let e=0;e<i._features.length;e++){let t=i._features[e];null==t||null==t.createTable||t.createTable(i)}return i}(t)})),[n,i]=w.useState(()=>r.current.initialState);return r.current.setOptions(t=>({...t,...e,state:{...n,...e.state},onStateChange:t=>{i(t),null==e.onStateChange||e.onStateChange(t)}})),r.current}({data:t,columns:L,state:{...D?{rowSelection:n.selectedRows}:{},...v?{}:{pagination:Q},columnFilters:X,columnOrder:eo,sorting:et,columnVisibility:ea,columnSizing:G,grouping:R,expanded:J},autoResetExpanded:!1,defaultColumn:{size:-1},manualPagination:v,autoResetPageIndex:el.current,onColumnOrderChange:$,filterFns:{isOneOf:sO,isOneOfOrBlank:sR},onRowSelectionChange:n?.onChange,onColumnFiltersChange:e=>{el.current=!0,function({allFilters:e,updaterOrValue:t,setInternalFilters:r,controlledFilters:n,columnDefinitions:i}){let a=[];a="function"==typeof t?t(e):t;let o=i.filter(e=>e.isControlledFilter).map(e=>e.id);if(n){let e=[];o.forEach(t=>{let r=a.findIndex(({id:e})=>e===t);-1!==r&&(e.push(a[r]),a.splice(r,1))}),n.onChange(e)}r(a)}({updaterOrValue:e,allFilters:X,setInternalFilters:U,controlledFilters:a,columnDefinitions:L})},onColumnVisibilityChange:e=>{W({}),ei(e)},onSortingChange:er,enableRowSelection:D,...D?{onRowSelectionChange:n.onChange}:{},...v?{}:{onPaginationChange:e=>{let{pageIndex:t,pageSize:r}=e instanceof Function?e(Q):e;E?E.onChange(t):Z(t),O?O.onChange(r):H(r)}},getCoreRowModel:e=>oU(()=>[e.options.data],t=>{let r={rows:[],flatRows:[],rowsById:{}},n=function(t,i,a){void 0===i&&(i=0);let o=[];for(let l=0;l<t.length;l++){let u=oQ(e,e._getRowId(t[l],l,a),t[l],l,i,void 0,null==a?void 0:a.id);if(r.flatRows.push(u),r.rowsById[u.id]=u,o.push(u),e.options.getSubRows){var s;u.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=u.originalSubRows)&&s.length&&(u.subRows=n(u.originalSubRows,i+1,u))}}return o};return r.rows=n(t),r},oq(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex())),getSortedRowModel:e=>oU(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(null!=t&&t.length))return r;let n=e.getState().sorting,i=[],a=n.filter(t=>{var r;return null==(r=e.getColumn(t.id))?void 0:r.getCanSort()}),o={};a.forEach(t=>{let r=e.getColumn(t.id);r&&(o[t.id]={sortUndefined:r.columnDef.sortUndefined,invertSorting:r.columnDef.invertSorting,sortingFn:r.getSortingFn()})});let s=e=>{let t=e.map(e=>({...e}));return t.sort((e,t)=>{for(let n=0;n<a.length;n+=1){var r;let i=a[n],s=o[i.id],l=s.sortUndefined,u=null!=(r=null==i?void 0:i.desc)&&r,c=0;if(l){let r=e.getValue(i.id),n=t.getValue(i.id),a=void 0===r,o=void 0===n;if(a||o){if("first"===l)return a?-1:1;if("last"===l)return a?1:-1;c=a&&o?0:a?l:-l}}if(0===c&&(c=s.sortingFn(e,t,i.id)),0!==c)return u&&(c*=-1),s.invertSorting&&(c*=-1),c}return e.index-t.index}),t.forEach(e=>{var t;i.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=s(e.subRows))}),t};return{rows:s(r.rows),flatRows:i,rowsById:r.rowsById}},oq(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex())),getPaginationRowModel:e=>oU(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,r)=>{let n;if(!r.rows.length)return r;let{pageSize:i,pageIndex:a}=t,{rows:o,flatRows:s,rowsById:l}=r,u=i*a;o=o.slice(u,u+i),(n=e.options.paginateExpandedRows?{rows:o,flatRows:s,rowsById:l}:sv({rows:o,flatRows:s,rowsById:l})).flatRows=[];let c=e=>{n.flatRows.push(e),e.subRows.length&&e.subRows.forEach(c)};return n.rows.forEach(c),n},oq(e.options,"debugTable","getPaginationRowModel")),getFilteredRowModel:e=>oU(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,n)=>{let i,a;if(!t.rows.length||!(null!=r&&r.length)&&!n){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}let o=[],s=[];(null!=r?r:[]).forEach(t=>{var r;let n=e.getColumn(t.id);if(!n)return;let i=n.getFilterFn();i&&o.push({id:t.id,filterFn:i,resolvedValue:null!=(r=null==i.resolveFilterValue?void 0:i.resolveFilterValue(t.value))?r:t.value})});let l=(null!=r?r:[]).map(e=>e.id),u=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(e=>e.getCanGlobalFilter());n&&u&&c.length&&(l.push("__global__"),c.forEach(e=>{var t;s.push({id:e.id,filterFn:u,resolvedValue:null!=(t=null==u.resolveFilterValue?void 0:u.resolveFilterValue(n))?t:n})}));for(let e=0;e<t.flatRows.length;e++){let r=t.flatRows[e];if(r.columnFilters={},o.length)for(let e=0;e<o.length;e++){let t=(i=o[e]).id;r.columnFilters[t]=i.filterFn(r,t,i.resolvedValue,e=>{r.columnFiltersMeta[t]=e})}if(s.length){for(let e=0;e<s.length;e++){let t=(a=s[e]).id;if(a.filterFn(r,t,a.resolvedValue,e=>{r.columnFiltersMeta[t]=e})){r.columnFilters.__global__=!0;break}}!0!==r.columnFilters.__global__&&(r.columnFilters.__global__=!1)}}return sy(t.rows,e=>{for(let t=0;t<l.length;t++)if(!1===e.columnFilters[l[t]])return!1;return!0},e)},oq(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex())),getFacetedRowModel:(e,t)=>oU(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(r,n,i)=>{if(!r.rows.length||!(null!=n&&n.length)&&!i)return r;let a=[...n.map(e=>e.id).filter(e=>e!==t),i?"__global__":void 0].filter(Boolean);return sy(r.rows,e=>{for(let t=0;t<a.length;t++)if(!1===e.columnFilters[a[t]])return!1;return!0},e)},oq(e.options,"debugTable","getFacetedRowModel")),getFacetedUniqueValues:(e,t)=>oU(()=>[e.getColumn(t)?.getFacetedRowModel()],r=>{if(!r)return new Map;let n=new Map,i=e.getColumn(t)?.columnDef.filterFn,a=i&&sk(i)&&"isOneOfOrBlank"===i;for(let e=0;e<r.flatRows.length;e++){let i=r.flatRows[e].getUniqueValues(t);for(let e=0;e<i.length;e++){let t=sA(i[e])&&a?sE:i[e];n.has(t)?n.set(t,(n.get(t)??0)+1):n.set(t,1)}}return n},{key:!1,debug:()=>e.options.debugAll??e.options.debugTable,onChange:()=>{}}),getRowId:(e,t)=>i?`${e[i]}`:`${t}`,columnResizeMode:"onChange",enableColumnResizing:!x,onColumnSizingChange:e=>{W(function({columnSizingState:e,columns:t,minTableWidth:r,columnVisibility:n}){if(!sA(e)){t.forEach(t=>{var r;if(void 0===e[t.id]&&(r=t.id,n?.[r]??!0)&&!t.getIsResizing()){let r=document.getElementById(t.id);r&&(e[t.id]=r.getBoundingClientRect().width)}else if(t.getIsResizing()){let r=e[t.id];e[t.id]=r<20?20:r}});let i=r-Object.values(e).reduce((e,t)=>e+t,0),a=iw(t.filter(e=>{var t;return e.getCanResize()&&(t=e.id,n?.[t]??!0)}));if(i>0||e[a.id]>20&&!a.getIsResizing()){let t=e[a.id];e[a.id]=t+i}}return e}({columnSizingState:e instanceof Function?e(G):e,columns:eg.getAllColumns(),minTableWidth:ep,columnVisibility:ea}))},getGroupedRowModel:void 0===R?void 0:e=>oU(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,r)=>{if(!r.rows.length||!t.length)return r.rows.forEach(e=>{e.depth=0,e.parentId=void 0}),r;let n=t.filter(t=>e.getColumn(t)),i=[],a={},o=function(t,r,s){if(void 0===r&&(r=0),r>=n.length)return t.map(e=>(e.depth=r,i.push(e),a[e.id]=e,e.subRows&&(e.subRows=o(e.subRows,r+1,e.id)),e));let l=n[r];return Array.from((function(e,t){let r=new Map;return e.reduce((e,r)=>{let n=`${r.getGroupingValue(t)}`,i=e.get(n);return i?i.push(r):e.set(n,[r]),e},r)})(t,l).entries()).map((t,u)=>{let[c,d]=t,f=`${l}:${c}`;f=s?`${s}>${f}`:f;let h=o(d,r+1,f);h.forEach(e=>{e.parentId=f});let p=r?oB(d,e=>e.subRows):d,g=oQ(e,f,p[0].original,u,r,void 0,s);return Object.assign(g,{groupingColumnId:l,groupingValue:c,subRows:h,leafRows:p,getValue:t=>{if(n.includes(t)){if(g._valuesCache.hasOwnProperty(t))return g._valuesCache[t];if(d[0]){var r;g._valuesCache[t]=null!=(r=d[0].getValue(t))?r:void 0}return g._valuesCache[t]}if(g._groupingValuesCache.hasOwnProperty(t))return g._groupingValuesCache[t];let i=e.getColumn(t),a=null==i?void 0:i.getAggregationFn();if(a)return g._groupingValuesCache[t]=a(t,p,d),g._groupingValuesCache[t]}}),h.forEach(e=>{i.push(e),a[e.id]=e}),g})},s=o(r.rows,0);return s.forEach(e=>{i.push(e),a[e.id]=e}),{rows:s,flatRows:i,rowsById:a}},oq(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})})),getExpandedRowModel:e=>oU(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(e,t,r)=>t.rows.length&&(!0===e||Object.keys(null!=e?e:{}).length)&&r?sv(t):t,oq(e.options,"debugTable","getExpandedRowModel")),onExpandedChange:e=>{ee(e instanceof Function?e(J):e)}}),em=(0,w.useRef)(null),ev=eg.getAllColumns().some(e=>e.getCanFilter()),ey=!sA(eg.getState().columnSizing),eb=ev||!y||void 0!==c,ex=D||!v,ew=sT({isTableManuallySized:ey,getTotalSize:eg.getTotalSize,theme:T}),eC=ub;eb&&ex?eC=ux:eb?eC=uw:ex&&(eC=uC);let{rows:eS}=eg.getRowModel(),{rows:ej}=eg.getPrePaginationRowModel();return(0,w.useEffect)(()=>{if(!s){let e=Math.max(0,Math.ceil(ej.length/Q.pageSize)-1);Q.pageIndex>e&&(E?E.onChange(e):Z(e))}},[s,ej.length,E,Q.pageIndex,Q.pageSize]),(0,g.jsx)("div",{style:{display:"flex",...o},children:(0,g.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column",gap:8},ref:eu,children:[eb&&(0,g.jsxs)("div",{style:{display:"flex",justifyContent:ev?"space-between":"flex-end",alignItems:"center",gap:4,height:28},children:[ev&&(0,g.jsx)(uy,{columnDefs:eg.getAllColumns().map(e=>e.columnDef),columnFilters:eg.getState().columnFilters,setColumnFilters:eg.setColumnFilters,extraTags:u,id:e}),(c||!y)&&(0,g.jsxs)("div",{style:{display:"flex",gap:4,justifyContent:"flex-end"},children:[c,!y&&(0,g.jsx)(ln,{onTableSizeChange:z,onColumnOrderChange:eg.setColumnOrder,onColumnVisibilityChange:eg.setColumnVisibility,orderedColumnConfig:eg.getAllLeafColumns().map(e=>{let t=e.getCanHide()??!1,r=function({header:e,meta:t,id:r}){return"string"==typeof e?e:void 0!==t&&"label"in t&&"string"==typeof t.label?t.label:s2(r)}(e.columnDef);return{id:e.id,isVisible:!1!==ea[e.id],label:r,isHideable:t}}),tableSize:Y,disableColumnReordering:b,configurationId:e,onReset:()=>{eg.resetColumnOrder(!0),eg.resetColumnVisibility(),eg.resetSorting(),eg.resetColumnSizing()}})]})]}),(0,g.jsx)("div",{style:{display:"flex",height:eC},children:(0,g.jsxs)("div",{ref:em,style:{overflow:"auto",position:"relative",...ey?{}:{flexGrow:1}},id:`scrollable-table-container-${e}`,children:[F&&(k?(0,g.jsx)("div",{style:{position:"absolute",top:0,height:"100%",width:ew.width,opacity:.95,zIndex:1e3,background:T.backgroundColor,display:"flex",justifyContent:"center",alignItems:"center"},children:k}):(0,g.jsx)(m.Spin,{delay:700,style:{position:"absolute",top:0,height:"100%",width:ew.width,opacity:.5,zIndex:1e3,background:T.backgroundColor,display:"flex",justifyContent:"center",alignItems:"center"}})),(0,g.jsx)(un,{tableBodyRef:d,tableRowRef:P,rows:eS,tableSize:Y,scrollElement:em.current,enableRowSelection:D,cellStyle:S,numberOfColumns:L.length,emptyMessage:h,isSticky:l,table:eg,tableId:e,disableColumnReordering:b,tableCss:ew,autoLockedColumnSizing:ed,onAutoLockedColumnSizingChange:ef,pagination:Q})]})}),ex&&(0,g.jsxs)("div",{style:{display:"flex",justifyContent:D?"space-between":"flex-end",minHeight:24,alignItems:"center"},children:[D&&(0,g.jsx)("div",{children:es>0&&`${es} row${es>1?"s":""} selected`}),!v&&(0,g.jsx)(ud,{table:eg,isLoading:F,onPageSizeChange:e=>M(()=>{eg.setPageSize(e)})})]})]})})}function uj({numberOfColumns:e,numberOfRows:t,showFilterArea:r}){let n=(0,p.useTheme)();return(0,g.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column",gap:8},children:[r&&(0,g.jsx)("div",{style:{display:"flex",backgroundColor:n.grayScale[2],height:28,padding:"2px 2px 2px 4px"},children:(0,g.jsx)(uh,{})}),(0,g.jsxs)("table",{css:sT({isTableManuallySized:!1,theme:n}),children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{style:{background:n.grayScale[2]},children:[...Array(e)].map((e,t)=>(0,g.jsx)("th",{style:{textAlign:"left"},children:(0,g.jsx)(m.Skeleton.Input,{css:{minWidth:"unset !important",width:`${40+Math.floor(60*Math.random())}% !important`,padding:"4px"},active:!0,size:"small"})},`table-skeleton-column-${t}`))})}),(0,g.jsx)("tbody",{children:[...Array(t)].map((t,r)=>(0,g.jsx)("tr",{children:[...Array(e)].map((e,t)=>(0,g.jsx)("td",{children:(0,g.jsx)(m.Skeleton.Input,{active:!0,size:"small",css:{minWidth:"unset !important",width:`${40+Math.floor(60*Math.random())}% !important`,padding:"4px"}})},`table-skeleton-cell-${t}-${r}`))},`table-skeleton-row-${r}`))})]})]})}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uE(e){return e?e.split(/\.|(\[\d*\])/).reduce((e,t)=>{if(void 0!==t&&""!==t&&"__proto__"!==t&&"constructor"!==t&&"prototype"!==t){if(t.startsWith("[")&&t.endsWith("]")){var r=t.slice(1,-1);e.push(Number(r))}else e.push(t)}return e},[]):[]}function uO(e){return e.reduce((e,t)=>"number"==typeof t?"".concat(e,"[").concat(Number.isNaN(t)?"":t,"]"):""===e||""===t?[e,t].join(""):[e,t].join("."),"")}function uR(e,t){return void 0!==t?uO([...uE(e),t]):null!=e?e:""}function uT(e,t){var r=uE(e),n=uE(t);return r.length>=n.length&&n.every((e,t)=>r[t]===e)}function uI(e,t,r){for(var n=uE(t),i=n.length,a=i-1,o=-1,s=e;null!=s&&++o<i;){var l=n[o],u=n[o+1],c=o!=a?Object.prototype.hasOwnProperty.call(s,l)?s[l]:"number"==typeof u?[]:{}:r(s[l]);s[l]=c,s=s[l]}}function uM(e,t){var r=e;for(var n of uE(t)){if(void 0===r||null==r)break;if(!Object.prototype.hasOwnProperty.call(r,n))return;if(uF(r)&&"string"==typeof n)r=r[n];else{if(!Array.isArray(r)||"number"!=typeof n)return;r=r[n]}}return r}function uF(e){return!!e&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function uD(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(uF(e)){var r=Object.keys(e).sort().reduce((r,n)=>{var i=uD(e[n],t);return void 0!==i&&(r[n]=i),r},{});if(0===Object.keys(r).length)return;return r}if(Array.isArray(e)){if(0===e.length)return;return e.map(e=>uD(e,t))}if(!("string"==typeof e&&""===e||null===e||"undefined"!=typeof File&&e instanceof File&&(!t||0===e.size)))return e}function uP(e,t){var r={},n=null!==(s=null==t?void 0:t.resolve)&&void 0!==s?s:e=>e;function i(e,t){var i=uD(n(e));void 0!==i&&(r[t]=i)}function a(e,t){for(var[r,n]of(i(e,t),Object.entries(e))){var s=t?"".concat(t,".").concat(r):r;Array.isArray(n)?o(n,s):n&&uF(n)?a(n,s):i(n,s)}}function o(e,t){i(e,t);for(var r=0;r<e.length;r++){var n=e[r],s="".concat(t,"[").concat(r,"]");Array.isArray(n)?o(n,s):n&&uF(n)?a(n,s):i(n,s)}}if(e){var s,l,u=null!==(l=null==t?void 0:t.prefix)&&void 0!==l?l:"";Array.isArray(e)?o(e,u):a(e,u)}return r}function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uz(e,t){if(!e)throw Error(t)}function uV(){return(Date.now()*Math.random()).toString(36)}function u$(e){return JSON.parse(JSON.stringify(e))}function uB(e){return e instanceof Element&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName)&&"submit"!==e.type&&"button"!==e.type&&"reset"!==e.type}var uU="__intent__",uq="__state__";function uH(e){var t=e.get(uU),r=e.get(uq);uz(("string"==typeof t||null===t)&&("string"==typeof r||null===r),'The input name "'.concat(uU,'" and "').concat(uq,'" are reserved by Conform. Please use another name for your input.'));var n={payload:{},fields:new Set,intent:function(e){if(!e)return null;var t=JSON.parse(e);if("string"!=typeof t.type||void 0===t.payload)throw Error("Unknown form control intent");return t}(t)};r&&(n.state=JSON.parse(r));var i=function(e){if(a===uU||a===uq)return 1;n.fields.add(a),uI(n.payload,a,t=>t?Array.isArray(t)?t.concat(e):[t,e]:e)};for(var[a,o]of e.entries())if(i(o))continue;return n}function uK(e){var t,r,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("resetForm"in a&&a.resetForm||(null===(t=e.intent)||void 0===t?void 0:t.type)==="reset"&&(null!==(r=e.intent.payload.name)&&void 0!==r?r:"")==="")return{initialValue:null};if("hideFields"in a&&a.hideFields)for(var o of a.hideFields)void 0!==uM(e.payload,o)&&uI(e.payload,o,()=>void 0);var s="formErrors"in a||"fieldErrors"in a?uD(uN({"":null!==(n=a.formErrors)&&void 0!==n?n:null},a.fieldErrors)):null,l=e.error||s?uN(uN({},e.error),s):void 0;return{status:e.intent?void 0:l?"error":"success",intent:e.intent?e.intent:void 0,initialValue:null!==(i=uD(e.payload,"undefined"!=typeof document))&&void 0!==i?i:{},error:l,state:e.state,fields:Array.from(e.fields)}}function uZ(e,t){var r;switch(uz(Array.isArray(e),"Failed to update list. The value is not an array."),t.type){case"insert":e.splice(null!==(r=t.payload.index)&&void 0!==r?r:e.length,0,t.payload.defaultValue);break;case"remove":e.splice(t.payload.index,1);break;case"reorder":e.splice(t.payload.to,0,...e.splice(t.payload.from,1));break;default:throw Error("Unknown list intent received")}}function uQ(e,t){uI(e,t.payload.name,e=>{var r=null!=e?e:[];return uZ(r,t),r})}var uG=Symbol.for("root");function uW(e,t,r){var n=Object.keys(e).sort((e,t)=>t.localeCompare(e)),i={};for(var a of n)!function(){var r=e[a];uT(a,t)&&a!==t&&(uI(i,a,e=>void 0===e?r:(e[uG]=r,e)),delete e[a])}();Object.assign(e,uP(r(uM(i,t)),{resolve(e){if(uF(e)||Array.isArray(e)){var t;return null!==(t=e[uG])&&void 0!==t?t:null}return e},prefix:t}))}function uY(e,t,r){uW(e,t.payload.name,e=>{var n=null!=e?e:[];return"insert"===t.type?uZ(n,{type:t.type,payload:uN(uN({},t.payload),{},{defaultValue:null==r?void 0:r(t.payload.defaultValue)})}):uZ(n,t),n})}function uX(e){return uF(e)?Object.entries(e).reduce((e,t)=>{var[r,n]=t;return e[r]=uX(n),e},{}):Array.isArray(e)?e.map(uX):e instanceof Date?e.toISOString():"boolean"==typeof e?e?"on":void 0:"number"==typeof e?e.toString():null!=e?e:void 0}function uJ(e,t){var r,n,i,a,o,s=t?void 0:e.lastResult,l=e.defaultValue?uX(e.defaultValue):{},u=null!==(r=null==s?void 0:s.initialValue)&&void 0!==r?r:l,c={formId:e.formId,isValueUpdated:!1,submissionStatus:null==s?void 0:s.status,defaultValue:l,initialValue:u,value:u,constraint:null!==(n=e.constraint)&&void 0!==n?n:{},validated:null!==(i=null==s||null===(a=s.state)||void 0===a?void 0:a.validated)&&void 0!==i?i:{},key:t?uN({"":uV()},u0(l)):u0(l),error:null!==(o=null==s?void 0:s.error)&&void 0!==o?o:{}};return u2(c,null==s?void 0:s.intent,null==s?void 0:s.fields),c}function u0(e,t){return Object.entries(uP(e,{prefix:t})).reduce((e,t)=>{var[r,n]=t;if(Array.isArray(n))for(var i=0;i<n.length;i++)e[uR(r,i)]=uV();return e},{})}function u1(e,t){for(var r of Object.keys(e.error).concat(null!=t?t:[]))e.validated[r]=!0}function u2(e,t,r,n){if(!t){u1(e,r);return}switch(t.type){case"validate":t.payload.name?e.validated[t.payload.name]=!0:u1(e,r);break;case"update":var{validated:i,value:a}=t.payload,o=uR(t.payload.name,t.payload.index);void 0!==a&&u4(e,null!=o?o:"",uX(a)),void 0!==i&&(o?uW(e.validated,o,()=>void 0):e.validated={},i?((uF(a)||Array.isArray(a))&&Object.assign(e.validated,uP(a,{resolve:()=>!0,prefix:o})),e.validated[null!=o?o:""]=!0):o&&delete e.validated[o]);break;case"reset":var s=uR(t.payload.name,t.payload.index),l=uM(e.defaultValue,s);u4(e,s,l),s?(uW(e.validated,s,()=>void 0),delete e.validated[s]):e.validated={};break;case"insert":case"remove":case"reorder":n&&(e.initialValue=u$(e.initialValue),e.key=u$(e.key),uY(e.key,t,e=>Array.isArray(e)||uF(e)?Object.assign(u0(e),{[uG]:uV()}):uV()),uQ(e.initialValue,t)),uY(e.validated,t),e.validated[t.payload.name]=!0}e.error=Object.entries(e.error).reduce((t,r)=>{var[n,i]=r;return e.validated[n]&&(t[n]=i),t},{})}function u4(e,t,r){if(""===t){e.initialValue=r,e.value=r,e.key=u0(r);return}e.initialValue=u$(e.initialValue),e.value=u$(e.value),e.key=u$(e.key),uI(e.initialValue,t,()=>r),uI(e.value,t,()=>r),(uF(r)||Array.isArray(r))&&(uW(e.key,t,()=>void 0),Object.assign(e.key,u0(r,t))),e.key[t]=uV()}function u6(e){var t={};return new Proxy(t,{get(r,n,i){var a;if("string"==typeof n)return null!==(a=t[n])&&void 0!==a?a:t[n]=e(n,i)}})}function u3(e){var t=uD(e);return u6((e,r)=>{if(""===e)return t;var n=uE(e),i=uO(n.slice(0,-1)),a=uO(n.slice(-1));return uM(r[i],a)})}function u8(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>JSON.stringify(e)!==JSON.stringify(t);if(n&&e!==t){var a,o,s,l=null!==(a=n.prefix)&&void 0!==a?a:[],u=null!==(o=n.name)&&void 0!==o?o:[],c=0===l.length?u:Array.from(new Set([...Object.keys(e),...Object.keys(t)])),d=function(n){if(0===l.length||u.includes(n)||l.some(e=>uT(n,e))){var a;if(null!==(a=r[n])&&void 0!==a||(r[n]=i(e[n],t[n])),r[n])return{v:!0}}};for(var f of c)if(s=d(f))return s.v}return!1}var u5=["onSubmit"],u9=Symbol("wrapped");function u7(e,t,r,n){if("status"===t||"formId"===t)e.current[t]=!0;else if(void 0!==r&&void 0!==n){var i,a;e.current[t]=u_(u_({},e.current[t]),{},{[r]:(null!==(i=null===(a=e.current[t])||void 0===a?void 0:a[r])&&void 0!==i?i:[]).concat(n)})}}var ce=["id"],ct="undefined"==typeof document?w.useEffect:w.useLayoutEffect;function cr(e){for(var t in e)void 0===e[t]&&delete e[t];return e}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==t.ariaAttributes&&!t.ariaAttributes)return{};var r="allErrors"===t.ariaInvalid?!e.valid:void 0!==e.errors,n=t.ariaDescribedBy;return cr({"aria-invalid":r||void 0,"aria-describedby":r?"".concat(e.errorId," ").concat(null!=n?n:"").trim():n})}function ci(e,t){return cr(u_({key:e.key,required:e.required||void 0},cr(u_({id:e.id,name:e.name,form:e.formId},cn(e,t)))))}function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var cs=["required","minLength","maxLength","min","max","step","multiple","pattern"];function cl(e,t){return"string"!=typeof e?e:""===e?void 0:"function"!=typeof t?e:t(e)}function cu(e){if(!("undefined"!=typeof File&&e instanceof File)||""!==e.name||0!==e.size)return e}var cc={VALIDATION_SKIPPED:"__skipped__",VALIDATION_UNDEFINED:"__undefined__"},cd=r(4863);let cf={position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:0};function ch({input:e,field:t,fieldNote:r}){return(0,g.jsxs)(g.Fragment,{children:[e,!t.errors&&r?(0,g.jsx)("div",{style:{height:16,lineHeight:"16px",fontSize:10},children:r}):(0,g.jsx)(q,{errorId:t.errorId,errors:t.errors})]})}function cp({field:e,fieldNote:t,conformInputType:r,...n}){var i,a;return(0,g.jsx)(ch,{input:(0,g.jsx)(m.Input,{...(a=u_(u_({},ci(e,i={type:r||"text"})),{},{type:i.type,minLength:e.minLength,maxLength:e.maxLength,min:e.min,max:e.max,step:e.step,pattern:e.pattern,multiple:e.multiple}),(void 0===i.value||i.value)&&("checkbox"===i.type||"radio"===i.type?(a.value="string"==typeof i.value?i.value:"on",a.defaultChecked="boolean"==typeof e.initialValue?e.initialValue:e.initialValue===a.value):"string"==typeof e.initialValue&&(a.defaultValue=e.initialValue)),cr(a)),status:e.errors?"error":void 0,...n}),field:e,fieldNote:t})}let{TextArea:cg}=m.Input;function cm({field:e,fieldNote:t,...r}){return(0,g.jsx)(ch,{input:(0,g.jsx)(cg,{...function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u_(u_({},ci(e,r)),{},{minLength:e.minLength,maxLength:e.maxLength});return(void 0===r.value||r.value)&&(n.defaultValue=null===(t=e.initialValue)||void 0===t?void 0:t.toString()),cr(n)}(e),status:e.errors?"error":void 0,...r}),field:e,fieldNote:t})}function cv({field:e,control:t,fieldNote:r,...n}){let i=(0,w.useRef)(null);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("select",{name:e.name,ref:t.register,defaultValue:e.initialValue,multiple:"multiple"===n.mode,style:cf,tabIndex:-1,onFocus:()=>{i.current?.focus()},children:[(0,g.jsx)("option",{value:""},""),(n.options||[]).map(e=>(0,g.jsx)("option",{value:e.value},e.value))]}),(0,g.jsx)(ch,{input:(0,g.jsx)(m.Select,{id:e.id,ref:i,defaultValue:e.initialValue,value:t.value,...n,onChange:(e,r)=>{t.change(e),n.onChange&&n.onChange(e,r)},onFocus:t.focus,onBlur:t.blur,status:e.errors?"error":void 0}),field:e,fieldNote:r})]})}function cy({field:e,fieldNote:t,...r}){let n=function(e){var t,r,[n,i]=function(e){var t=()=>{var t;return"string"==typeof e.initialValue?e.initialValue:null===(t=e.initialValue)||void 0===t?void 0:t.map(e=>null!=e?e:"")},[r,n]=(0,w.useState)(e.key),[i,a]=(0,w.useState)(t);return r!==e.key&&(a(t),n(e.key)),[i,a]}(e),{register:a,change:o,focus:s,blur:l}=(t=(0,w.useRef)(null),r=(0,w.useRef)({change:!1,focus:!1,blur:!1}),(0,w.useEffect)(()=>{var e=e=>n=>{var i=t.current;i&&n.target===i&&(r.current[e]=!0)},n=e("change"),i=e("focus"),a=e("blur");return document.addEventListener("input",n,!0),document.addEventListener("focusin",i,!0),document.addEventListener("focusout",a,!0),()=>{document.removeEventListener("input",n,!0),document.removeEventListener("focusin",i,!0),document.removeEventListener("focusout",a,!0)}},[t]),(0,w.useMemo)(()=>({change(e){if(!r.current.change){r.current.change=!0;var n=t.current;n&&(function(e,t){if(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type))e.checked=Array.isArray(t)?t.includes(e.value):e.value===t;else if(e instanceof HTMLSelectElement&&e.multiple){var r=Array.isArray(t)?[...t]:[t];for(var n of e.options){var i=r.indexOf(n.value),a=i>-1;n.selected=a,a&&r.splice(i,1)}if("true"===e.dataset.conform)for(var o of r)e.options.add(new Option(o,o,!1,!0))}else if(e.value!==t){var{set:s}=Object.getOwnPropertyDescriptor(e,"value")||{},{set:l}=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value")||{};if(l&&s!==l)l.call(e,t);else if(s)s.call(e,t);else throw Error("The given element does not have a value setter")}}(n,e),n.dispatchEvent(new InputEvent("input",{bubbles:!0})),n.dispatchEvent(new Event("change",{bubbles:!0})))}r.current.change=!1},focus(){if(!r.current.focus){r.current.focus=!0;var e=t.current;e&&(e.dispatchEvent(new FocusEvent("focusin",{bubbles:!0})),e.dispatchEvent(new FocusEvent("focus")))}r.current.focus=!1},blur(){if(!r.current.blur){r.current.blur=!0;var e=t.current;e&&(e.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})),e.dispatchEvent(new FocusEvent("blur")))}r.current.blur=!1},register(e){t.current=e}}),[]));return{register:a,value:n,change:e=>{i(e),o(e)},focus:s,blur:l}}(e);return(0,g.jsx)(cv,{field:e,control:n,fieldNote:t,...r})}function cb({workflowAction:e,onSubmitWorkflowAction:t,onCancel:r,isPerformingWorkflowActions:n,labelWidth:i,formLayout:a,autoFocusOnFirstInput:o=!0}){var s;let l=(0,p.useTheme)(),u=e.taskInputFields.reduce((e,t)=>({...e,[t.taskVariable]:"LINK"===t.inputType?t.required?tz.string({required_error:"Required field"}).url():tz.string().url().optional():t.required?tz.string({required_error:"Required field"}):tz.string().optional()}),{}),c=tz.object(u),[d,f]=function(e){var t,r,{id:n}=e,i=uk(e,ce),a=(t=(0,w.useId)(),null!=n?n:t),[o]=(0,w.useState)(()=>(function(e){var{onSubmit:t}=e,r=function(e){var t=[],r=uJ(e),n=a(r);function i(){return document.forms.namedItem(e.formId)}function a(t){var r,n,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,s=arguments.length>2?arguments[2]:void 0,l=s&&o.defaultValue===t.defaultValue?s.defaultValue:u3(t.defaultValue),u=t.initialValue===t.defaultValue?l:s&&o.initialValue===t.initialValue?s.initialValue:u3(t.initialValue),c=t.value===t.initialValue?u:s&&o.value===t.value?s.value:u3(t.value);return{submissionStatus:t.submissionStatus,defaultValue:l,initialValue:u,value:c,error:s&&o.error===t.error?s.error:t.error,validated:t.validated,constraint:s&&o.constraint===t.constraint?s.constraint:(r=t.constraint,u6((e,t)=>{var n,i=r[e];if(!i){for(var a=uE(e),o=a.length-1;o>=0;o--){var s=a[o];if("number"==typeof s&&!Number.isNaN(s)){a[o]=Number.NaN;break}}var l=uO(a);e!==l&&(i=t[l])}return null!==(n=i)&&void 0!==n?n:{}})),key:s&&o.key===t.key?s.key:(n=t.key,u6((e,t)=>{var r=n[e],i=uE(e);if(0===i.length)return r;var a=t[uO(i.slice(0,-1))];return void 0===a?r:"".concat(a,"/").concat(null!=r?r:i.at(-1))})),valid:s&&o.error===t.error?s.valid:(i=t.error,u6(e=>{var t=Object.keys(i);if(""===e)return 0===t.length;for(var r of t)if(uT(r,e)&&void 0!==i[r])return!1;return!0})),dirty:s&&o.defaultValue===t.defaultValue&&o.value===t.value?s.dirty:(a=t=>{var r,n;return null===(r=null===(n=e.shouldDirtyConsider)||void 0===n?void 0:n.call(e,t))||void 0===r||r},u6(e=>JSON.stringify(l[e])!==JSON.stringify(c[e],(t,r)=>""===e&&""===t&&r?Object.entries(r).reduce((e,t)=>{var[r,n]=t;return a(r)?Object.assign(null!=e?e:{},{[r]:n}):e},void 0):r)))}}function o(e){var i=r,o=n,l=a(e,i,o);r=e,n=l;var u={value:{},error:{},initialValue:{},key:{},valid:{},dirty:{}};for(var c of t){var d,f=null===(d=c.getSubject)||void 0===d?void 0:d.call(c);(!f||f.formId&&i.formId!==e.formId||f.status&&o.submissionStatus!==l.submissionStatus||u8(o.error,l.error,u.error,f.error)||u8(o.initialValue,l.initialValue,u.initialValue,f.initialValue)||u8(o.key,l.key,u.key,f.key,(e,t)=>e!==t)||u8(o.valid,l.valid,u.valid,f.valid,s)||u8(o.dirty,l.dirty,u.dirty,f.dirty,s)||u8(o.value,l.value,u.value,f.value))&&c.callback()}}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e!==t}function l(e){var t=i(),r=e.target;return t&&uB(r)&&r.form===t&&r.form.isConnected&&""!==r.name?r:null}function u(t,n){var{shouldValidate:i="onSubmit",shouldRevalidate:a=i}=e;return r.validated[t.name]?a===n&&("onInput"===n||r.isValueUpdated):i===n}function c(e){var t=uH(new FormData(e));o(uN(uN({},r),{},{isValueUpdated:!0,value:t.payload}))}function d(){o(uJ(e,!0))}function f(e){var t,n,a=i();if(!e.initialValue){d();return}var s=Object.entries(null!==(t=e.error)&&void 0!==t?t:{}).reduce((e,t)=>{var[n,i]=t,a=null===i?r.error[n]:i;return a&&(e[n]=a),e},{}),l=uN(uN({},r),{},{isValueUpdated:!1,submissionStatus:e.status,value:e.initialValue,validated:uN(uN({},r.validated),null===(n=e.state)||void 0===n?void 0:n.validated),error:s});if(u2(l,e.intent,e.fields,!0),o(l),a&&"error"===e.status){for(var u of a.elements)if(uB(u)&&r.error[u.name]){u.focus();break}}}function h(e){var t=i(),r=document.createElement("button"),n=p(e);r.name=n.name,r.value=n.value,r.hidden=!0,r.formNoValidate=!0,null==t||t.appendChild(r),function(e,t){if(uz(!!e,"Failed to submit the form. The element provided is null or undefined."),"function"==typeof e.requestSubmit)e.requestSubmit(t);else{var r=new SubmitEvent("submit",{bubbles:!0,cancelable:!0,submitter:t});e.dispatchEvent(r)}}(t,r),null==t||t.removeChild(r)}function p(t){return{name:uU,value:JSON.stringify(t),form:e.formId,formNoValidate:!0}}function g(e){return Object.assign(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h({type:e,payload:t})},{getButtonProps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p({type:e,payload:t})}})}return{getFormId:()=>r.formId,submit:function(t){var r,n,a,o,s,l,u,c,d,h=t.target,p=t.submitter;uz(h===i(),"The submit event is dispatched by form#".concat(h.id," instead of form#").concat(e.formId));var g=(r=new FormData(h,p),p&&"submit"===p.type&&""!==p.name&&!r.getAll(p.name).includes(p.value)&&r.append(p.name,p.value),r),m={formData:g,action:(o=t.target,null!==(n=null!==(a=null==(s=t.submitter)?void 0:s.getAttribute("formaction"))&&void 0!==a?a:o.getAttribute("action"))&&void 0!==n?n:"".concat(location.pathname).concat(location.search)),encType:(u=t.target,"multipart/form-data"===(d=null!==(l=null==(c=t.submitter)?void 0:c.getAttribute("formenctype"))&&void 0!==l?l:u.enctype)?d:"application/x-www-form-urlencoded"),method:function(e){var t,r,n=e.target,i=e.submitter,a=null===(t=null!==(r=null==i?void 0:i.getAttribute("formmethod"))&&void 0!==r?r:n.getAttribute("method"))||void 0===t?void 0:t.toUpperCase();switch(a){case"POST":case"PUT":case"PATCH":case"DELETE":return a}return"GET"}(t)};if(void 0===(null==e?void 0:e.onValidate))return m;var v=e.onValidate({form:h,formData:g,submitter:p});if("success"===v.status||null!==v.error){var y=v.reply();f(uN(uN({},y),{},{status:"success"!==y.status?y.status:void 0}))}return uN(uN({},m),{},{submission:v})},onReset:function(e){var t=i();"reset"!==e.type||e.target!==t||e.defaultPrevented||d()},onInput:function(e){var t=l(e);t&&t.form&&(e.defaultPrevented||!u(t,"onInput")?c(t.form):h({type:"validate",payload:{name:t.name}}))},onBlur:function(e){var t=l(e);t&&!e.defaultPrevented&&u(t,"onBlur")&&h({type:"validate",payload:{name:t.name}})},onUpdate:function(t){var r=e.formId,n=e.lastResult;Object.assign(e,t),e.formId!==r?d():t.lastResult&&t.lastResult!==n&&f(t.lastResult)},validate:g("validate"),reset:g("reset"),update:g("update"),insert:g("insert"),remove:g("remove"),reorder:g("reorder"),subscribe:function(e,r){var n={callback:e,getSubject:r};return t.push(n),()=>{t=t.filter(e=>e!==n)}},getState:function(){return n},getSerializedState:function(){return JSON.stringify({validated:r.validated})},observe:function(){var e=new MutationObserver(e=>{var t=i();if(t)for(var r of e)for(var n of"childList"===r.type?[...r.addedNodes,...r.removedNodes]:[r.target]){var a=uB(n)?n:n instanceof HTMLElement?n.querySelector("input,select,textarea"):null;if((null==a?void 0:a.form)===t){c(t);return}}});return e.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["form","name"]}),()=>{e.disconnect()}}}}(uk(e,u5));return u_(u_({},r),{},{submit(e){var n,i=e.nativeEvent,a=r.submit(i);a.submission&&"success"!==a.submission.status&&null!==a.submission.error?e.preventDefault():a.formData.has(uU)||null===(n=t)||void 0===n||n(e,a)},onUpdate(e){t=e.onSubmit,r.onUpdate(e)}})})(u_(u_({},i),{},{formId:a})));ct(()=>{var e=o.observe();return document.addEventListener("input",o.onInput),document.addEventListener("focusout",o.onBlur),document.addEventListener("reset",o.onReset),()=>{e(),document.removeEventListener("input",o.onInput),document.removeEventListener("focusout",o.onBlur),document.removeEventListener("reset",o.onReset)}},[o]),ct(()=>{o.onUpdate(u_(u_({},i),{},{formId:a}))});var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,w.useRef)(e);return t.current=e,t}(),l=(r=(0,w.useCallback)(e=>o.subscribe(e,()=>null==s?void 0:s.current),[o,s]),(0,w.useSyncExternalStore)(r,o.getState,o.getState)),u=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],[t,r]=(0,w.useState)(e);return ct(()=>{t||r(!0)},[t]),t}(e.defaultNoValidate),c=new Proxy({},{get(e,t,r){var n=function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=i?"".concat(t.getFormId(),"-").concat(i):t.getFormId(),o=t.getState();return new Proxy({id:a,name:i,errorId:"".concat(a,"-error"),descriptionId:"".concat(a,"-description"),get initialValue(){return o.initialValue[i]},get value(){return o.value[i]},get errors(){return o.error[i]},get key(){return o.key[i]},get valid(){return o.valid[i]},get dirty(){return o.dirty[i]},get allErrors(){if(""===i)return o.error;var s={};for(var[l,u]of Object.entries(o.error))uT(l,i)&&(s[l]=u);return s},get getFieldset(){return()=>new Proxy({},{get:(a,o,s)=>"string"==typeof o?function t(r,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,s=void 0===o?a:uO([...uE(a),o]);return new Proxy({},{get(a,o,l){var u,c=e(r,n,i,s),d=r.getState();switch(o){case"formId":return d===i&&u7(n,"formId"),r.getFormId();case"required":case"minLength":case"maxLength":case"min":case"max":case"pattern":case"step":case"multiple":return null===(u=d.constraint[s])||void 0===u?void 0:u[o];case"getFieldList":return()=>{var e,a=null!==(e=d.initialValue[s])&&void 0!==e?e:[];if(d===i&&u7(n,"initialValue","name",s),!Array.isArray(a))throw Error("The initial value at the given name is not a list");return Array(a.length).fill(0).map((e,a)=>t(r,n,i,s,a))}}return Reflect.get(c,o,l)}})}(t,r,n,i,o):Reflect.get(a,o,s)})}},{get(e,t,a){if(o===n)switch(t){case"id":case"errorId":case"descriptionId":u7(r,"formId");break;case"key":case"initialValue":case"value":case"valid":case"dirty":u7(r,t,"name",i);break;case"errors":case"allErrors":u7(r,"error","errors"===t?"name":"prefix",i)}return Reflect.get(e,t,a)}})}(o,s,l),i=o.getState();switch(t){case"context":return{[u9]:o};case"status":return i===l&&u7(s,"status"),i.submissionStatus;case"validate":case"update":case"reset":case"insert":case"remove":case"reorder":return o[t];case"onSubmit":return o.submit;case"noValidate":return u}return Reflect.get(n,t,r)}});return[c,c.getFieldset()]}({id:"workflow-action-form",constraint:(!function e(t,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=""!==i?null!==(n=r[i])&&void 0!==n?n:r[i]={required:!0}:{};if(t instanceof e$)for(var o in t.shape)e(t.shape[o],r,i?"".concat(i,".").concat(o):o);else if(t instanceof e4)e(t.innerType(),r,i);else if(t instanceof tt)e(t._def.out,r,i);else if(t instanceof eH){var s={},l={};e(t._def.left,s,i),e(t._def.right,l,i),Object.assign(r,s,l)}else if(t instanceof eB||t instanceof eq)Object.assign(r,t.options.map(t=>{var r={};return e(t,r,i),r}).reduce((e,t)=>{var r=new Set([...Object.keys(e),...Object.keys(t)]),n={};for(var i of r){var a=e[i],o=t[i];if(a&&o){var s={};for(var l of(n[i]=s,cs))void 0!==a[l]&&void 0!==o[l]&&a[l]===o[l]&&(s[l]=a[l])}else n[i]=co(co(co({},a),o),{},{required:!1})}return n}));else if(""===i)throw Error("Unsupported schema");else if(t instanceof eV)a.multiple=!0,e(t.element,r,"".concat(i,"[]"));else if(t instanceof eE)null!==t.minLength&&(a.minLength=t.minLength),null!==t.maxLength&&(a.maxLength=t.maxLength);else if(t instanceof e6)a.required=!1,e(t.unwrap(),r,i);else if(t instanceof e8)a.required=!1,e(t.removeDefault(),r,i);else if(t instanceof eO)null!==t.minValue&&(a.min=t.minValue),null!==t.maxValue&&(a.max=t.maxValue);else if(t instanceof e0)a.pattern=t.options.map(e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")).join("|");else if(t instanceof eK)for(var u=0;u<t.items.length;u++)e(t.items[u],r,"".concat(i,"[").concat(u,"]"))}(c,s={}),s),shouldRevalidate:"onInput",onValidate:({formData:e})=>{var t;return t={schema:c},function(e,t){var r=uH(e),n=r.intent;if(n)switch(n.type){case"update":var i=uR(n.payload.name,n.payload.index),a=uX(n.payload.value);void 0!==a&&(i?uI(r.payload,i,()=>a):r.payload=a);break;case"reset":var o=uR(n.payload.name,n.payload.index);o?uI(r.payload,o,()=>void 0):r.payload={};break;case"insert":uQ(r.payload,{type:n.type,payload:uN(uN({},n.payload),{},{defaultValue:uX(n.payload.defaultValue)})});break;case"remove":case"reorder":uQ(r.payload,n)}var s=t.resolve(r.payload,n),l=e=>{var t;return(t=uN(uN({},r),{},{value:e.value,error:e.error})).intent||!t.value||t.error?{status:t.intent?void 0:"error",payload:t.payload,error:void 0!==t.error?t.error:{},reply:e=>uK(t,e)}:{status:"success",payload:t.payload,value:t.value,reply:e=>uK(t,e)}};return s instanceof Promise?s.then(l):l(s)}(e,{resolve(e,r){var n=t.errorMap,i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=r.get(t);if(n)return n;var i=t;if(t instanceof eE||t instanceof eX||t instanceof e0||t instanceof e1)i=tp().transform(e=>cl(e)).pipe(t);else if(t instanceof eO)i=tp().transform(e=>cl(e,e=>""===e.trim()?Number.NaN:Number(e))).pipe(t);else if(t instanceof eT)i=tp().transform(e=>cl(e,e=>"on"===e||e)).pipe(t);else if(t instanceof eI)i=tp().transform(e=>cl(e,e=>{var t=new Date(e);return isNaN(t.getTime())?e:t})).pipe(t);else if(t instanceof eR)i=tp().transform(e=>cl(e,BigInt)).pipe(t);else if(t instanceof eV)i=tp().transform(e=>Array.isArray(e)?e:void 0===e||void 0===cu(cl(e))?[]:[e]).pipe(new eV(co(co({},t._def),{},{type:e(t.element,r)})));else if(t instanceof e$){var a=Object.fromEntries(Object.entries(t.shape).map(t=>{var[n,i]=t;return[n,e(i,r)]}));i=new e$(co(co({},t._def),{},{shape:()=>a}))}else t instanceof e4?"undefined"!=typeof File&&"refinement"===t._def.effect.type&&t.innerType()instanceof eP&&t.safeParse(new File([],"")).success&&!t.safeParse("").success?i=tp().transform(e=>cu(e)).pipe(t):i=new e4(co(co({},t._def),{},{schema:e(t.innerType(),r)})):t instanceof e6?i=tp().transform(e=>cu(cl(e))).pipe(new e6(co(co({},t._def),{},{innerType:e(t.unwrap(),r)}))):t instanceof e8?i=tp().transform(e=>cu(cl(e))).pipe(new e8(co(co({},t._def),{},{innerType:e(t.removeDefault(),r)}))):t instanceof e5?i=new e5(co(co({},t._def),{},{innerType:e(t.removeCatch(),r)})):t instanceof eH?i=new eH(co(co({},t._def),{},{left:e(t._def.left,r),right:e(t._def.right,r)})):t instanceof eB?i=new eB(co(co({},t._def),{},{options:t.options.map(t=>e(t,r))})):t instanceof eq?i=new eq(co(co({},t._def),{},{options:t.options.map(t=>e(t,r)),optionsMap:new Map(Array.from(t.optionsMap.entries()).map(t=>{var[n,i]=t;return[n,e(i,r)]}))})):t instanceof eK?i=new eK(co(co({},t._def),{},{items:t.items.map(t=>e(t,r))})):t instanceof e3?i=new e3(co(co({},t._def),{},{innerType:e(t.unwrap(),r)})):t instanceof tt?i=new tt(co(co({},t._def),{},{in:e(t._def.in,r),out:e(t._def.out,r)})):t instanceof eY&&(i=tO(()=>e(t.schema,r)));return t!==i&&r.set(t,i),i}("function"==typeof t.schema?t.schema(r):t.schema),a=e=>{var r;return{value:e.success?e.data:void 0,error:e.success?void 0:function(e,t){var r={};for(var n of e.errors){var i=uO(n.path);switch(n.message){case cc.VALIDATION_UNDEFINED:return null;case cc.VALIDATION_SKIPPED:r[i]=null;break;default:var a=r[i];null!==a&&(a?r[i]=a.concat(n):r[i]=[n])}}return Object.entries(r).reduce((e,r)=>{var[n,i]=r;return e[n]=i?t(i):null,e},{})}(e.error,null!==(r=t.formatError)&&void 0!==r?r:e=>e.map(e=>e.message))}};return t.async?i.safeParseAsync(e,{errorMap:n}).then(e=>a(e)):a(i.safeParse(e,{errorMap:n}))}})},defaultValue:e.taskInputFields.reduce((e,t)=>({...e,[t.taskVariable]:t.defaultValue}),{}),onSubmit:(e,r)=>{let{submission:n}=r;n?.status==="success"&&t(n.value),e.preventDefault()}});return(0,g.jsxs)("form",{...cr(u_({id:d.id,onSubmit:d.onSubmit,noValidate:d.noValidate},cn(d,void 0))),children:[e.taskInputFields.map((e,t)=>(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"horizontal"===a?"row":"column"},children:[(0,g.jsxs)("label",{htmlFor:f[e.taskVariable].id,style:{columnWidth:i},children:[e.label,f[e.taskVariable].required&&(0,g.jsx)("span",{style:{color:l.errorColor},children:" *"})]}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"column",width:`calc(100% - ${i}px)`},children:(()=>{switch(e.inputType){case"SELECT":return(0,g.jsx)(cy,{autoFocus:o&&0===t,field:f[e.taskVariable],options:e.options.map(e=>({value:e,label:e})),status:f[e.taskVariable].errors?.length?"error":void 0,defaultValue:f[e.taskVariable].initialValue});case"TEXT":return(0,g.jsx)(cm,{field:f[e.taskVariable],autoFocus:o&&0===t,css:{maxHeight:"200px"}});case"LINK":return(0,g.jsx)(cp,{field:f[e.taskVariable],autoFocus:o&&0===t,conformInputType:"url"})}})()})]},`${e.taskVariable}_form_item`)),(0,g.jsxs)(m.Space,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,g.jsx)(m.Button,{onClick:r,disabled:n,children:"Cancel"}),(0,g.jsx)(m.Button,{form:d.id,htmlType:"submit",loading:n,type:"primary",children:e.name})]})]})}function cx({workflowActionKey:e,isDisabled:t,data:r,rowKey:n,getWorkflowActions:i,distinctWorkflowActions:a,onWorkflowActionsPerformed:o,getRowType:s,previewColumns:l,workflowActionResult:u}){let[c,d]=(0,w.useState)(),[f,h]=(0,w.useState)([]),[p,v]=(0,w.useState)(!1),y=0===r.length,b=s&&r.some(e=>s(e)!==s(r[0])),{mutate:x,isPending:C}=u;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(m.Modal,{title:c?.name,open:p,destroyOnClose:!0,onCancel:()=>v(!1),width:850,footer:null,bodyStyle:{display:"flex",flexDirection:"column",gap:8},maskClosable:!C,centered:!0,children:[(0,g.jsx)(uS,{rowKey:n,disableConfigurationPanel:!0,disablePagination:!0,disableColumnResizing:!0,tableId:"limits-workflow-actions",data:f,columns:l,isSticky:!0,style:{maxHeight:275},disableColumnReordering:!0}),c&&(0,g.jsx)(cb,{workflowAction:c,onSubmitWorkflowAction:function(t){c&&x({keys:r.map(t=>t[e]),taskName:c.name,taskKey:c.taskKey,taskVariables:t},{onSuccess:()=>{v(!1),o()}})},onCancel:()=>v(!1),isPerformingWorkflowActions:C,labelWidth:150,formLayout:"horizontal"})]}),a.map(e=>{let n;let a=r.every(t=>i(t)?.some(t=>e.taskKey===t.taskKey&&t.enabled));return n=y?"Select a row":b?"Select rows of the same type":`The "${e.name}" action is not available for all the selected rows.`,(0,g.jsx)(m.Tooltip,{title:n,trigger:y||b||!a?["hover"]:[],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{disabled:t||y||b||!a,onClick:()=>{h(r),d(e),v(!0)},children:e.name})},e.name)})]})}let cw=tz.object({label:tz.string(),taskVariable:tz.string(),inputType:tz.enum(["SELECT","TEXT","LINK"]),required:tz.boolean(),options:tz.array(tz.string()),defaultValue:tz.string().optional()}),cC=tz.object({enabled:tz.boolean(),name:tz.string(),taskKey:tz.string(),taskInputFields:tz.array(cw)}),cS=tz.enum(["SELECT","TEXT","LINK"]),cj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};var cA=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:cj}))});let c_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"};var ck=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:c_}))});let cE={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};var cO=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:cE}))}),cR=r(3200);let cT=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i};var cI=r(9857),cM=r(9959),cF=cI.A&&1/(0,cM.A)(new cI.A([,-0]))[1]==1/0?function(e){return new cI.A(e)}:function(){};let cD=function(e,t,r){var n=-1,i=aJ,a=e.length,o=!0,s=[],l=s;if(r)o=!1,i=a0;else if(a>=200){var u=t?null:cF(e);if(u)return(0,cM.A)(u);o=!1,i=a2.A,l=new aG.A}else l=t?[]:s;e:for(;++n<a;){var c=e[n],d=t?t(c):c;if(c=r||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,r)||(l!==s&&l.push(d),s.push(c))}return s};function cP(e){return void 0!==e.workflowActions}function cL(e,t){var r,n;return(r=iW(e?.filter(cP).map(e=>e.workflowActions)),n="taskKey",r&&r.length?cD(r,(0,lq.A)(n,2)):[]).filter(e=>!t?.includes(e.taskKey))}var cN=Math.min;let cz=function(e,t,r){for(var n=r?a0:aJ,i=e[0].length,a=e.length,o=a,s=Array(a),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=(0,a1.A)(c,(0,aA.A)(t))),l=cN(c.length,l),s[o]=!r&&(t||i>=120&&c.length>=120)?new aG.A(o&&c):void 0}c=e[0];var d=-1,f=s[0];e:for(;++d<i&&u.length<l;){var h=c[d],p=t?t(h):h;if(h=r||0!==h?h:0,!(f?(0,a2.A)(f,p):n(u,p,r))){for(o=a;--o;){var g=s[o];if(!(g?(0,a2.A)(g,p):n(e[o],p,r)))continue e}f&&f.push(p),u.push(h)}}return u},cV=function(e){return(0,a3.A)(e)?e:[]};var c$=(0,a6.A)(function(e){var t=(0,a1.A)(e,cV);return t.length&&t[0]===e[0]?cz(t):[]});function cB(e){return e.split("|").reduce((e,t)=>{let[r,n]=t.split("=");return e[r]=n,e},{})}var cU=r(3442),cq=r(5353),cH=r(901);let cK=function(e,t,r,n){if(!(0,iA.A)(e))return e;t=(0,cU.A)(t,e);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=(0,cH.A)(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(i!=o){var c=s[l];void 0===(u=n?n(c,l,s):void 0)&&(u=(0,iA.A)(c)?c:(0,cq.A)(t[i+1])?[]:{})}(0,i9.A)(s,l,u),s=s[l]}return e},cZ=function(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=(0,lU.A)(e,o);r(s,o)&&cK(a,(0,cU.A)(o,e),s)}return a},cQ=function(e,t){if(null==e)return{};var r=(0,a1.A)(ac(e),function(e){return[e]});return t=(0,lq.A)(t),cZ(e,r,function(e,r){return t(e,r[0])})};function cG(e,t){let r=[],n=cB(t);return Object.entries(e).forEach(([e])=>{let[,t,i]=e.split("@"),a=cQ(n,(e,r)=>{let[,n,a]=r.split("@");return n===t&&a===i});r.push(a)}),r}function cW(e){return"*"===e?"(For each)":"AllMember"===e?"(Total)":e}function cY(e){return"NOT EQUALS"===e.scopeType?"For each excluding ":"TOTAL EXCEPT"===e.scopeType?"Total excluding ":e.values.length>1?"TOTAL EQUALS"===e.scopeType?"Total of ":"For each of ":""}function cX(e){if(!e)return;let t=cW(e.values.map(e=>iw(Object.values(e))).sort().join(", "));return`${cY(e)}${t}`}function cJ(e,t){let r=iw(Object.keys(e)),n=e[r],[i]=r.split("@"),a=cW(n);return"AllMember"===e[r]&&["TOTAL EXCEPT","TOTAL EQUALS"].includes(t[r].scopeType)&&(a=cX(t[r])),`${i}: ${a}`}function c0({scope:e}){return(0,g.jsx)("ul",{children:e.values.map((e,t)=>(0,g.jsx)("li",{children:(0,p.quote)(...Object.values(e))},`scope-member-${t}`))})}function c1({scope:e,levelCoordinates:t}){switch(e.scopeType){case"EQUALS":{let r=iw(Object.values(e.values[0]));if("*"===r)return(0,g.jsxs)("div",{children:['For each member of the level "',t.levelName,'" of hierarchy "',t.hierarchyName,'"']});if("AllMember"===r)return(0,g.jsxs)("div",{children:['The total of all members at level "',t.levelName,'" of hierarchy "',t.hierarchyName,'"']});if(1===e.values.length)return(0,g.jsxs)("div",{children:[(0,p.quote)(t.dimensionName,t.hierarchyName),": ",(0,p.quote)(...Object.values(e.values[0]))]});return(0,g.jsxs)("div",{children:['For each of the following members of hierarchy "',t.hierarchyName,'":',(0,g.jsx)(c0,{scope:e})]})}case"NOT EQUALS":return(0,g.jsxs)("div",{children:['For each member of the level "',t.levelName,'" of hierarchy "',t.hierarchyName,'" excluding the following members:',(0,g.jsx)(c0,{scope:e})]});case"TOTAL EQUALS":return(0,g.jsxs)("div",{children:['The total of all the following members of hierarchy "',t.hierarchyName,'":',(0,g.jsx)(c0,{scope:e})]});case"TOTAL EXCEPT":return(0,g.jsxs)("div",{children:['The total of all members at level "',t.levelName,'" of hierarchy "',t.hierarchyName,'" excluding the following members:',(0,g.jsx)(c0,{scope:e})]})}}function c2({scope:e,breachLocation:t,scopeKey:r}){if(["TOTAL EXCEPT","TOTAL EQUALS"].includes(e.scopeType)){let[t,n,i]=r.split("@");return(0,g.jsx)(c1,{scope:e,levelCoordinates:{levelName:t,hierarchyName:n,dimensionName:i}})}{let[e,n,i]=r.split("@");return(0,g.jsxs)("div",{children:[(0,p.quote)(i,n,e),":"," ",(0,p.quote)(...Object.values(t))]})}}function c4({scope:e,location:t,getColorForScope:r}){let n=cG(e,t).map(t=>{let r=iw(Object.keys(t));return{displayValue:cJ(t,e),longDescription:(0,g.jsx)(c2,{scopeKey:r,scope:e[r],breachLocation:t}),locationId:r}});return(0,g.jsx)(a7,{locations:n,getColorForLocation:r})}let c6=(0,g.jsxs)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"check-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[(0,g.jsx)("path",{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}),(0,g.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}),c3=(0,g.jsxs)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"close-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[(0,g.jsx)("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),(0,g.jsx)("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}),c8=(0,g.jsxs)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"exclamation-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[(0,g.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),(0,g.jsx)("path",{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"})]});function c5(e,t=!1){switch(e){case"green":return{color:t?"#49aa19":"#52c41a",background:t?"#162312":"#f6ffed",borderColor:t?"#274916":"#b7eb8f"};case"red":return{color:t?"#dc4446":"#ff4d4f",background:t?"#2c1618":"#fff2f0",borderColor:t?"#5b2526":"#ffccc7"};case"yellow":return{color:t?"#d89614":"#faad14",background:t?"#2b2111":"#fffbe6",borderColor:t?"#594214":"#ffe58f"}}}function c9({status:e}){let t=(0,p.useTheme)(),r=c6,n=c5("green",t.isDark);return"Breach"===e?(r=c3,n=c5("red",t.isDark)):"Warning"===e&&(r=c8,n=c5("yellow",t.isDark)),(0,g.jsx)(n$,{icon:r,style:n,children:s2(e)})}var c7=r(7500);function de({name:e,structureId:t}){let r=(0,p.useTheme)();return(0,g.jsx)(B.Link,{to:`/limits/structure/${t}`,style:{color:r.primaryColor},children:e})}let dt=function(e){return"number"==typeof e||(0,aj.A)(e)&&"[object Number]"==(0,s_.A)(e)};function dr(e){if(dt(e));else if("NaN"===e)return NaN;else if("-Infinity"===e)return-1/0;else if("Infinity"===e)return 1/0;return e}let dn="getAvailableAsOfDates";tz.enum(["BREACHED","REVIEWED","RESOLVED","WARNING"]);let di=tz.enum(["INITIATED","INITIALIZED","PENDING","EDIT","APPROVED","PENDING_DELETION","DELETED","REJECTED","EXPIRED"]),da=["limit structure","limit"],ds=tz.record(tz.string(),di),dl=tz.string().regex(RegExp(".*@.*@.*")),du=["Greater Than","Less Than"];tz.enum(["OFFICIAL","TEMPORARY"]);let dc=tz.object({fieldName:tz.string(),oldValue:tz.union([tz.string(),tz.array(tz.number())]).optional(),newValue:tz.union([tz.string(),tz.array(tz.number())]).optional()}),dd=tz.enum(["EQUALS","NOT EQUALS","TOTAL EXCEPT","TOTAL EQUALS"]),df=tz.object({values:tz.array(tz.record(dl,tz.string())),scopeType:dd}),dh=["REEVALUATE"],dp=tz.object({name:tz.enum(["Create Limit","Add","Edit","Delete","Create Limit Structure","Evaluate","Copy","Temporary","Download"]),enabled:tz.boolean()}),dg=tz.enum(["Breach","Warning","Pass"]),dm=tz.object({message:tz.string(),stackTrace:tz.string().optional(),limitErrors:tz.record(tz.string(),tz.object({message:tz.string(),stackTrace:tz.string().optional()}))}),dv=tz.object({serverName:tz.string(),cubeName:tz.string(),measureName:tz.string(),name:tz.string(),group:tz.string().optional(),numberOfPendingApprovals:tz.number(),structureId:tz.string(),utilizationDashboardID:tz.string().optional(),limitStructureErrors:dm.optional(),formActions:tz.array(dp)}),dy=tz.object({name:tz.string(),group:tz.string().optional(),comment:tz.string().optional(),pollingFrequency:tz.enum(["EOD","INTRADAY"]),serverName:tz.string(),cubeName:tz.string(),measureName:tz.string(),scopeKeys:tz.array(dl),kpiType:tz.enum(du),absoluteValueIndicator:tz.boolean(),warningThreshold:tz.number(),exceptionWorkflow:tz.string(),exceptionWorkflowParameters:tz.record(tz.string(),tz.string()),limitChangesWorkflow:tz.string(),limitChangesWorkflowParameters:tz.record(tz.string(),tz.string()),utilizationDashboardID:tz.string(),formActions:tz.array(dp)}),db=dy.partial().extend({serverName:tz.string(),templateName:tz.string()}).strict();dy.partial().extend({absoluteValueIndicator:tz.boolean(),scopeKeys:tz.array(dl)});let dx=tz.object({key:tz.string(),timestamp:tz.string(),status:tz.string(),user:tz.string(),comment:tz.string(),action:tz.string()}),dw=tz.object({historyRecord:dx,historicalDifference:tz.object({oldUser:tz.string(),newUser:tz.string(),differences:tz.array(dc)}).optional(),workflowVariables:tz.record(tz.string(),tz.object({value:tz.union([tz.string(),tz.undefined()]),type:cS}))}),dC=tz.object({asOfDate:tz.string(),breachCount:tz.number().optional(),comment:tz.string().optional(),cubeName:tz.string(),evaluationDate:tz.string().optional(),evaluationTimestamp:tz.string(),incidentType:dg,incidentId:tz.string(),latestHistory:dw.optional(),limitId:tz.string(),structureId:tz.string(),limitStructureName:tz.string(),limitValue:tz.array(tz.number()),location:tz.string(),mdx:tz.string(),measureValue:tz.number(),scope:tz.record(dl,df),sessionId:tz.string(),serverName:tz.string(),status:tz.string(),utilization:tz.union([tz.number(),tz.string()]),workflow:tz.string(),workflowParameters:tz.string().optional(),utilizationDashboardID:tz.string().optional(),workflowActions:tz.array(cC)}),dS=tz.record(tz.object({participants:tz.array(tz.string())})),dj=tz.object({storeEvaluationPasses:tz.boolean(),workflowConfiguration:tz.object({exceptionWorkflows:dS,limitWorkflows:dS,roles:tz.array(tz.string()),workflowStatusFetchedWithLimit:tz.boolean()}),structureTemplates:tz.record(tz.string(),db),asOfDateDimensions:tz.record(tz.string(),tz.record(tz.string().or(tz.literal("*")),tz.object({asOfDate:on}))),limitActions:tz.array(dp)}).required(),dA=tz.record(tz.string(),tz.array(tz.object({fieldName:tz.string(),newValue:tz.unknown(),oldValue:tz.unknown()}))),d_=tz.array(dC);function dk(e){return e.map(e=>({...e,..."N/A"===e.status?{status:"PASS"}:{},workflowActions:e.workflowActions||[]}))}let dE="getFilteredLimitEvaluations",dO="getRealTimeFilteredLimitEvaluations",dR="getLimitsServerSettings";function dT(){let e=k(),{limitsRESTEndpoint:t}=oN(),r=e.getQueryData([dR,t]);if(!r)throw Error("Undefined cached server settings.");return r}let dI=function(e,t){var r,n;return t=(0,cU.A)(t,e),r=e,null==(e=(n=t).length<2?r:(0,lU.A)(r,sV(n,0,-1)))||delete e[cH.A(iw(t))]};var dM=r(4963);let dF=function(e){return(0,dM.A)(e)?void 0:e};var dD=r(6875),dP=r(9727),dL=function(e){return(0,dP.A)((0,dD.A)(e,void 0,iW),e+"")}(function(e,t){var r={};if(null==e)return r;var n=!1;t=(0,a1.A)(t,function(t){return t=(0,cU.A)(t,e),n||(n=t.length>1),t}),(0,i7.A)(e,ac(e),r),n&&(r=aD(r,7,dF));for(var i=t.length;i--;)dI(r,t[i]);return r});function dN(e){return Object.entries(e).reduce((e,[t,r])=>({...e,[r]:t}),{})}let dz="getFilteredLimitStructure",dV="LimitStructure",d$="getLimitWorkflowStatuses";function dB(e){let{limitsServerName:t,limitsRESTEndpoint:r}=oN(),n=function(e){let t=(0,p.useAtotiClient)(e),r=t?.url,n=iu(t);return(0,w.useCallback)(async(e,t,i="application/json",a="application/json")=>{let o=await fetch(`${r}${e}`,{...n,headers:{...n.headers||{},Accept:a,"Content-Type":i},method:"PUT",body:JSON.stringify(t)});return await t$(o),o},[r,n])}(t),i=k(),{message:a}=m.App.useApp();return ib({mutationFn:t=>n(`${r}/limit-process-instance/execute-task-action`,dL({...t,workflowType:e},"taskName")),onSuccess:(e,{keys:t,taskName:r})=>(a.success(`Successfully executed "${r.toLowerCase()}"${t.length>1?` ${t.length} tasks.`:"."}`),Promise.all([i.invalidateQueries({queryKey:[dz]}),i.invalidateQueries({queryKey:[dV]}),i.invalidateQueries({queryKey:[dE]}),i.invalidateQueries({queryKey:[d$]})])),meta:{errorMessage:"Error performing the workflow actions"}})}let dU=(e,t)=>{let{limitsServerName:r,limitsRESTEndpoint:n}=oN(),i=ip(r);return ir({queryKey:["getAuditHistory",n,e,t],queryFn:async()=>i(`${n}/limit-process-instance/process-instance-history/${e}::${t}${"EXCEPTION"===t?"?includeHistoricalDifferences=false":""}`),enabled:!0,suspense:!0,throwOnError:n5},nW,void 0)},dq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var dH=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:dq}))});let dK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var dZ=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:dK}))});let dQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var dG=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:dQ}))});let dW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var dY=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:dW}))}),dX=r(2528),dJ=r(9715),d0=Object.prototype.hasOwnProperty,d1=(0,dJ.A)(function(e,t,r){d0.call(e,r)?e[r].push(t):(0,dX.A)(e,r,[t])});function d2({auditDifferences:e}){let t=(0,p.useTheme)(),r=d1(e,e=>e.oldValue?e.newValue?"modified":"deleted":"new"),n={textDecoration:"line-through",color:t.errorColor,fontWeight:"500"},i={color:t.successColor,fontWeight:"500"};return(0,g.jsx)(g.Fragment,{children:iW(["new","modified","deleted"].map(e=>r[e]||[])).map(e=>{let t=(0,g.jsx)(dH,{}),r=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{style:n,children:e.oldValue})," ",(0,g.jsx)(dZ,{})," ",(0,g.jsx)("span",{style:i,children:e.newValue})]});return e.oldValue?e.newValue||(t=(0,g.jsx)(dY,{}),r=(0,g.jsx)("span",{style:n,children:e.oldValue})):(t=(0,g.jsx)(dG,{}),r=(0,g.jsx)("span",{style:i,children:e.newValue})),(0,g.jsxs)(m.Row,{style:{marginLeft:16},children:[(0,g.jsx)(m.Col,{flex:"1",style:{textAlign:"right",paddingRight:"8px"},children:(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)("span",{children:t}),(0,g.jsxs)("span",{children:[e.fieldName,": "]})]})}),(0,g.jsx)(m.Col,{flex:"2",children:r})]},e.fieldName)})})}function d4({timestamp:e}){return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{children:cd(e).format("YYYY-MM-DD")}),(0,g.jsx)("div",{children:cd(e).format("hh:mm:ss")})]})}let d6={labelPercentageWidth:25,mode:"left"};function d3({auditKey:e,auditType:t}){let{auditTrailNodeColors:r}=oN(),{data:n}=dU(e,t),i=e=>r?r.green.includes(e)?"green":r.blue.includes(e)?"blue":r.red.includes(e)?"red":"blue":"blue";return(0,g.jsx)(b,{...d6,items:n.map(e=>({color:i(e.historyRecord.status),label:(0,g.jsx)(d4,{timestamp:e.historyRecord.timestamp}),children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{fontWeight:"bold"},children:`${e.historyRecord.status}`}),(0,g.jsx)("div",{children:`"${e.historyRecord.action}" by ${e.historyRecord.user}`}),Object.entries(e.workflowVariables).map(([t,{value:r,type:n}])=>(0,g.jsxs)(m.Row,{style:{marginLeft:16},children:[(0,g.jsxs)(m.Col,{flex:"1",style:{textAlign:"right",paddingRight:8},children:[t,":"," "]}),(0,g.jsx)(m.Col,{flex:"2",children:"LINK"===n&&void 0!==r?(0,g.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:r.length>255?`${r.substring(0,255)}`:r}):r})]},`${e.historyRecord.action}_${t}`)),e.historicalDifference?.differences&&(0,g.jsx)(d2,{auditDifferences:e.historicalDifference.differences})]})}))})}function d8(e){return(0,g.jsx)($,{children:(0,g.jsx)(w.Suspense,{fallback:(0,g.jsx)(j,{delay:700,children:(0,g.jsx)(x,{...d6})}),children:(0,g.jsx)(d3,{...e})})})}function d5({getColorForScope:e,scopes:t}){let r=Object.entries(t).map(([e,t])=>{let[r,n,i]=e.split("@");return{displayValue:`${r}: ${cX(t)}`,longDescription:(0,g.jsx)(c1,{scope:t,levelCoordinates:{levelName:r,hierarchyName:n,dimensionName:i}}),locationId:e}});return(0,g.jsx)(a7,{locations:r,getColorForLocation:e})}let d9={textAlign:"right",paddingRight:8},{Title:d7}=m.Typography;function fe({evaluation:e,getColorForScope:t,onClose:r}){let n=e.workflowActions.filter(e=>!dh.includes(e.taskKey)),[i,a]=(0,w.useState)(n[0]),{mutate:o,isPending:s}=dB("INCIDENT");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d7,{level:4,style:{marginTop:0},children:"Evaluation"}),(0,g.jsxs)(m.Space,{size:"small",direction:"vertical",style:{width:"100%"},children:[(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"Name :"}),(0,g.jsx)(m.Col,{span:18,children:e.limitStructureName})]}),(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"AsOfDate :"}),(0,g.jsx)(m.Col,{span:18,children:e.asOfDate})]}),(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"Status :"}),(0,g.jsx)(m.Col,{span:18,children:e.status})]}),(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"Scope :"}),(0,g.jsx)(m.Col,{span:18,children:(0,g.jsx)(d5,{getColorForScope:t,scopes:e.scope})})]}),(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"Location :"}),(0,g.jsx)(m.Col,{span:18,children:(0,g.jsx)(c4,{scope:e.scope,location:e.location,getColorForScope:t})})]}),(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"Limit :"}),(0,g.jsx)(m.Col,{span:18,children:Number(e.limitValue).toLocaleString("en-US")})]}),(0,g.jsxs)(m.Row,{children:[(0,g.jsx)(m.Col,{span:6,style:d9,children:"Exposure :"}),(0,g.jsx)(m.Col,{span:18,children:Number(e.measureValue).toLocaleString("en-US")})]})]}),n.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d7,{level:4,children:"Action"}),(0,g.jsx)(m.Form,{layout:"vertical",children:(0,g.jsx)(m.Form.Item,{label:"Select action",htmlFor:"workflowActionSelect",children:(0,g.jsx)(m.Select,{autoFocus:!0,id:"workflowActionSelect",onChange:e=>a(n.find(t=>t.taskKey===e)),value:i?.taskKey,showSearch:!0,options:n.map(e=>({value:e.taskKey,label:e.name}))})})}),i&&(0,g.jsx)(cb,{autoFocusOnFirstInput:!1,workflowAction:i,onCancel:r,isPerformingWorkflowActions:s,onSubmitWorkflowAction:function(t){i&&o({keys:[e.incidentId],taskName:i.name,taskKey:i.taskKey,taskVariables:t},{onSuccess:()=>{r()}})}})]})]})}let ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};var fr=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:ft}))});function fn(e,t){return e.findAll(t.filters).map(e=>t.select?t.select(e):e.state)}let fi="limitReevaluation";function fa({evaluation:e}){return(0,g.jsxs)("div",{children:["You are about to evaluate:",(0,g.jsxs)("ul",{children:[(0,g.jsxs)("li",{children:["Limit: ",(0,g.jsx)("span",{style:{fontWeight:500},children:e.limitStructureName})]}),(0,g.jsxs)("li",{children:["Scope:",(0,g.jsx)("ul",{children:Object.entries(e.scope).map(([e,t])=>{let[r,n,i]=e.split("@");return(0,g.jsx)("li",{children:(0,g.jsx)(c1,{scope:t,levelCoordinates:{levelName:r,hierarchyName:n,dimensionName:i}})},`scope-desc-${e}`)})})]}),(0,g.jsxs)("li",{children:["As of date: ",(0,g.jsx)("span",{style:{fontWeight:500},children:e.asOfDate})]})]})]})}function fo({limitEvaluation:e}){let{mutate:t,isPending:r}=function({limitId:e,asOfDate:t}){let{limitsRESTEndpoint:r,limitsServerName:n}=oN(),i=k(),a=ig(n),{notification:o,message:s}=m.App.useApp();return ib({mutationKey:[fi,e,t],mutationFn:()=>a(`${r}/limitEvaluation/limit/evaluate/${e}?asOfDate=${t}`),onSuccess:async t=>{await Promise.all([i.invalidateQueries({queryKey:[dn]}),i.invalidateQueries({queryKey:[dE]})]),sA(t.limitErrors)?s.success("Limit successfully re-evaluated."):o.error({message:`Evaluation failed: ${t.limitErrors[e]}`,description:"Contact your support team"})},meta:{errorMessage:"Error re-evaluating limit"}})}({limitId:e.limitId,asOfDate:e.asOfDate}),n=!!e.workflowActions.find(e=>"REEVALUATE"===e.taskKey)?.enabled,i=function(e,t){let r=k(void 0);return function(e={},t){let r=k(t).getMutationCache(),n=w.useRef(e),i=w.useRef();return i.current||(i.current=fn(r,e)),w.useEffect(()=>{n.current=e}),w.useSyncExternalStore(w.useCallback(e=>r.subscribe(()=>{let t=tY(i.current,fn(r,n.current));i.current!==t&&(i.current=t,t8.schedule(e))}),[r]),()=>i.current,()=>i.current)}({filters:{...e,status:"pending"}},r).length}({mutationKey:[fi,e.limitId,e.asOfDate]}),a=(0,g.jsx)(m.Button,{type:"link","data-testid":"Re-Evaluate",icon:(0,g.jsx)(fr,{}),loading:r||i>0,disabled:!n});return(0,g.jsx)(nV,{fallbackComponent:a,children:(0,g.jsx)(m.Popconfirm,{overlayStyle:{width:"500px"},placement:"left",title:"Re-evaluate the limit",description:(0,g.jsx)(fa,{evaluation:e}),onConfirm:()=>t(),okButtonProps:{autoFocus:!0},disabled:!n,children:(0,g.jsx)(m.Tooltip,{title:n?"Re-Evaluate":"You are not authorized to re-evaluate this limit.",trigger:["hover"],mouseEnterDelay:.75,children:a})})})}let fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"};var fl=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fs}))});let fu="limits_scrollToBottom",fc=e=>{let{utilizationDashboardID:t,structureId:r,filterProps:n}=e,{asOfDateDimensions:i}=dT(),{serverNameToServerKey:a}=oN(),o=function(){let e=(0,B.useNavigate)();return(t,r)=>{e(`/dashboard/${t}`,{state:r})}}(),{data:s}=function(e){let t=(0,p.useContentClient)();return ii({queryKey:["getDashboardId",e],enabled:void 0!==e,queryFn:async()=>{if(!e)throw Error("This query should only be enabled when a dashboard id exists.");return null!==await t.fetchFile({id:e,withMetaData:!1,type:"dashboard"})},retry:!1})}(t),l=(0,p.useDataModels)(),u=!1,c=iB();if(t&&n){let{serverName:e}=n,t=a[e];if(!t)throw Error(`${e} does not exist in 'serverNameToServerKey'. Did you forget to add it to the LimitSettings?`);u=c(t)}let d=(0,g.jsx)(m.Button,{disabled:!t||!s,loading:u,type:"link",onClick:()=>{let e,s;let u=[];if(n){let{serverName:t}=n;if(s=n.cubeName,!(e=a[t]))throw Error(`${t} does not exist in 'serverNameToServerKey'. Did you forget to add it to the LimitSettings?`);let o=l[e],c=(0,p.getCube)(o,s);if(!c)throw Error(`Cube ${s} does not exist on server ${e} but was referenced on limit "${r}".`);let d=oi({serverName:t,cubeName:c.name,asOfDateSettingsPerServer:i});u.push(...function({cube:e,asOfDateLevelIdentifiers:t,filterProps:r}){let{asOfDate:n,location:i,scope:a}=r,o=(0,p.getHierarchy)({dimensionName:t.asOfDateDimensionName,hierarchyName:t.asOfDateHierarchyName},e),s=[{type:"members",dimensionName:t.asOfDateDimensionName,hierarchyName:t.asOfDateHierarchyName,members:o.slicing?[[n]]:[["AllMember",n]],isPinned:!0,isExclusionFilter:!1}],l=cB(i);return Object.entries(a).forEach(([t,r])=>{let[,n,i]=t.split("@"),a=(0,p.getHierarchy)({dimensionName:i,hierarchyName:n},e),o=Object.values(cQ(l,(e,t)=>{let[,r,a]=t.split("@");return r===n&&a===i})),u=1===o.length&&"AllMember"===o[0];["TOTAL EQUALS","TOTAL EXCEPT"].includes(r.scopeType)?r.values.forEach(e=>{s.push({type:"members",dimensionName:i,hierarchyName:n,members:a.slicing?[Object.values(e)]:[["AllMember",...Object.values(e)]],isPinned:!0,isExclusionFilter:"TOTAL EXCEPT"===r.scopeType})}):u&&"EQUALS"===r.scopeType||s.push({type:"members",dimensionName:i,hierarchyName:n,members:a.slicing?[o]:[["AllMember",...o]],isPinned:!0,isExclusionFilter:"TOTAL EXCEPT"===r.scopeType})}),s}({cube:c,filterProps:n,asOfDateLevelIdentifiers:d}))}o(t,{dashboardFilters:{filters:u,serverKey:e,cubeName:s}})},icon:(0,g.jsx)(fl,{})});return(0,g.jsx)(nV,{fallbackComponent:d,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:t?u?"Loading data model":s?n?"View Utilization":"View linked dashboard":"Linked dashboard not found":(0,g.jsxs)("div",{children:["Head over to the"," ",(0,g.jsx)(B.Link,{to:`/limits/structure/${r}`,state:{[fu]:!0},children:"Limit Structure definition"})," ","to link it to a utilization dashboard"]}),mouseEnterDelay:.75,children:d})})};cd.extend(cR);let fd=e=>cd.max(Array.from(e).map(e=>cd(e)))?.format("YYYY-MM-DD"),ff="incidentId";function fh(){let[e,t]=(0,w.useState)(),[r,n]=(0,w.useState)(!1),[i,a]=(0,w.useState)(),o=k(),{limitsRESTEndpoint:s}=oN(),{storeEvaluationPasses:l}=dT(),[u,c]=(0,w.useState)({}),d=function(){let e=k(),{limitsRESTEndpoint:t}=oN(),r=e.getQueryData([dn,t]);if(!r)throw Error("Undefined cached as-of dates");return r}(),f=fd(d),[h,v]=nK({storageKey:"limits-date-filter",initialState:f?{id:"asOfDate",value:[f]}:void 0,timeToLive:288e5}),[y,b]=nK({storageKey:"limits-evaluation-status",initialState:{id:"incidentType",value:["Breach","Warning"]}}),[x,C]=(0,w.useState)((y?.value??[]).includes("Pass")?"ALL_EVALUATIONS":"INCIDENTS"),S=function(){let e=(0,w.useRef)({colors:{},nextColorIndex:0}),{isDark:t}=(0,p.useTheme)();return(0,w.useCallback)(r=>(!e.current.colors[r]&&(e.current.colors[r]=iY[e.current.nextColorIndex%iY.length],e.current.nextColorIndex++),e.current.colors[r](t)),[t])}(),j=(h?.value??[]).map(e=>cd(e).format("YYYY-MM-DD")),[A,_]=nK({storageKey:"limits-evaluations-realtime",initialState:!0}),E=[...j.length>0?[{fieldName:"As Of Date",possibleValues:j}]:[],..."INCIDENTS"===x?[{fieldName:"Incident Type",possibleValues:["Breach","Warning"]}]:[]],{data:O,isFetching:R}=function(e,t){let{limitsRESTEndpoint:r,limitsServerName:n}=oN(),i=k(),a=(0,w.useRef)(!1),o=[dE,r,JSON.stringify(e)],s=[dO,r,JSON.stringify(e)],l=ig(n),u=ii({queryKey:s,enabled:t,placeholderData:i.getQueryData(o),queryFn:async()=>await new Promise((e,t)=>{!function r(){let n=i.getQueryData(s);n?e(n):a.current?t(Error("stream error")):setTimeout(r,100)}()})}),c=ii({queryKey:o,enabled:!t,placeholderData:t4,staleTime:6e4,queryFn:async()=>dk(tz.array(dC).parse(await l(`${r}/incidents/all/filter`,{body:{incidentConditions:e}}))),meta:{errorMessage:"Error fetching limit breaches"}});return!function({filterConditions:e,queryKey:t,rootQueryKey:r,timeToLiveInMs:n,onError:i,enabled:a}){let{limitsServerName:o}=oN(),s=k(),{notification:l}=m.App.useApp(),u=(0,p.useAtotiClient)(o),c=u?.url;il({timeToLiveInMs:n,enabled:a,queryKey:t,queryFamily:r,url:`${c}/limits/sse/v2/incidents/subscribe/filter?${(function(e){let t={incidentTypes:"Pass,Breach,Warning"};return e.forEach(e=>{let[r,n]=Object.values(e);Object.assign(t,{[function(e){switch(e){case"As Of Date":return"asOfDates";case"Incident Type":return"incidentTypes"}}(r)]:n})}),new URLSearchParams(t)})(e).toString()}`,eventHandlers:{CREATED:e=>{try{let r=JSON.parse(e.data),n=d_.parse(r);s.setQueryData(t,e=>[...dk(n.map(e=>({...e,timestampAdded:Date.now()}))),...e||[]])}catch(e){e instanceof Q?(l.error({message:"There was an issue parsing the new incoming limit evaluations",description:"Contact your support team"}),console.error("Error(s) while parsing incoming events:",e.issues)):(l.error({message:"There was an issue loading the new limit evaluations",description:"Contact your support team"}),console.error(`Error while populating the query cache for query: ${t}`,e))}},UPDATED:e=>{try{let r=JSON.parse(e.data),n=dA.parse(r),i=Object.keys(n);s.setQueryData(t,e=>{let t=[...e||[]];return t.forEach((e,r)=>{if(i.includes(String(e.incidentId))){let i=Object.assign({},...n[e.incidentId].map(e=>({[e.fieldName]:e.newValue})));t[r]={...t[r],...i,timestampAdded:Date.now()}}}),t})}catch(e){e instanceof Q?(l.error({message:"There was an issue parsing the new incoming limit evaluations",description:"Contact your support team"}),console.error("Error(s) while parsing incoming events:",e.issues)):(l.error({message:"There was an issue updating the existing limit evaluations",description:"Contact your support team"}),console.error(`Error while populating the query cache for query: ${t}`,e))}},DELETED:()=>{},INITIAL_LOAD:e=>{let r=JSON.parse(e.data);try{let e=d_.parse(r);s.setQueryData(t,dk(e))}catch(e){e instanceof Q?(l.error({message:"Error parsing the initial limit evaluations",description:"Contact your support team"}),console.error("Error(s) while parsing incoming events:",e.issues)):(l.error({message:"Error loading initial limit evaluations",description:"Contact your support team"}),console.error(`Error while populating the query cache for query: ${t}`,e))}}},onError:i})}({enabled:t,filterConditions:e,queryKey:s,rootQueryKey:dO,timeToLiveInMs:6e4,onError:()=>{a.current=!0,void 0===i.getQueryData(s)&&i.setQueryData(s,[])}}),t?u:c}(E,A),T=dB("INCIDENT");(0,w.useEffect)(()=>{let e=new Set((O??[]).map(e=>e.incidentId));c(t=>{let r={};return Object.keys(t).forEach(t=>{e.has(t)&&(r[t]=!0)}),r})},[O]);let I=cL(O,dh),M=(0,w.useMemo)(()=>[{id:"asOfDate",isControlledFilter:!0,header:"AsOfDate",accessorKey:"asOfDate",filterFn:"isOneOf",getUniqueValues:()=>d.map(e=>cd(e).format("YYYY-MM-DD"))},{id:"limitStructureName",header:"Name",accessorKey:"limitStructureName",cell:({row:e})=>(0,g.jsx)(de,{name:e.original.limitStructureName,structureId:e.original.structureId}),filterFn:"isOneOf"},{id:"location",header:"Location",accessorFn:e=>(function(e,t){let r=(0,c7.A)(t,"scope");if(!r)throw Error('Unable to display the location without the "scope" field.');return cG(r,e).map(e=>cJ(e,r)).join(", ")})(e.location,e),cell:({row:{original:e}})=>(0,g.jsx)(c4,{scope:e.scope,location:e.location,getColorForScope:S}),getUniqueValues:e=>cG(e.scope,e.location).map(t=>cJ(t,e.scope)),filterFn:(e,t,r)=>c$(cG(e.original.scope,e.original.location).map(t=>cJ(t,e.original.scope)),r).length>0},{id:"limit",header:"Limit",accessorFn:e=>e.limitValue[0],cell:({getValue:e})=>(0,g.jsx)("div",{style:{textAlign:"right"},children:Number(e()).toLocaleString("en-US")}),filterFn:"inNumberRange"},{id:"exposure",header:"Exposure",accessorKey:"measureValue",cell:({getValue:e})=>(0,g.jsx)("div",{style:{textAlign:"right"},children:Math.round(Number(e())).toLocaleString("en-US")}),filterFn:"inNumberRange"},{id:"utilization",header:"Utilization",accessorKey:"utilization",cell:({row:{original:e}})=>{var t;return(0,g.jsx)("div",{style:{textAlign:"right"},children:dt(t=e.utilization)?isNaN(t)||t===1/0||t===-1/0?t:t.toLocaleString(void 0,{style:"percent",maximumFractionDigits:0}):t})},enableColumnFilter:!1,sortingFn:(e,t)=>(function(e,t){let r=dr(e),n=dr(t);return dt(r)&&dt(n)?isNaN(r)&&isNaN(n)?0:isNaN(r)?-1:isNaN(n)?1:r-n:dt(r)?1:dt(n)?-1:r.localeCompare(n)})(e.original.utilization,t.original.utilization)},{id:"incidentType",header:"Evaluation status",accessorKey:"incidentType",isControlledFilter:!0,cell:({getValue:e})=>(0,g.jsx)(c9,{status:e()}),filterFn:"isOneOf"},{id:"status",header:"Workflow status",accessorKey:"status",filterFn:"isOneOf"},{id:"classification",header:"Classification",accessorFn:e=>e.latestHistory?.workflowVariables.Classification?.value,filterFn:"isOneOfOrBlank"},{id:"resolution",header:"Resolution",accessorFn:e=>e.latestHistory?.workflowVariables.Resolution?.value,filterFn:"isOneOfOrBlank"},{id:"actions",header:"Action",enableHiding:!1,enableColumnFilter:!1,enableSorting:!1,enableResizing:!1,size:0,cell:({row:e})=>{let r=e.original,i=r.workflowActions.some(({taskKey:e,enabled:t})=>t&&!dh.includes(e)),o=(0,g.jsx)(m.Button,{style:{padding:"0px"},type:"link","data-testid":"process",icon:(0,g.jsx)(uu,{}),onClick:()=>{t(r),n(!0)},disabled:!i}),s=(0,g.jsx)(m.Button,{type:"link","data-testid":"history",icon:(0,g.jsx)(cA,{}),onClick:()=>a(r)});return(0,g.jsxs)("div",{style:{whiteSpace:"nowrap",display:"flex",alignItems:"flex-end"},children:[(0,g.jsx)(nV,{fallbackComponent:o,children:(0,g.jsx)(m.Tooltip,{title:"Process",trigger:i?["hover"]:[],mouseEnterDelay:.75,children:o})}),(0,g.jsx)(fo,{limitEvaluation:r}),(0,g.jsx)(fc,{utilizationDashboardID:r.utilizationDashboardID,structureId:r.structureId,filterProps:{serverName:r.serverName,cubeName:r.cubeName,location:r.location,asOfDate:r.asOfDate,scope:r.scope}}),(0,g.jsx)(nV,{fallbackComponent:s,children:(0,g.jsx)(m.Tooltip,{title:"History",trigger:["hover"],mouseEnterDelay:.75,children:s})})]})}}],[S,d]),F=O?cT(Object.keys(u).map(e=>O.find(t=>t[ff]===e))):[];return(0,g.jsxs)(iJ,{title:"Status",children:[(0,g.jsx)(uS,{rowKey:ff,tableId:"limit-status",columns:M,isLoading:R,data:O??[],rowSelection:{selectedRows:u,onChange:c},controlledFilters:{columnFilters:[...h?[h]:[],...y?[y]:[]],onChange:e=>{let t=e.find(e=>"asOfDate"===e.id),r=e.find(e=>"incidentType"===e.id);(void 0===t||s6(t))&&v(t),(void 0===r||s6(r))&&b(r)}},style:{maxHeight:"calc(100% - 38px)"},isSticky:!0,emptyMessage:R?"Loading":"No results. Try choosing a less restrictive set of filters.",actionButtons:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(cx,{workflowActionKey:ff,isDisabled:R,data:F,rowKey:ff,distinctWorkflowActions:I,getWorkflowActions:e=>e.workflowActions,getRowType:e=>e.incidentType,previewColumns:[{id:"asOfDate",header:"AsOfDate",accessorKey:"asOfDate",enableColumnFilter:!1,enableSorting:!1},{id:"limitStructureName",header:"Name",accessorKey:"limitStructureName",enableColumnFilter:!1,enableSorting:!1},{id:"scope",header:"Scope",enableColumnFilter:!1,enableSorting:!1,cell:({row:{original:e}})=>(0,g.jsx)(d5,{getColorForScope:S,scopes:e.scope})},{id:"location",header:"Location",enableColumnFilter:!1,enableSorting:!1,cell:({row:{original:e}})=>(0,g.jsx)(c4,{scope:e.scope,location:e.location,getColorForScope:S})}],onWorkflowActionsPerformed:()=>{c({})},workflowActionResult:T}),(0,g.jsx)(m.Tooltip,{title:A?"Pause real-time updates":"Enable real-time updates",trigger:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{disabled:R,icon:A?(0,g.jsx)(ck,{twoToneColor:"blue"}):(0,g.jsx)(cO,{}),onClick:()=>{if(A){let e=o.getQueryData([dO,s,JSON.stringify(E)]);e&&o.setQueryData([dE,s,JSON.stringify(E)],e)}_(e=>!e)}})})]}),extraTags:l&&(0,g.jsx)(rg,{style:{minWidth:140},placeholder:"All servers","data-testid":"serverFilter",value:x,onChange:e=>{if(C(e),"ALL_EVALUATIONS"===e)b(void 0);else{let e=(y?.value??[]).filter(e=>"Pass"!==e);b(e.length>0?{id:"incidentType",value:e}:void 0)}},options:[{label:"All Evaluations",value:"ALL_EVALUATIONS"},{label:"Incidents",value:"INCIDENTS"}]})}),(0,g.jsx)(m.Drawer,{width:450,open:r,onClose:()=>n(!1),destroyOnClose:!0,autoFocus:!1,title:"Process",children:e&&(0,g.jsx)(fe,{evaluation:e,getColorForScope:S,onClose:()=>n(!1)})}),(0,g.jsx)(m.Drawer,{width:450,open:void 0!==i,onClose:()=>a(void 0),destroyOnClose:!0,maskClosable:!0,title:"History",children:i&&(0,g.jsx)(d8,{auditKey:i.incidentId,auditType:"EXCEPTION"})})]})}function fp(e,t){let{limitActions:r}=dT(),n=(t??r).filter(t=>t.name===e);return n.length>0&&n.every(e=>e.enabled)}let fg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};var fm=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fg}))}),fv=r(4457);function fy({isDisabled:e=!1,dashboardId:t,onDashboardPicked:r,tooltipDefaultOpen:n}){let i=(0,p.useTree)("dashboard"),a=(0,p.useTheme)(),[o,s]=(0,w.useState)(!1),[l,u]=(0,w.useState)(void 0),[c,d]=(0,w.useState)(void 0),{formatMessage:f}=(0,fv.useIntl)(),h=f({id:"aui.defaultDashboardName"});(0,w.useEffect)(()=>{if(t&&i){let e=(0,p.findContentRecords)(i,[t]);e[t]&&u((0,p.getMetaData)(e[t].node,t).name)}else u(void 0)},[i,t]);let v=e=>{r(e),s(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Tooltip,{defaultOpen:n,title:"You can use this section to link this limit structure to any Atoti dashboard.",trigger:["hover"],mouseEnterDelay:.75,children:(0,g.jsxs)(m.Space.Compact,{style:{width:"100%"},size:"small",children:[(0,g.jsx)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"100%",padding:"0 7px",borderBottomLeftRadius:4,borderTopLeftRadius:4,border:`1px solid ${a.grayScale[5]}`,borderRight:0,backgroundColor:e?a.disabledBackground:""},"data-testid":"selectedDashboardName",children:l}),(0,g.jsx)(m.Button,{onClick:()=>s(!0),loading:!i,disabled:e,children:"Select"}),(0,g.jsx)(m.Button,{style:{fontSize:10},icon:(0,g.jsx)(l9,{}),disabled:!l||e,onClick:()=>{r(void 0),d(void 0)}})]})}),(0,g.jsxs)(m.Modal,{open:o,centered:!0,width:450,title:"Select a dashboard",okButtonProps:{disabled:void 0===c},onOk:()=>{v(c.id)},onCancel:()=>{s(!1),d(void 0)},children:[(0,g.jsxs)("p",{children:["Selected dashboard:"," ",(0,g.jsx)("b",{children:c?c.caption||h:""})]}),(0,g.jsx)("div",{css:{height:"450px","& *":{boxSizing:"border-box"}},children:(0,g.jsx)(p.ContentTree,{expandTrigger:"full-node",areFilesVisible:!0,getDefaultCaption:e=>e?.id||"",isSearchVisible:!0,isSelectable:!1,onClick:e=>{e.isFolder||d(e)},structure:i})})]})]})}var fb=(0,a6.A)(function(e,t){return(0,a3.A)(e)?a4(e,iG(t,1,a3.A,!0)):[]});function fx(e,t){let r={};return Object.values(t).forEach(t=>{let[,n,i]=t[0].split("@"),a=(0,p.getHierarchy)({dimensionName:i,hierarchyName:n},e);t.sort((e,t)=>{let r=e.split("@")[0],n=Object.values(a.levels).findIndex(e=>e.name===r),i=t.split("@")[0];return n-Object.values(a.levels).findIndex(e=>e.name===i)}),r[t[t.length-1]]=t}),r}function fw(e){return e.reduce((e,t)=>{let[,r,n]=t.split("@"),i=`${n}@${r}`;return e[i]=[...e[i]||[],t],e},{})}function fC({scopeTileCaption:e,isViewMode:t,handleScopeRemoved:r}){let n=(0,p.useTheme)(),{elementRef:i,isOverflowing:a}=nQ();return(0,g.jsxs)("li",{css:{...t?{backgroundColor:n.disabledBackground,color:n.disabledTextColor,borderColor:n.cellBorderColor}:{backgroundColor:n.backgroundColor,borderColor:n.cellBorderColor,color:n.textColor},display:"flex",justifyContent:"space-between",borderStyle:"solid",borderWidth:1,borderRadius:2,borderColor:n.cellBorderColor,marginBottom:6,paddingRight:4,paddingLeft:10,fontSize:12,lineHeight:"22px",gap:5},children:[(0,g.jsx)(m.Tooltip,{trigger:a?["hover"]:[],title:e,mouseEnterDelay:.75,children:(0,g.jsx)("div",{ref:i,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e})}),!t&&(0,g.jsx)(l9,{onClick:()=>{r()},style:{cursor:"pointer",fontSize:10}})]})}function fS({scopeKeys:e,handleScopeRemoved:t,isViewMode:r,cube:n}){let i=e.map(e=>({isRemovable:!r,isDisabled:r,caption:function(e,t){let[r,n,i]=e.split("@");if(!t)return`${i} / ${n} / ${r}`;{let e=(0,p.getDimension)(i,t),a=(0,p.getHierarchy)({hierarchyName:n,dimensionName:i},t),o=(0,p.getLevel)({dimensionName:i,hierarchyName:n,levelName:r},t);return`${e.caption} / ${a.caption} / ${o.caption}`}}(e,n),scopeKey:e}));return(0,g.jsx)("div",{children:0===i.length?(0,g.jsx)(m.Empty,{style:{marginBottom:18},description:"No scope",image:m.Empty.PRESENTED_IMAGE_SIMPLE}):(0,g.jsx)("ul",{style:{paddingLeft:0,marginTop:0,marginBottom:0,...r?{}:{minHeight:109}},children:i.map((e,n)=>(0,g.jsx)(fC,{isViewMode:r,scopeTileCaption:e.caption,handleScopeRemoved:()=>t(n)},e.caption))})})}let{Title:fj}=m.Typography,fA=e=>{let{setIsTreeOpen:t,limitStructureFormState:r,isTreeOpen:n,setLimitStructureFormState:i,isViewMode:a,cube:o,serverKey:s}=e,l=(0,p.useTheme)(),u=(0,w.useRef)(null),[c,d]=function(e,t,r=400){let n=(0,w.useMemo)(()=>`aui-popover-width-${t}`,[t]),i=window.localStorage.getItem(n),a=null!==i?Number(i):r;return[(0,w.useCallback)(t=>{t.preventDefault();let i=e.current.clientWidth,a=n=>{let a=n.clientX-t.clientX;e.current.style.width=`${Math.max(i+a,r-20)}px`};window.addEventListener("mousemove",a),window.addEventListener("mouseup",function t(){window.localStorage.setItem(n,String(e.current.clientWidth)),window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",a)})},[e,r,n]),a]}(u,"limit-scope",300),{asOfDateDimensions:f}=dT(),{serverNameToServerKey:h}=oN(),v=dN(h),y=fw(r.scopeKeys),b=o?fx(o,y):void 0,x=o&&s?oi({cubeName:o.name,serverName:v[s],asOfDateSettingsPerServer:f}):void 0,C=b?Object.keys(b):Object.values(fw(r.scopeKeys)).map(e=>iw(e))||[];return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,g.jsx)(fj,{level:5,children:"Limit Scope"}),!a&&(0,g.jsx)(m.Popover,{placement:"right",arrow:{pointAtCenter:!0},open:n,onOpenChange:t,trigger:"click",content:(0,g.jsxs)("div",{"data-testid":"limit-scope-selection-popover",ref:u,style:{height:400,width:d,display:"flex"},children:[(0,g.jsxs)("div",{style:{width:"calc(100% - 9px)",display:"flex",flexDirection:"column",gap:5},children:[(0,g.jsx)(a5,{cube:o,serverKey:s,excludedHierarchies:x?[{dimensionName:x.asOfDateDimensionName,hierarchyName:x.asOfDateHierarchyName}]:void 0,isDisabled:({dimensionName:e,hierarchyName:t,levelName:n})=>r.scopeKeys.includes(`${n}@${t}@${e}`),onLevelClicked:({dimension:e,hierarchy:t,level:n})=>{let a=(function(e,t){return Object.values(e.levels).slice(e.slicing?0:1,Object.values(e.levels).findIndex(e=>e.name===t.name)+1)})(t,n).map(r=>`${r.name}@${t.name}@${e.name}`);i({...r,scopeKeys:[...r.scopeKeys,...a]})}}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:(0,g.jsx)(m.Button,{onClick:()=>t(!1),children:"Close"})})]}),(0,g.jsx)("div",{style:{backgroundColor:l.grayScale[6],opacity:.4,width:4,height:32,cursor:"ew-resize",marginLeft:5,alignSelf:"center"},onMouseDown:c})]}),children:(0,g.jsxs)(m.Button,{loading:!s||!o,onClick:()=>t(!0),style:{marginBottom:"0.5em"},icon:(0,g.jsx)(dG,{}),children:[0===r.scopeKeys.length?(0,g.jsx)("span",{style:{color:l.isDark?"#dc4446":"#ff4d4f",paddingRight:"4px"},children:"*"}):void 0,(0,g.jsx)("span",{children:"Add"})]})})]}),(0,g.jsx)(fS,{handleScopeRemoved:e=>{let t=Object.keys(b)[e];if(!t)throw Error(`The scope to remove at position ${e} was not found.`);let n=b[t],a=fb(r.scopeKeys,n||[]);i({...r,scopeKeys:a})},scopeKeys:C,...e})]})};function f_({workflowType:e,workflowName:t,workflowLabel:r,onChange:n,disableFields:i,workflowParameters:a}){let{workflowConfiguration:o}=dT();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Form.Item,{label:r,required:!t,htmlFor:`${r}Select`,children:(0,g.jsx)(m.Select,{id:`${r}Select`,value:t,onChange:e=>n(e),disabled:i,options:Object.keys(o[e]).map(e=>({label:e,value:e})),showSearch:!0})},r),t&&o[e][t].participants.map(e=>(0,g.jsx)(m.Form.Item,{label:e,required:!a?.[e],htmlFor:`${r}-${e}Select`,children:(0,g.jsx)(m.Select,{id:`${r}-${e}Select`,value:a?.[e],onChange:r=>n(t,{...a,[e]:r}),disabled:i,options:o.roles.map(e=>({value:e,label:e})),showSearch:!0})},`${r}-${e}`))]})}let{Title:fk}=m.Typography,fE="lSDVSaveOrUpdateTestId";function fO({limitStructure:e}){let t=(0,p.useTheme)(),r=(0,B.useNavigate)(),n=(0,w.useRef)(null),{structureId:i}=(0,B.useParams)(),[a]=(0,B.useSearchParams)(),{structureTemplates:o}=dT(),s=a.get("structureTemplate"),l=s?o[s]:void 0,u=a.get("copiedLimitStructure"),c=u??i,d=null!==u,f=(0,p.useDataModels)(),{availableApplicationServers:h,serverNameToServerKey:v}=oN(),y=dN(v),{workflowConfiguration:{exceptionWorkflows:b,limitWorkflows:x}}=dT(),C=void 0!==e&&!d,S=void 0===c,j=fp("Edit",e?.formActions),A=fp("Delete",e?.formActions),[_,E,O]=nZ({storageKey:S?"limit-structure-form":void 0,initialState:e??{absoluteValueIndicator:!1,scopeKeys:[],...l},doClearOnInitialization:null!==s}),[R,T]=(0,w.useState)(e&&e.warningThreshold>0),I=void 0!==_.serverName?v[_.serverName]:void 0,[M,F]=(0,w.useState)(!1),D=window.history.state?.usr&&window.history.state.usr[fu],P=(0,w.useCallback)(e=>{E({..._,measureName:e})},[_,E]),L=(0,w.useCallback)((e,t)=>{let r=e?y[e]:void 0,n=_.scopeKeys;(r!==_.serverName||t!==_.cubeName)&&(n=[]),E({..._,measureName:void 0,serverName:r,cubeName:t,scopeKeys:n})},[_,E,y]),{mutate:N,isPending:z}=function(){let{limitsRESTEndpoint:e,limitsServerName:t}=oN(),r=ig(t),n=k(),{message:i}=m.App.useApp();return ib({mutationFn:async t=>{let n=await r(`${e}/limitDefinition/structure/save`,{body:t});return tz.string().parse(n)},onSuccess:async e=>{await Promise.all([n.invalidateQueries({queryKey:[dz]}),n.invalidateQueries({queryKey:[dV,e]})]),i.success("Limit structure successfully saved.")},meta:{errorMessage:"Error saving limit structure"}})}(),{mutate:V,isPending:$}=function(){let{limitsServerName:e,limitsRESTEndpoint:t}=oN(),r=(0,B.useNavigate)(),n=im(e),i=k(),{message:a}=m.App.useApp();return ib({mutationFn:async e=>n(`${t}/limitDefinition/structure/delete/${e}`),onSuccess:()=>{i.invalidateQueries({queryKey:[dz]}),a.success("Limit structure successfully deleted."),r("/limits")},meta:{errorMessage:"Error deleting limit structure: %s"}})}(),U=I&&_.cubeName&&void 0!==f[I]?(0,p.getTargetCube)({cubeName:_.cubeName,serverKey:I,dataModels:f}).cube:void 0,q=!!(_.exceptionWorkflow&&_.limitChangesWorkflow&&b[_.exceptionWorkflow].participants.every(e=>_.exceptionWorkflowParameters?.[e]!==void 0)&&x[_.limitChangesWorkflow].participants.every(e=>_.limitChangesWorkflowParameters?.[e]!==void 0))&&void 0!==_.name&&void 0!==_.pollingFrequency&&void 0!==_.serverName&&void 0!==_.cubeName&&void 0!==_.measureName&&_.scopeKeys.length>0&&void 0!==_.kpiType&&(!R||void 0!==_.warningThreshold),H=()=>{q&&N({...dL(Object.fromEntries(Object.entries(_).map(([e,t])=>[e,"string"==typeof t?t.trim():t])),"formActions"),limits:[],...d&&{structureId:void 0}},{onSuccess:e=>{(void 0===c||d)&&r(`/limits/structure/${e}`),S&&O()}})};return(0,w.useEffect)(()=>{D&&U&&n.current&&n.current.scrollIntoView()},[U,D]),(0,g.jsxs)(m.Form,{size:"small",labelCol:{span:7},wrapperCol:{span:17},children:[(0,g.jsx)(m.Form.Item,{label:"Name",required:!_.name,htmlFor:"nameInput",children:(0,g.jsx)(m.Input,{id:"nameInput",type:"text",autoFocus:!C,value:_.name,onChange:e=>E({..._,name:e.target.value}),disabled:C})}),(0,g.jsx)(m.Form.Item,{label:"Group",htmlFor:"groupInput",children:(0,g.jsx)(m.Input,{id:"groupInput",type:"text",value:_.group,onChange:e=>E({..._,group:e.target.value}),disabled:C})}),(0,g.jsx)(m.Form.Item,{label:"Comment",htmlFor:"commentInput",children:(0,g.jsx)(m.Input,{id:"commentInput",type:"text",value:_.comment,onChange:e=>E({..._,comment:e.target.value}),disabled:C})}),(0,g.jsx)(m.Form.Item,{label:"Polling Frequency",required:!_.pollingFrequency,htmlFor:"pollingFrequencySelect",children:(0,g.jsx)(m.Select,{id:"pollingFrequencySelect",value:_.pollingFrequency,onChange:e=>{E({..._,pollingFrequency:e})},disabled:C,showSearch:!0,filterOption:(e,t)=>t.label.toLowerCase().includes(e.toLowerCase()),options:[{value:"EOD",label:"End of day"},{value:"INTRADAY",label:"Intraday"}]})}),(0,g.jsx)(fk,{level:5,children:"Risk Measure"}),(0,g.jsx)(or,{availableApplicationServers:h,servers:y,selectedServerKey:_.serverName?v[_.serverName]:void 0,selectedCubeName:_.cubeName,onChange:L,disableFields:C}),(0,g.jsx)(m.Form.Item,{label:"Measure",required:!_.measureName,htmlFor:"measureSelect",style:{marginBottom:"0px"},children:(0,g.jsx)(m.Select,{id:"measureSelect",disabled:C||!_.cubeName,value:_.measureName,onChange:P,loading:!C&&!_.cubeName,showSearch:!0,options:U?Object.values(U.measures).filter(({visible:e})=>e).sort((e,t)=>e.caption.localeCompare(t.caption)).map(e=>({label:e.caption,value:e.name})):[],filterOption:(e,t)=>t.label.toLowerCase().includes(e.toLowerCase())})}),(0,g.jsx)(fA,{setIsTreeOpen:F,isTreeOpen:M,limitStructureFormState:_,setLimitStructureFormState:E,isViewMode:C,serverKey:I,cube:U}),(0,g.jsx)(fk,{level:5,children:"Breach"}),(0,g.jsx)(m.Form.Item,{label:"Breach when",required:!_.kpiType,htmlFor:"ruleSelect",children:(0,g.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,g.jsx)(m.Select,{id:"ruleSelect",value:_.kpiType,onChange:e=>{E({..._,kpiType:e})},disabled:C,style:{width:120,marginRight:5},options:du.map(e=>({label:e,value:e})),showSearch:!0}),(0,g.jsxs)(m.Radio.Group,{onChange:e=>E({..._,absoluteValueIndicator:e.target.value}),value:_.absoluteValueIndicator,disabled:C||!_.kpiType,children:[(0,g.jsx)(m.Radio,{value:!1,children:"Value"}),(0,g.jsx)(m.Radio,{value:!0,children:"Absolute Value"})]})]})}),(0,g.jsx)(m.Form.Item,{label:"Warning",htmlFor:"warningThresholdCheckbox",children:(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(m.Checkbox,{id:"warningThresholdCheckbox",checked:R,disabled:C,onChange:e=>{T(e.target.checked),e.target.checked||E({..._,warningThreshold:void 0})},children:"Warn when within"}),(0,g.jsx)(m.InputNumber,{"data-testid":"warningInputPercentage",style:{width:50,marginRight:5},disabled:C||!R,min:0,max:100,formatter:e=>`${e}%`,parser:e=>Number(e?.replace("%","")),value:_.warningThreshold,onChange:e=>E({..._,warningThreshold:Number(e)})})," ","of limit value"]})}),(0,g.jsx)(fk,{level:5,children:"Review Process"}),(0,g.jsx)(f_,{workflowLabel:"Limit Changes",disableFields:C,workflowType:"limitWorkflows",workflowName:_.limitChangesWorkflow,workflowParameters:_.limitChangesWorkflowParameters,onChange:(e,t)=>E({..._,limitChangesWorkflow:e,limitChangesWorkflowParameters:t})}),(0,g.jsx)(f_,{workflowLabel:"Incidents",disableFields:C,workflowType:"exceptionWorkflows",workflowName:_.exceptionWorkflow,workflowParameters:_.exceptionWorkflowParameters,onChange:(e,t)=>{E({..._,exceptionWorkflow:e,exceptionWorkflowParameters:t})}}),(0,g.jsx)(fk,{level:5,children:"Linked Dashboard"}),(0,g.jsx)(m.Form.Item,{label:"Name",required:!1,children:(0,g.jsx)("div",{ref:n,children:(0,g.jsx)(fy,{isDisabled:C&&!j,tooltipDefaultOpen:D,dashboardId:_.utilizationDashboardID,onDashboardPicked:e=>{E({..._,utilizationDashboardID:e})}})})}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"end",position:"sticky",bottom:0,backgroundColor:t.alternateBackgroundColor,zIndex:2,paddingTop:12,paddingBottom:12},children:C?(0,g.jsxs)(m.Space,{children:[(0,g.jsx)(m.Tooltip,{title:"You are not authorized to edit this limit structure.",trigger:j?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{"data-testid":fE,loading:z,onClick:H,size:"middle",icon:(0,g.jsx)(fm,{}),disabled:e?.utilizationDashboardID===_.utilizationDashboardID||!j,children:"Save"})}),(0,g.jsx)(m.Popconfirm,{title:"Deleting the limit structure will also delete all of the associated limits.",placement:"rightTop",okText:"Delete",cancelText:"Cancel",disabled:!A,onConfirm:()=>V(c),children:(0,g.jsx)(m.Tooltip,{title:"You are not authorized to delete this limit structure.",trigger:A?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{danger:!0,loading:$,size:"middle",disabled:!A,icon:(0,g.jsx)(dY,{}),children:"Delete"})})})]}):(0,g.jsxs)(m.Space,{children:[(0,g.jsx)(m.Tooltip,{title:"Some required fields are missing",trigger:q?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{type:"primary","data-testid":fE,disabled:!q||z,loading:z,onClick:H,icon:(0,g.jsx)(fm,{}),size:"middle",children:"Save"})}),(0,g.jsx)(m.Button,{htmlType:"reset",size:"middle",disabled:C||z||$,onClick:()=>E(e??{absoluteValueIndicator:!1,scopeKeys:[]}),children:"Reset"}),(0,g.jsx)(B.Link,{to:"/limits",children:(0,g.jsx)(m.Button,{disabled:z||$,loading:$,size:"middle",children:"Cancel"})})]})})]})}function fR(){let e=(0,p.useTheme)();return(0,g.jsxs)("div",{style:{display:"flex column 10px"},children:[(0,g.jsx)(m.Skeleton,{active:!0,paragraph:{rows:5}}),(0,g.jsx)(m.Skeleton,{active:!0,paragraph:{rows:2}}),(0,g.jsx)(m.Skeleton,{active:!0,paragraph:{rows:4}}),(0,g.jsx)(m.Skeleton,{active:!0,paragraph:{rows:2}}),(0,g.jsx)(m.Skeleton,{active:!0,paragraph:{rows:2}}),(0,g.jsx)(m.Skeleton,{active:!0,paragraph:{rows:1}}),(0,g.jsxs)("div",{style:{display:"flex",gap:5,justifyContent:"flex-end"},children:[(0,g.jsx)(m.Skeleton.Button,{shape:"square",active:!0,style:{backgroundColor:e.primaryColor},size:"small"}),(0,g.jsx)(m.Skeleton.Button,{shape:"square",active:!0,size:"small"})]})]})}let fT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"};var fI=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fT}))});let fM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M904 768H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-25.3-608H145.3c-18.4 0-33.3 14.3-33.3 32v464c0 17.7 14.9 32 33.3 32h733.3c18.4 0 33.3-14.3 33.3-32V192c.1-17.7-14.8-32-33.2-32zM360 616H184V456h176v160zm0-224H184V232h176v160zm240 224H424V456h176v160zm0-224H424V232h176v160zm240 224H664V456h176v160zm0-224H664V232h176v160z"}}]},name:"insert-row-below",theme:"outlined"};var fF=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fM}))}),fD=r(8879);function fP(e){return"draftLimit"in e&&null!==e.draftLimit&&void 0!==e.draftLimit&&(e.endDate=e.draftLimit.endDate||void 0,e.limitValues=e.draftLimit.limitValues,e.limitStatus=e.draftLimitStatus),e}var fL=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:aN}))});let fN={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var fz=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fN}))});let fV={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var f$=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fV}))});function fB({scope:e,scopeKeys:t,onAdvancedScopeChanged:r,cube:n,serverKey:i,onSimpleScopeChanged:a,lastLevelToScopeKeys:o}){let s=(0,p.useTheme)(),{maxScopeMembersQueryResult:l,restrictedScopes:u}=oN(),[c,d]=(0,w.useState)(!!e&&("EQUALS"!==e.scopeType||e.values.length>1)),f=t[t.length-1],h=e?.values&&e.values.length>0&&Object.values(e?.values[0]).every(e=>"AllMember"===e)||!1,y=e?.values&&e.values.length>0&&"*"===e.values[0][f]||!1;function b(e){a({values:e?[e]:[],scopeType:"EQUALS"})}function x(t){let n=[],i=e?.values.findIndex(e=>io(e,t));n=e?.values&&void 0!==i&&-1!==i?e.values.filter((e,t)=>t!==i):y||h?[t]:[...e?.values||[],t];let a=e?.scopeType||"EQUALS";n.length<=1&&"TOTAL EQUALS"===a&&(a="EQUALS"),r({values:n,scopeType:a})}return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:5,height:"100%"},children:[(0,g.jsxs)(m.Space,{style:{display:"flex",flexDirection:"row-reverse"},children:["Advanced",(0,g.jsx)(m.Switch,{"data-testid":"advanced-scope-switch",style:{paddingLeft:"8px"},size:"small",checked:c,onChange:e=>d(e)})]}),c?(0,g.jsxs)(m.Radio.Group,{size:"small",value:e?.scopeType||"EQUALS",style:{display:"flex",flexDirection:"column"},onChange:t=>{let n=e?.values;(y&&"EQUALS"!==t.target.value||h&&"TOTAL EQUALS"!==t.target.value||!n)&&(n=[]),r({values:n,scopeType:t.target.value})},children:[(0,g.jsx)(m.Radio,{value:"EQUALS",style:{fontSize:12},children:"(For each) selected"}),(0,g.jsx)(m.Radio,{value:"NOT EQUALS",style:{fontSize:12},children:"(For each) excluding selected"}),(0,g.jsx)(m.Tooltip,{mouseEnterDelay:.75,title:"At least 2 scope values must be selected.",trigger:!e||e&&e.values.length<2?["hover"]:[],children:(0,g.jsx)(m.Radio,{style:{fontSize:12},value:"TOTAL EQUALS",disabled:!e||e&&e.values.length<2,children:"(Total) of selected"})}),(0,g.jsx)(m.Radio,{style:{fontSize:12},value:"TOTAL EXCEPT",children:"(Total) excluding selected"})]},"advanced"):(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,g.jsx)(m.Button,{type:"link",css:(0,v.css)`
              span {
                font-size: 12px;
                color: ${s.textColor};
                :hover {
                  text-decoration: underline;
                  background: ${s.alternateBackgroundColor};
                }
              }
            `,onClick:()=>{!function(){let e={};e[f]="*",b(e)}()},children:"(For each)"}),(0,g.jsx)(m.Button,{css:(0,v.css)`
              span {
                font-size: 12px;
                color: ${s.textColor};
                :hover {
                  text-decoration: underline;
                  background: ${s.alternateBackgroundColor};
                }
              }
            `,type:"link",onClick:()=>{!function(){let e={};t.forEach(t=>{e[t]="AllMember"}),b(e)}()},children:"(Total)"})]},"simple"),(0,g.jsx)("div",{style:{borderWidth:"1px",borderStyle:"solid",borderColor:s.cellBorderColor,borderRadius:"2px",padding:"3px 7px",resize:"vertical",overflow:"auto"},children:e?.values&&e.values.length>0?(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)("span",{style:{height:"22px"},children:e.values.map(e=>{let t=iw(Object.values(e));return(0,g.jsx)(m.Tag,{"data-testid":`tag-${t}`,closable:!0,style:{marginBottom:"2px",marginRight:"2px"},onClose:()=>{y||h?b():x(e)},children:cW(t)},`tag_${Object.values(e).join(",")}`)})}),!h&&!y&&(0,g.jsx)(f$,{style:{color:s.grayScale[5],marginLeft:"2px"},onClick:()=>{r({values:[],scopeType:"EQUALS"})}})]}):(0,g.jsx)("span",{style:{color:s.disabledTextColor,fontSize:"12px"},children:"No values selected."})}),(0,g.jsx)(aK,{scope:e?.values,scopeKeys:t,cube:n,serverKey:i,multiSelect:c,onChange:e=>{c?x(e):b(e)},lastLevelToScopeKeys:o,maxScopeMembersQueryResult:l,restrictedScopes:u})]})}function fU({scope:e,scopeKeys:t,style:r,isDisabled:n,cube:i,serverKey:a,onScopeChanged:o,isLoadingMembers:s,lastLevelToScopeKeys:l,...u}){let c=(0,p.useTheme)(),[d,f]=(0,w.useState)(!1),h=s||void 0===i,[v,y]=(0,w.useState)();function b(){y(e),f(!0)}function x(e){f(!1),e&&!sA(e.values)&&o(e),y(void 0)}return(0,g.jsx)(m.Popover,{...u,trigger:["click"],open:d,onOpenChange:e=>{!e||n||h?e||x(v):b()},destroyTooltipOnHide:!0,content:()=>(0,g.jsx)("div",{onKeyDown:e=>{"Escape"===e.key&&x(v)},style:{width:320},children:(0,g.jsx)(fB,{scope:v,scopeKeys:t,cube:i,serverKey:a,onSimpleScopeChanged:e=>x(e),onAdvancedScopeChanged:y,lastLevelToScopeKeys:l})}),children:(0,g.jsx)(m.Button,{css:{".ant-popover-disabled-compatible-wrapper":{width:"100%"},".ant-input":{height:"unset"}},disabled:n||h,onClick:()=>!n&&!h&&b(),style:{background:"none",border:"none",boxShadow:"none",padding:"0px",width:"100%",borderRadius:"2px"},"data-testid":`${t.toString()}`,children:(0,g.jsx)(m.Input,{tabIndex:-1,addonAfter:h?(0,g.jsx)(fL,{}):(0,g.jsx)(fz,{disabled:n||h,style:{color:c.textColor}}),value:e?cX(e):"",placeholder:"",readOnly:!0,disabled:n||h,style:r,inputMode:"none",css:{cursor:n||h?"disabled":"pointer",input:{cursor:"pointer"},"input.ant-input:hover":{border:"1px solid rgb(233,233,233)"},".ant-input-group-addon":{backgroundColor:c.alternateBackgroundColor}}})})})}function fq({rowScope:e,columnScopeKeys:t,cellScope:r}){return t.length>1?(0,g.jsx)(m.Tooltip,{mouseEnterDelay:.75,title:t.map(t=>{let r=e[t]&&cY(e[t]),n=1===(Object.values(e[t]?.values||{})||[]).length;return(0,g.jsxs)("div",{children:[void 0!==r&&""!==r&&`${r}:`,(0,g.jsx)("ul",{style:{margin:0,...n?{listStyle:"none",padding:0}:{paddingLeft:16}},children:e[t]?.values?.map(e=>{let t=Object.values(e).map(e=>cW(e)).join(" / ");return g.jsx("li",{children:t},t)})})]},`editable-cell-tooltip-${t}`)}),children:cX(r)}):(0,g.jsx)("span",{children:cX(r)})}let fH="getCurrentAsOfDate";function fK(){let e=k(),{limitsRESTEndpoint:t}=oN(),r=e.getQueryData([fH,t]);if(!r||!sk(r))throw Error(`Invalid cached as-of date: ${r}. Expected a string.`);return r}function fZ({id:e,isDisabled:t,row:r,value:n,onDateChanged:i,style:a,...o}){let s=fK();return(0,g.jsx)(m.DatePicker,{style:{width:"100%",padding:"4px 7px",...a},...o,"data-testid":e,disabledDate:"startDate"===e?e=>!!("TEMPORARY"===r.limit.limitType&&s&&e<cd(s,"YYYY-MM-DD"))||!!r.limit.endDate&&e>cd(r.limit.endDate,"YYYY-MM-DD"):e=>!!("TEMPORARY"===r.limit.limitType&&s&&e<cd(s,"YYYY-MM-DD"))||!!r.limit.startDate&&e<cd(r.limit.startDate,"YYYY-MM-DD"),format:"YYYY-MM-DD",value:n?cd(n,"YYYY-MM-DD"):null,placeholder:"",disabled:t,onChange:e=>i(e?cd(e).format("YYYY-MM-DD"):void 0)})}function fQ({errorMessage:e,children:t}){let r=t(void 0!==e?{border:"1px solid rgb(255, 120, 117)"}:void 0);return(0,g.jsx)(nV,{fallbackComponent:r,children:(0,g.jsx)(m.Tooltip,{trigger:void 0!==e?["hover"]:[],title:e,mouseEnterDelay:.75,children:r})})}function fG(e){return"(For each)"===e?"*":"(Total)"===e?"AllMember":e}function fW(e){let t=`unsaved-${e.current}`;return e.current+=1,t}let fY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var fX=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:fY}))});function fJ({row:e,nextTempRowId:t,onRowCopied:r}){let n=fp("Copy",e.limit.formActions),i=(0,g.jsx)(m.Button,{disabled:e.isUnsaved||!n,"data-testid":"Copy",type:"link",onClick:()=>{r({key:fW(t),isUnsaved:!0,reasonForBeingUnsaved:"copied",limit:{...aP(e.limit),limitId:void 0,limitStatus:void 0},insertAfter:e.key})},icon:(0,g.jsx)(fX,{})});return(0,g.jsx)(nV,{fallbackComponent:i,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:e.isUnsaved?"Save limit to enable this action":n?"Copy limit":"You are not authorized to copy this limit.",mouseEnterDelay:.75,children:i})})}let f0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M742 318V184h86c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h86v134c0 81.5 42.4 153.2 106.4 194-64 40.8-106.4 112.5-106.4 194v134h-86c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h632c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-86V706c0-81.5-42.4-153.2-106.4-194 64-40.8 106.4-112.5 106.4-194zm-72 388v134H354V706c0-42.2 16.4-81.9 46.3-111.7C430.1 564.4 469.8 548 512 548s81.9 16.4 111.7 46.3C653.6 624.1 670 663.8 670 706zm0-388c0 42.2-16.4 81.9-46.3 111.7C593.9 459.6 554.2 476 512 476s-81.9-16.4-111.7-46.3A156.63 156.63 0 01354 318V184h316v134z"}}]},name:"hourglass",theme:"outlined"};var f1=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:f0}))});function f2({row:e,onTemporaryRowCreated:t,nextTempRowId:r}){let n=fK(),i=fp("Temporary",e.limit.formActions),a=(0,g.jsx)(m.Button,{type:"link","data-testid":"Temporary",onClick:()=>{t({key:fW(r),isUnsaved:!0,reasonForBeingUnsaved:"newTemporary",limit:{...aP(e.limit),limitId:void 0,limitStatus:void 0,limitType:"TEMPORARY",startDate:n,endDate:void 0,sourceLimitId:e.limit.limitId},insertAfter:e.key})},disabled:e.isUnsaved||!i,icon:(0,g.jsx)(f1,{})});return(0,g.jsx)(nV,{fallbackComponent:a,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:e.isUnsaved?"Save limit to enable this action":i?"Create temporary limit":"You are not authorized to create this temporary limit.",mouseEnterDelay:.75,children:a})})}function f4({row:e,onLimitDeleted:t}){let r=fp("Delete",e.limit.formActions),n=(0,g.jsx)(m.Button,{type:"link",icon:(0,g.jsx)(l9,{}),disabled:!e.isUnsaved&&!r,onClick:e.isUnsaved?()=>t(e):void 0});return(0,g.jsx)(nV,{fallbackComponent:n,children:(0,g.jsx)(m.Popconfirm,{title:"Delete this limit",description:"Are you sure you want to proceed?",okText:"Yes",cancelText:"No",onConfirm:()=>t(e),placement:"bottom",disabled:e.isUnsaved||!r,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:r?"Delete limit":"You are not authorized to delete this limit.",mouseEnterDelay:.75,children:n})})})}function f6({row:e,onRowEditStarted:t}){let r=fp("Edit",e.limit.formActions),n=(0,g.jsx)(m.Button,{type:"link","data-testid":"Edit",disabled:e.isUnsaved||!r,onClick:()=>{t({...e,isUnsaved:!0,reasonForBeingUnsaved:"modified"})},icon:(0,g.jsx)(dH,{})});return(0,g.jsx)(nV,{fallbackComponent:n,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:e.isUnsaved?"Save limit to enable this action":r?"Edit limit":"You are not authorized to edit this limit.",mouseEnterDelay:.75,children:n})})}function f3({row:e,onLimitAuditOpened:t}){let r=(0,g.jsx)(m.Button,{disabled:e.isUnsaved,"data-testid":"Audit",type:"link",icon:(0,g.jsx)(cA,{}),onClick:()=>t(e.limit.limitId)});return(0,g.jsx)(nV,{fallbackComponent:r,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:e.isUnsaved?"Save limit to enable this action":"History",mouseEnterDelay:.75,children:r})})}function f8({limits:e,limitScopeKeys:t,structureId:r,serverKey:n,cube:i,limitStructureActions:a,isLimitStructureFetching:o,isErrorLoadingWorkflowStatus:s}){let l=(0,p.useTheme)(),{message:u}=m.App.useApp(),{maxScopeMembersQueryResult:c,restrictedScopes:d}=oN(),f=fK(),h=fp("Add",a),y=cL(e),[b,x]=(0,w.useState)(0),[C,S]=nK({initialState:20,storageKey:"limits-viewer-page-size"}),j=(0,w.useRef)(null),[A,_]=(0,w.useState)({}),E=Object.keys(A),O=E.length,[R,T]=nZ({initialState:{nextTempRowId:1,unsavedRows:{}},storageKey:`limit-${r}-unsaved-rows`}),[I,M]=(0,w.useState)(null),F=(0,w.useRef)(R.nextTempRowId),{unsavedRows:D}=R,P=Object.values(D),[L,N]=(0,w.useState)(),{isPending:z,variables:V,mutate:$}=function(){let e=k(),{limitsServerName:t,limitsRESTEndpoint:r}=oN(),n=im(t);return ib({mutationFn:async e=>n(`${r}/limitDefinition/limits/delete`,{body:e,headers:{"Content-Type":"application/json"}}),meta:{errorMessage:"Error deleting the selected limit(s)"},onSuccess:()=>Promise.all([e.invalidateQueries({queryKey:[dz]}),e.invalidateQueries({queryKey:[dV]}),e.invalidateQueries({queryKey:[d$]})])})}(),{mutate:B,isPending:U}=function(){let e=k(),{limitsRESTEndpoint:t,limitsServerName:r}=oN(),n=ig(r),{message:i}=m.App.useApp();return ib({mutationFn:e=>n(`${t}/limitDefinition/limits/save`,{body:e}),onSuccess:()=>(i.success("Limit values successfully saved."),Promise.all([e.invalidateQueries({queryKey:[dV]}),e.invalidateQueries({queryKey:[dz]}),e.invalidateQueries({queryKey:[d$]})])),meta:{errorMessage:"Error saving limit values"}})}(),q=dB("LIMIT"),H=(0,w.useMemo)(()=>i&&fx(i,fw(t)),[i,t]),{isLoading:K,error:Z}=function({cube:e,serverKey:t,lastLevelToScopeKeys:r,maxScopeMembersQueryResult:n,restrictedScopes:i}){let a=[ij,t,e?.name,Object.keys(r??{})],o=iv({serverKey:t});return ii({queryKey:a,enabled:void 0!==e&&void 0!==r,queryFn:async()=>{if(e&&r)return iC({cellSet:await o(iS(r,e,i[e.name]??[],n),{}),lastLevelKeys:Object.keys(r??{})})},meta:{errorMessage:"An error occurred while fetching the possible values for this limit's scope. Try refreshing this screen"}})}({cube:i,serverKey:n,lastLevelToScopeKeys:H,maxScopeMembersQueryResult:c,restrictedScopes:d});(0,w.useEffect)(()=>{if(null!==I&&j.current){let{isVisible:e,scrollIndex:t,pageIndex:r}=j.current.getRowLocation(I);e||(u.destroy(),u.success((0,g.jsxs)(g.Fragment,{children:["New limit row added"," ",(0,g.jsx)(m.Button,{style:{padding:0},type:"link",onClick:()=>{x(r),j.current?.scrollToIndex(t)},children:"here"})]}))),M(null)}},[I,C,b,u]);let{limitRowsWithoutValidation:Q,unsavedRowsWithValidationMessages:G}=function(e,t,r,n){let i=[],a={},o={},s=[];Object.values(t).forEach(e=>{void 0!==e.insertAfter?a[e.insertAfter]?a[e.insertAfter]=[e,...a[e.insertAfter]]:a[e.insertAfter]=[e]:"modified"!==e.reasonForBeingUnsaved&&s.push(e)}),e.forEach(e=>{let t=fP(e);t.sourceLimitId&&(o[t.sourceLimitId]?o[t.sourceLimitId]=[t,...o[t.sourceLimitId]]:o[t.sourceLimitId]=[t])}),e.forEach(e=>{let r=fP(e);if(!n?.includes(r.limitId)){let e={limit:r,key:`${r.limitId}`,isUnsaved:!1};void 0!==t[e.key]?i.push(t[e.key]):r.sourceLimitId||i.push(e),(o[r.limitId]||[]).forEach(e=>{let t={limit:e,key:`${e.limitId}`,isUnsaved:!1};i.push(t)}),(a[e.key]||[]).forEach(e=>{i.push(e)})}});let l=[...s,...i],u=function({unsavedRows:e,allRows:t,limitScopeKeys:r}){let n={};return e.forEach(e=>{var i,a;let o;let s={};if(void 0!==(i=e.limit.limitValues?.[0])&&dt(i)||(s.value="Missing value"),sA(e.limit.startDate)&&(s.startDate="Missing start date"),a=e.limit.endDate,"TEMPORARY"===e.limit.limitType&&void 0===a&&(s.endDate="Missing end date for a temporary limit"),r.forEach(t=>{var r;void 0!==(r=e.limit.scope?.[t])&&r.values?.length>0||(s[`scope-${t}`]=`Missing ${t.split("@")[0]}`)}),sA(s)){if(t.some(t=>io(t.limit.scope,e.limit.scope)&&t.limit.limitType===e.limit.limitType&&t.key!==e.key&&t.limit.startDate&&e.limit.startDate&&function(e,t,r,n){let i=Date.parse(e),a=t?Date.parse(t):Number.MAX_VALUE,o=Date.parse(r);return i<=(n?Date.parse(n):Number.MAX_VALUE)&&a>=o}(e.limit.startDate,e.limit.endDate,t.limit.startDate,t.limit.endDate)))o="A limit already exists for this scope, type and date range.";else{let e;e=0,(t.some(t=>!!t.limit.scope&&Object.values(t.limit.scope).some(t=>(["TOTAL EXCEPT","TOTAL EQUALS"].includes(t.scopeType)&&e++,2===e)))||e>0&&!(t.length<2))&&(o="You may only have one limit with a scope of 'Total of/excluding selected' per structure. Please see the docs on Advanced Scopes for more information.")}}else o="Invalid fields are highlighted";void 0!==o&&(n[e.key]={rowValidationMessage:o,validationStatusByColumn:s})}),n}({unsavedRows:Object.values(t),limitScopeKeys:r,allRows:l});return{limitRowsWithoutValidation:l,unsavedRowsWithValidationMessages:(0,fD.A)({},t,u)}}(e,D,Object.keys(H||{}),z?V:void 0),W=Q.map(e=>G[e.key]??e),Y=E.map(e=>W.find(t=>t.key===e)),X=fp("Delete",iW(Y.map(e=>e.limit.formActions??[]))),J=Object.values(G),ee=J.every(function(e){return void 0===e.rowValidationMessage}),et=(0,w.useCallback)(e=>{e.isUnsaved?T(({unsavedRows:t,nextTempRowId:r})=>({nextTempRowId:r,unsavedRows:dL(t,e.key)})):$([e.key]),_(dL(A,e.key))},[$,A,T]),er=(0,w.useMemo)(()=>{let e;return H?e=H:(e={},Object.values(fw(t)).forEach(t=>{let r=iw(t);e[r]=[r]})),[...function({lastLevelToScopeKeys:e,onUnsavedRowChanged:t,serverKey:r,cube:n,isSavingLimits:i,isLoadingMembers:a,isErrorLoadingWorkflowStatus:o}){return[{id:"type",header:"Type",accessorFn:e=>e.limit.limitType,filterFn:"isOneOf"},...Object.keys(e).map(o=>{let s=e[o],[l,u,c]=o.split("@");return{id:`scope-${o}`,header:n?(0,p.getLevel)({levelName:l,dimensionName:c,hierarchyName:u},n).caption:l,accessorFn:e=>e.limit.scope?.[o],sortingFn:(e,t)=>{let r=cX(e.original.limit.scope?.[o]),n=cX(t.original.limit.scope?.[o]);return void 0===r&&void 0===n?0:void 0===n?1:void 0===r?-1:r.localeCompare(n)},cell:({getValue:o,row:{original:l},column:u})=>{let c=s[s.length-1];if(!l.isUnsaved||"modified"===l.reasonForBeingUnsaved)return(0,g.jsx)(fq,{cellScope:l.limit.scope[c],rowScope:l.limit.scope,columnScopeKeys:s});{let d=o();return(0,g.jsx)(fQ,{errorMessage:l.validationStatusByColumn?.[u.id],children:o=>(0,g.jsx)(fU,{scopeKeys:s,onScopeChanged:e=>{t({...l,limit:{...l.limit,scope:{...l.limit.scope||{},[c]:e}}})},isDisabled:i,serverKey:r,cube:n,scope:d,style:o,isLoadingMembers:a,lastLevelToScopeKeys:e})})}},getUniqueValues:e=>e.isUnsaved?[]:e.limit.scope[o].values.map(e=>cW(e[o])),filterFn:function(e){let t=(t,r,n)=>{let i=t.original;return!!i.isUnsaved||n.some(t=>i.limit.scope[e].values.map(t=>t[e]).includes(t))};return t.resolveFilterValue=e=>e.map(fG),t}(o)}}),{id:"value",header:"Value",accessorFn:e=>e.limit.limitValues?.[0],cell:({getValue:e,row:{original:r},column:n})=>{if(!r.isUnsaved)return(0,g.jsx)("div",{style:{textAlign:"right"},children:Number(e()).toLocaleString("en-US")});{let a=e();return(0,g.jsx)(fQ,{errorMessage:r.validationStatusByColumn?.[n.id],children:e=>(0,g.jsx)(m.InputNumber,{"data-testid":"value",disabled:i,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),css:(0,v.css)`
                    .ant-input-number-handler-wrap {
                      right: auto;
                      left: 0;
                      border-right: 1px solid #d9d9d9;
                    }
                    .ant-input-number-input-wrap {
                      .ant-input-number-input {
                        text-align: right;
                        padding: 4px 7px;
                        height: unset;
                      }
                    }
                  `,style:{width:"100%",...e},defaultValue:a,onBlur:e=>t((0,oe.jM)(r,t=>{let r=function(e){if(!sA(e?.trim()))return Number(e.replace(/,/g,""))}(e.target.value);null==r||isNaN(r)||(t.limit.limitValues=[r])}))})})}},filterFn:"inNumberRange"},{id:"startDate",header:"Start Date",accessorFn:e=>e.limit.startDate,filterFn:"isOneOf",cell:({row:{original:e},getValue:r,column:n})=>e.isUnsaved&&"modified"!==e.reasonForBeingUnsaved?(0,g.jsx)(fQ,{errorMessage:e.validationStatusByColumn?.[n.id],children:n=>(0,g.jsx)(fZ,{id:"startDate",isDisabled:i,row:e,value:r(),onDateChanged:r=>{t((0,oe.jM)(e,e=>{e.limit.startDate=r}))},style:n})}):(0,g.jsx)("span",{children:r()})},{id:"endDate",header:"End Date",accessorFn:e=>e.limit.endDate,filterFn:"isOneOfOrBlank",cell:({row:{original:e},getValue:r,column:n})=>e.isUnsaved?(0,g.jsx)(fQ,{errorMessage:e.validationStatusByColumn?.[n.id],children:n=>(0,g.jsx)(fZ,{id:"endDate",isDisabled:i,row:e,value:r(),onDateChanged:r=>{t((0,oe.jM)(e,e=>{e.limit.endDate=r}))},style:n})}):(0,g.jsx)("span",{children:r()})},{id:"status",header:"Status",accessorFn:e=>e.limit.limitStatus,filterFn:"isOneOf",cell:({row:{original:e},getValue:t})=>{let r=t();return o?"N/A":!e.isUnsaved||r?(0,g.jsx)(m.Skeleton,{css:{"& h3":{margin:0}},paragraph:!1,active:!0,loading:void 0===r,children:r}):void 0}}]}({lastLevelToScopeKeys:e,serverKey:n,cube:i,isSavingLimits:U,isLoadingMembers:K,isErrorLoadingWorkflowStatus:s,onUnsavedRowChanged:e=>{let{validationStatusByColumn:t,rowValidationMessage:r,...n}=e;T(({nextTempRowId:t,unsavedRows:r})=>({nextTempRowId:t,unsavedRows:{...r,[e.key]:n}}))}}),{header:"Actions",id:"actions",size:0,cell:e=>{let t=e.row.original;return(0,g.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[(0,g.jsx)(f2,{row:t,onTemporaryRowCreated:e=>T(({unsavedRows:t})=>({nextTempRowId:F.current,unsavedRows:{...t,[e.key]:e}})),nextTempRowId:F}),(0,g.jsx)(f6,{row:t,onRowEditStarted:e=>{T(({unsavedRows:t,nextTempRowId:r})=>({nextTempRowId:r,unsavedRows:{...t,[e.key]:e}}))}}),(0,g.jsx)(fJ,{row:t,nextTempRowId:F,onRowCopied:e=>{T(({unsavedRows:t})=>({nextTempRowId:F.current,unsavedRows:{...t,[e.key]:e}}))}}),(0,g.jsx)(f3,{row:t,onLimitAuditOpened:N}),(0,g.jsx)(f4,{row:t,onLimitDeleted:et})]})},enableColumnFilter:!1,enableResizing:!1,enableSorting:!1},{accessorKey:"rowValidationMessage",header:void 0,meta:{label:"Validation"},size:30,cell:({getValue:e,row:t})=>{let r=e(),n=(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,g.jsx)(fI,{"data-testid":"invalidRow",style:{color:l.errorColor}})});return t.original.isUnsaved&&r?(0,g.jsx)(nV,{fallbackComponent:n,children:(0,g.jsx)(m.Tooltip,{title:r,mouseEnterDelay:.75,placement:"left",children:n})}):null},enableColumnFilter:!1,enableResizing:!1,enableSorting:!1}]},[t,i,U,H,n,l.errorColor,et,T,K,s]),en=(0,w.useMemo)(()=>er.filter(({id:e})=>void 0!==e&&(["type","value","startDate","endDate"].includes(e)||e.startsWith("scope-"))).map(e=>({...e,enableColumnFilter:!1,enableSorting:!1})),[er]),ei=U||o;return(0,g.jsxs)("div",{id:"LimitViewer","data-testid":K?"limit-viewer-without-members-data":"limit-viewer-with-members-data",style:{padding:8,height:"100%",display:"flex",gap:8,flexDirection:"column",overflow:"hidden"},children:[(0,g.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,g.jsx)(m.Tooltip,{title:"You are not authorized to add a limit.",trigger:h?[]:["hover"],mouseEnterDelay:.75,arrow:{pointAtCenter:!0},children:(0,g.jsx)(m.Button,{icon:(0,g.jsx)(fF,{}),type:"primary",onClick:function(){let e=fW(F),t={key:e,isUnsaved:!0,reasonForBeingUnsaved:"new",limit:{limitValues:[],structureId:r,scope:{},limitType:"OFFICIAL",startDate:f}};T({nextTempRowId:F.current,unsavedRows:{...D,[t.key]:t}}),M(e)},disabled:ei||!h,children:"Add Limit"})})}),Z&&(0,g.jsx)(m.Alert,{type:"error",showIcon:!0,message:"Error fetching members",description:"An error occurred while fetching the possible values for this limit's scope. Try refreshing this screen."}),(0,g.jsx)(uS,{tableBodyRef:j,rowKey:"key",tableId:"limits-viewer",disableColumnHiding:!0,disableColumnReordering:!0,doPersistStateToStorage:!1,isSticky:!0,controlledPageIndex:{pageIndex:b,onChange:x},controlledPageSize:{pageSize:C,onChange:S},style:{maxHeight:"calc(100% - 36px)"},isLoading:ei,rowSelection:{selectedRows:A,onChange:_},data:W,columns:er,cellStyle:e=>e.row.original.isUnsaved?void 0===e.row.original.rowValidationMessage?{backgroundColor:"rgba(149, 222, 100, 0.3)"}:{backgroundColor:"rgba(255, 245, 102, 0.3)"}:{},actionButtons:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(cx,{workflowActionKey:"key",isDisabled:ei,data:Y,rowKey:"key",getWorkflowActions:e=>e.limit.limitStatus?e.limit.workflowActions:[],distinctWorkflowActions:y,onWorkflowActionsPerformed:()=>{_({})},previewColumns:en,workflowActionResult:q}),(0,g.jsx)(m.Tooltip,{trigger:ee?[]:["hover"],title:"Invalid or missing field(s) in one of the new limits.",mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{disabled:0===P.length||!ee||ei,onClick:function(){ee&&B(J.map(e=>e.limit),{onSuccess:()=>{T({nextTempRowId:1,unsavedRows:{}}),_({})}})},loading:U,icon:(0,g.jsx)(fm,{}),"data-testid":"limits-viewer-save-button",children:"Save"})}),(0,g.jsx)(m.Popconfirm,{title:`Delete ${O} limit${O>1?"s":""}`,description:"Are you sure you want to proceed?",okText:"Yes",cancelText:"No",onConfirm:()=>(function(){let e=[];Y.forEach(t=>{t.isUnsaved&&"modified"!==t.reasonForBeingUnsaved||e.push(t.limit.limitId)}),e.length>0&&$(e),_({}),T({nextTempRowId:F.current,unsavedRows:dL(D,E)})})(),disabled:0===O||ei||!X,children:(0,g.jsx)(m.Tooltip,{title:X?"Select a row":"You are not authorized to delete selected limits.",trigger:0!==O&&X?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{danger:!0,disabled:0===O||ei||!X,icon:(0,g.jsx)(dY,{}),children:"Delete"})})}),(0,g.jsx)(m.Button,{disabled:0===P.length||ei,onClick:function(){_(dL(A,Object.keys(D))),T({nextTempRowId:1,unsavedRows:{}})},children:"Cancel"})]})}),(0,g.jsx)(m.Drawer,{destroyOnClose:!0,title:"History",placement:"right",onClose:()=>N(void 0),width:450,open:void 0!==L,children:L&&(0,g.jsx)(d8,{auditType:"CREATION",auditKey:L})})]})}function f5(){let{structureId:e}=(0,B.useParams)(),t=(0,p.useTheme)(),[r]=(0,B.useSearchParams)(),n=(0,p.useDataModels)(),i=fp("Create Limit Structure"),a=r.get("copiedLimitStructure"),o=a??e,s=null!==a;if(void 0===e&&!i)throw new M("You are not authorized to create a limit structure.");let{data:l,isPending:u,isFetching:c}=function(e){let{limitsRESTEndpoint:t,limitsServerName:r}=oN(),n=ip(r);return ii({queryKey:[dV,e],enabled:void 0!==e,queryFn:async()=>e?await n(`${t}/limitDefinition/structure/get/${e}`):void 0,throwOnError:!0,placeholderData:t4,retry:!1})}(o),{data:d,isError:f}=function(e){let{limitsRESTEndpoint:t,limitsServerName:r}=oN(),{workflowConfiguration:{workflowStatusFetchedWithLimit:n}}=dT(),i=ip(r);return ii({queryKey:[d$,t,e],enabled:void 0!==e&&!n,queryFn:async()=>{let r=await i(`${t}/limitDefinition/limits/status/get/${e}`);return ds.parse(r)},placeholderData:t4,meta:{errorMessage:"Error fetching the limits' workflow statuses"},retry:!1})}(o),h=function({limitStructure:e,limitWorkflowStatuses:t}){return e?t?(0,oe.jM)(e,e=>{e.limits.forEach(e=>{e.limitStatus=t[e.limitId]})}):e:void 0}({limitStructure:l,limitWorkflowStatuses:d}),{serverNameToServerKey:v}=oN(),y=o?h:void 0;h&&s&&(y={...h,name:function(e){let t=e.match(/- copy$/g),r=e.match(/- copy\(\d+\)$/g);if(!t&&!r)return`${e} - copy`;{let t=e.replace(/ - copy.*/,""),n=r?Number(r[0].replace(/\D/g,""))+1:1;return`${t} - copy(${n})`}}(h.name)});let b=y?.serverName?v[y.serverName]:void 0,x=b&&y&&void 0!==n[b]?(0,p.getCube)(n[b],y.cubeName):void 0;return(0,g.jsx)(iX,{title:"Limit Structure",id:"limit-structure",drawerNode:u&&void 0!==o?(0,g.jsx)(j,{delay:700,children:(0,g.jsx)(fR,{})}):(0,g.jsx)(fO,{limitStructure:y&&dL(y,"workflowUIActions")},o?"existing-structure":"new"),children:s||!o?(0,g.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(m.Empty,{image:m.Empty.PRESENTED_IMAGE_SIMPLE})}):u||!y?(0,g.jsx)(j,{delay:700,children:(0,g.jsxs)("div",{style:{padding:"10px",height:"100%",width:"100%"},children:[(0,g.jsx)("div",{style:{display:"flex",marginBottom:8,justifyContent:"flex-end"},children:(0,g.jsx)(m.Skeleton.Button,{active:!0,style:{backgroundColor:t.primaryColor}})}),(0,g.jsx)(uj,{numberOfColumns:9,numberOfRows:10,showFilterArea:!0})]})}):(0,g.jsx)(f8,{limitScopeKeys:y.scopeKeys,limits:y.limits,structureId:y.structureId,cube:x,limitStructureActions:y.formActions,serverKey:b,isLimitStructureFetching:c,isErrorLoadingWorkflowStatus:f})})}let f9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var f7=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:f9}))});let he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var ht=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:he}))});function hr({structureId:e,isDisabled:t}){let r=(0,g.jsx)(m.Button,{type:"link",disabled:t,icon:(0,g.jsx)(fX,{})}),n=(0,g.jsx)(nV,{fallbackComponent:r,children:(0,g.jsx)(m.Tooltip,{trigger:["hover"],title:t?"You are not authorized to copy a limit.":"Copy",mouseEnterDelay:.75,children:r})});return t?n:(0,g.jsx)(B.Link,{to:`/limits/structure?copiedLimitStructure=${e}`,children:n})}let hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var hi=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:hn}))}),ha=r(4213);function ho(e){e.accumulatedLimits?ha(new Blob([e.accumulatedLimits],{type:"text/csv"}),"accumulated_limits_export.csv"):(ha(new Blob([e.limitStructures],{type:"text/csv"}),"limit_structures_export.csv"),ha(new Blob([e.limits],{type:"text/csv"}),"limits_export.csv"))}function hs(){let{mutate:e,isPending:t}=function(){let{limitsRESTEndpoint:e,limitsServerName:t}=oN(),r=ip(t);return ib({mutationFn:async()=>r(`${e}/limitDefinition/export`),onSuccess:ho,meta:{errorMessage:"Error downloading limits"}})}(),r=fp("Download");return(0,g.jsx)(m.Tooltip,{title:"You are not authorized to download limits.",trigger:r?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{title:"Download",loading:t,disabled:!r,icon:(0,g.jsx)(hi,{}),onClick:()=>e()})})}function hl(e){let t=Object.keys(e.limitStructureErrors).length,r=[[e.numberOfBreaches,"breach","breaches"],[e.numberOfWarnings,"warning","warnings"],[e.numberOfPasses,"pass","passes"],[t,"error","errors"]].map(([e,t,r])=>0===e?"":1===e?`${e} ${t}`:`${e} ${r}`).filter(e=>e.length>0),n="no breaches, warnings or passes";return r.length>0&&(n=r.length>1?`${r.slice(0,-1).join(", ")} and ${iw(r)}`:r[0]),n}var hu=r(52),hc=a_.A&&a_.A.isRegExp,hd=hc?(0,aA.A)(hc):function(e){return(0,aj.A)(e)&&"[object RegExp]"==(0,s_.A)(e)},hf=(0,r(805).A)("length"),hh="\ud800-\udfff",hp="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hg="\ud83c[\udffb-\udfff]",hm="[^"+hh+"]",hv="(?:\ud83c[\udde6-\uddff]){2}",hy="[\ud800-\udbff][\udc00-\udfff]",hb="(?:"+hp+"|"+hg+")?",hx="[\\ufe0e\\ufe0f]?",hw="(?:\\u200d(?:"+[hm,hv,hy].join("|")+")"+hx+hb+")*",hC=RegExp(hg+"(?="+hg+")|(?:"+[hm+hp+"?",hp,hv,hy,"["+hh+"]"].join("|")+")"+(hx+hb+hw),"g");let hS=function(e){for(var t=hC.lastIndex=0;hC.test(e);)++t;return t};var hj=1/0;let hA=function(e){var t,r=(t=e)?(t=iL(t))===hj||t===-hj?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0,n=r%1;return r==r?n?r-n:r:0};var h_=/\w*$/;let hk=function(e,t){var r=30,n="...";if((0,iA.A)(t)){var i="separator"in t?t.separator:i;r="length"in t?hA(t.length):r,n="omission"in t?(0,hu.A)(t.omission):n}var a=(e=(0,sz.A)(e)).length;if(sU(e)){var o=s0(e);a=o.length}if(r>=a)return e;var s=r-(sU(u=n)?hS(u):hf(u));if(s<1)return n;var l=o?s$(o,0,s).join(""):e.slice(0,s);if(void 0===i)return l+n;if(o&&(s+=l.length-s),hd(i)){if(e.slice(s).search(i)){var u,c,d=l;for(i.global||(i=RegExp(i.source,(0,sz.A)(h_.exec(i))+"g")),i.lastIndex=0;c=i.exec(d);)var f=c.index;l=l.slice(0,void 0===f?s:f)}}else if(e.indexOf((0,hu.A)(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+n};function hE({limitStructureErrors:e}){return Object.keys(e.limitErrors).length>0?(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{children:e.message}),(0,g.jsxs)("div",{children:["The following limits of this structure also have errors:",(0,g.jsx)("ul",{children:Object.entries(e.limitErrors).map(([e,t])=>(0,g.jsxs)("li",{children:[e,":"," ",hk(t.message,{length:250})]},e))})]})]}):(0,g.jsx)("div",{children:e.message})}function hO({limitStructureErrors:e}){let t=(0,p.useTheme)();return(0,g.jsx)(m.Popover,{placement:"right",trigger:["hover"],mouseEnterDelay:.75,title:"Evaluation Error",content:(0,g.jsx)(hE,{limitStructureErrors:e}),children:(0,g.jsx)(fI,{style:{color:t.errorColor}})})}let hR={enableHiding:!1,enableSorting:!1,enableColumnFilter:!1},hT={id:"status",...hR,accessorKey:"limitStructureErrors",header:"",cell:({getValue:e})=>void 0!==e()&&(0,g.jsx)("div",{children:(0,g.jsx)(hO,{limitStructureErrors:e()})})};function hI({limitRows:e,onEvaluationCompleted:t}){let r=fK();r&&'"'===r[0]&&'"'===r[r.length-1]&&(r=r.substring(1,r.length-1));let[n,i]=(0,w.useState)(!1),[a,o]=(0,w.useState)(cd(r)),[s,l]=(0,w.useState)(),{message:u}=m.App.useApp(),c=s?e.map(e=>({...e,limitStructureErrors:s.limitStructureErrors[e.structureId]})):e,{mutate:d,isPending:f}=function(){let{limitsRESTEndpoint:e,limitsServerName:t}=oN(),r=ig(t),n=k();return ib({mutationFn:async t=>r(`${e}/limitEvaluation/structure/evaluate?asOfDate=${t.asOfDate}`,{body:t.structureIds}),onSuccess:()=>Promise.all([n.invalidateQueries({queryKey:[dn]})]),meta:{errorMessage:"Error evaluating limit structures"}})}(),h=fp("Evaluate",iW(e.map(e=>e.formActions))),p=0===e.length;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Tooltip,{title:p?"Select a row":"You are not authorized to evaluate the selected limit structures.",trigger:p||!h?["hover"]:[],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{type:"default",onClick:()=>i(!0),disabled:p||!h,icon:(0,g.jsx)(cO,{}),children:"Evaluate"})}),(0,g.jsxs)(m.Modal,{title:"Evaluate Limit Structures",open:n,onCancel:()=>{f||(l(void 0),i(!1))},destroyOnClose:!0,width:700,okButtonProps:{loading:f,disabled:null===a},cancelButtonProps:{disabled:f},onOk:()=>{a&&d({structureIds:e.map(e=>e.structureId),asOfDate:cd(a).format("YYYY-MM-DD")},{onSuccess(e){sA(e.limitStructureErrors)?(u.success(`Evaluation completed with ${hl(e)}.`),i(!1),t()):(console.error("Evaluation completed with errors, see the report below:",e),l(e))}})},bodyStyle:{display:"flex",flexDirection:"column",gap:8},centered:!0,children:[(0,g.jsx)(uS,{rowKey:"structureId",data:c,style:{maxHeight:275},isSticky:!0,disablePagination:!0,disableConfigurationPanel:!0,disableColumnResizing:!0,doPersistStateToStorage:!1,disableColumnReordering:!0,tableId:"limts-evaluation-modal",columns:[...c.some(e=>e.limitStructureErrors)?[hT]:[],{header:"Name",id:"name",accessorKey:"name",...hR},{id:"group",header:"Group",accessorKey:"group",...hR},{id:"serverName",header:"Server",accessorKey:"serverName",...hR},{id:"cubeName",header:"Cube",accessorKey:"cubeName",...hR},{id:"measureName",header:"Measure",accessorKey:"measureName",...hR}]}),(0,g.jsx)(m.Form,{layout:"vertical",children:(0,g.jsx)(m.Form.Item,{label:"As of date",htmlFor:"asOfDateInput",required:!0,children:(0,g.jsx)(m.DatePicker,{"data-testid":"asOfDateInput",value:a,autoFocus:!0,allowClear:!1,onChange:e=>{e&&o(e)}})})}),s&&(0,g.jsx)(m.Alert,{message:(0,g.jsxs)("div",{children:["Evaluation completed with"," ",hl(s),". See the table above for more information."]}),type:"warning"})]})]})}let hM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var hF=/*#__PURE__*/w.forwardRef(function(e,t){return /*#__PURE__*/w.createElement(nI,rm({},e,{ref:t,icon:hM}))});let hD=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r};var hP=function(e){return function(t){return null==e?void 0:e[t]}}({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),hL=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hN=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),hz=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,h$="\ud800-\udfff",hB="\\u2700-\\u27bf",hU="a-z\\xdf-\\xf6\\xf8-\\xff",hq="A-Z\\xc0-\\xd6\\xd8-\\xde",hH="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hK="[']",hZ="["+hH+"]",hQ="["+hU+"]",hG="[^"+h$+hH+"\\d+"+hB+hU+hq+"]",hW="(?:\ud83c[\udde6-\uddff]){2}",hY="[\ud800-\udbff][\udc00-\udfff]",hX="["+hq+"]",hJ="(?:"+hQ+"|"+hG+")",h0="(?:"+hX+"|"+hG+")",h1="(?:"+hK+"(?:d|ll|m|re|s|t|ve))?",h2="(?:"+hK+"(?:D|LL|M|RE|S|T|VE))?",h4="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",h6="[\\ufe0e\\ufe0f]?",h3="(?:\\u200d(?:"+["[^"+h$+"]",hW,hY].join("|")+")"+h6+h4+")*",h8="(?:"+["["+hB+"]",hW,hY].join("|")+")"+(h6+h4+h3),h5=RegExp([hX+"?"+hQ+"+"+h1+"(?="+[hZ,hX,"$"].join("|")+")",h0+"+"+h2+"(?="+[hZ,hX+hJ,"$"].join("|")+")",hX+"?"+hJ+"+"+h1,hX+"+"+h2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",h8].join("|"),"g");let h9=function(e,t,r){if(e=(0,sz.A)(e),void 0===(t=r?void 0:t)){var n;return(n=e,hV.test(n))?e.match(h5)||[]:e.match(hz)||[]}return e.match(t)||[]};var h7=RegExp("[']","g"),pe=(s=function(e,t,r){return e+(r?"-":"")+t.toLowerCase()},function(e){var t;return hD(h9((t=e,(t=(0,sz.A)(t))&&t.replace(hL,hP).replace(hN,"")).replace(h7,"")),s,"")}),pt=r(4809);async function pr({csvFile:e,signal:t}){return new Promise((r,n)=>{let i=()=>n(Error("parsing has aborted"));t.addEventListener("abort",i),(0,pt.parse)(e,{skipEmptyLines:!0,worker:!0,complete:e=>{r(e.data),t.removeEventListener("abort",i)},error:e=>{t.removeEventListener("abort",i),e instanceof Error?n(e):n(Error(`Unknown error while parsing csv: ${e}`))}})})}let pn="csvToTableData";function pi({error:e,isPending:t,fileType:n,onUploadFile:i,onSelectFile:a}){let o=(0,p.useTheme)(),s=fp("limit structure"===n?"Create Limit Structure":"Create Limit"),[l,u]=(0,w.useState)(),{data:c,isFetching:d}=function({fileType:e,csvFile:t}){return ii({queryKey:[pn,e,t?.name],placeholderData:t4,queryFn:async({signal:n})=>{if(t&&!1===n.aborted){let i=await pr({csvFile:t,signal:n});return new Promise((t,a)=>{{n.addEventListener("abort",()=>{o.terminate(),a(Error("parsing has aborted"))});let o=new Worker(new URL(r.p+r.u(349),r.b));o.onmessage=({data:e})=>{o.terminate(),t(e)},o.postMessage({fileType:e,parsedFile:i})}})}return{columnDef:[],rowData:void 0}},meta:{errorMessage:"Error parsing CSV file"}})}({fileType:n,csvFile:l?.[0]}),{rowData:f,columnDef:h}=c??{},v=k(),y=(0,w.useRef)(null),b=(0,g.jsx)(nB,{expectedDuration:1500,onCancel:async()=>{await v.cancelQueries({queryKey:[pn,n,l?.[0].name],exact:!0}),u(void 0),y.current&&(y.current.value="")}});return(0,g.jsxs)("div",{style:{display:"flex",flexFlow:"column",gap:8},children:[(0,g.jsx)("div",{style:{fontWeight:"450",color:o.textColor,paddingTop:"5px"},children:`Choose ${n} file to upload.`}),"limit"===n&&(0,g.jsx)("div",{children:"Referenced limit structures must exist first."}),(0,g.jsx)("input",{type:"file",ref:y,id:"fileInput",className:"input-file",accept:".csv",onChange:async e=>{let t=e.target.files;t&&t.length>0?u(t):u(void 0),a()}}),e&&(()=>{let{message:t,description:r}=P(e,`Error uploading ${n}`);return(0,g.jsxs)("div",{style:{color:o.errorColor},children:[t,(0,g.jsx)("div",{children:r})]})})(),d&&h?.length===0&&!f?b:h&&f&&(0,g.jsx)(uS,{style:{maxHeight:400},data:e instanceof D?f.map((t,r)=>({...t,status:e?.problemDetail.validationErrors?.find(e=>e.lineNumber===r+1)})):f,columns:e instanceof D&&e.problemDetail.validationErrors?[{id:"status",accessorKey:"status",enableHiding:!1,enableSorting:!1,enableColumnFilter:!1,header:"",cell:({getValue:e})=>void 0!==e()&&(0,g.jsx)(m.Popover,{placement:"right",trigger:["hover"],mouseEnterDelay:.75,title:"Evaluation Error",content:()=>{let t=e();return(0,g.jsxs)("div",{style:{maxWidth:300},children:[t?.reason,(0,g.jsx)("div",{children:t?.action})]})},children:(0,g.jsx)(fI,{style:{color:o.errorColor}})})},...h]:h,isLoading:d,isSticky:!0,tableId:`uploaded-${n}-data`,rowKey:"key",doPersistStateToStorage:!1,disablePagination:!0,disableConfigurationPanel:!0,disableColumnReordering:!0,disableColumnResizing:!0,disableColumnHiding:!0,loadingIndicator:b}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,g.jsx)(m.Tooltip,{title:`You are not authorized to upload ${n}s.`,trigger:s?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsxs)(m.Button,{disabled:!s||!l||d,type:"primary",loading:t,onClick:()=>{l&&i(l)},style:{width:"fit-content"},children:["Upload ",n," file"]})})})]},`upload-file-${pe(n)}`)}function pa(){let[e,t]=(0,w.useState)(!1),r=(0,p.useTheme)(),{mutate:n,isPending:i,error:a,reset:o}=function(){let e=k(),{limitsRESTEndpoint:t,limitsServerName:r}=oN(),{message:n}=m.App.useApp(),i=id(r);return ib({mutationFn:e=>i(`${t}/limitDefinition/uploadStructures`,{body:e}),onSuccess:()=>(n.success("Limit structure successfully uploaded."),e.invalidateQueries({queryKey:[dz]})),meta:{errorMessage:"Error uploading limit structures"}})}(),{mutate:s,isPending:l,error:u,reset:c}=function(){let{limitsRESTEndpoint:e,limitsServerName:t}=oN(),r=id(t),n=k(),{message:i}=m.App.useApp();return ib({mutationFn:t=>r(`${e}/limitDefinition/uploadLimits`,{body:t}),onSuccess:()=>(i.success("Limits successfully uploaded."),Promise.all([n.invalidateQueries({queryKey:[dz]}),n.invalidateQueries({queryKey:[dV]})])),meta:{errorMessage:"Error uploading limits"}})}(),d=fp("Create Limit"),f=fp("Create Limit Structure");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Tooltip,{title:"You are not authorized to upload limit structures or limits.",trigger:f&&d?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(m.Button,{title:"Upload",icon:(0,g.jsx)(hF,{}),disabled:!f||!d,onClick:()=>t(!0)})}),(0,g.jsx)(m.Modal,{title:"Choose csv files for upload.",open:e,destroyOnClose:!0,onCancel:function(){o(),c(),t(!1)},width:1200,footer:null,children:(0,g.jsx)(m.Tabs,{defaultActiveKey:"limit structure",centered:!0,css:(0,v.css)`
            .ant-tabs-tab {
              justify-content: center;
              width: 400px;
            }
          `,items:da.map(e=>{let t="limit"===e?u:a,d="limit"===e?l:i;return{label:(0,g.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center"},children:[s2(e),t?(0,g.jsx)(fI,{style:{color:r.errorColor}}):""]}),key:e,children:(0,g.jsx)(pi,{error:t,isPending:d,fileType:e,onUploadFile:t=>{let r=new FormData;r.append("file",t[0]),"limit structure"===e?n(r):"limit"===e&&s(r)},onSelectFile:()=>{"limit structure"===e?o():"limit"===e&&c()}})}})})})]})}function po(){var e;let{availableApplicationServers:t,serverNameToServerKey:r}=oN(),{structureTemplates:n}=dT(),i="structureId",a=dN(r),[o,s]=nK({storageKey:"limits-inventory-filter-serverName",initialState:1===t.length?t[0]:null}),[l,u]=nK({storageKey:"limits-inventory-filter-cubeName",initialState:null}),[c,d]=(0,w.useState)({}),f=(0,B.useNavigate)(),{data:h,isFetching:p}=function(e,t){let{limitsRESTEndpoint:r,limitsServerName:n,serverNameToServerKey:i}=oN(),a=dN(i),o=e?a[e]:null,s=ig(n);return ii({queryKey:[dz,r,o,t],placeholderData:t4,queryFn:async()=>{let e=await s(`${r}/limitDefinition/inventory-structures/filter`,{body:{"Server Name":o??void 0,"Cube Name":t??void 0}});return tz.array(dv).parse(e)},meta:{errorMessage:"Error fetching limit structures"},staleTime:6e4})}(o,l),v=fp("Create Limit Structure"),y=h?cT(Object.keys(c).map(e=>h.find(t=>t[i]===e))):[];(0,w.useEffect)(()=>{d({})},[h]);let b=(0,w.useCallback)(e=>{s(e),u(null),d({})},[u,s]),x=(0,w.useCallback)(e=>{u(e),d({})},[u]),C=Object.entries(n).filter(([,{serverName:e}])=>t.includes(r[e])).map(([e,{templateName:t}])=>({label:t,key:e,icon:(0,g.jsx)(f7,{}),onClick:()=>f(`/limits/structure?structureTemplate=${encodeURI(e)}`)}));return(0,g.jsx)(iJ,{title:"Limits Inventory",actions:(0,g.jsx)(m.Tooltip,{title:"You are not authorized to create a limit structure.",trigger:v?[]:["hover"],mouseEnterDelay:.75,children:(0,g.jsx)(g.Fragment,{children:C.length>0?(0,g.jsx)(m.Dropdown,{trigger:["click"],disabled:!v,menu:{items:[{label:"New Limit Structure",key:"no-template",icon:(0,g.jsx)(ht,{}),onClick:()=>f("/limits/structure")},{type:"divider"},...C]},children:(0,g.jsx)(m.Button,{type:"primary",icon:(0,g.jsx)(dG,{}),disabled:!v,children:"Create Limit Structure"})}):(0,g.jsx)(m.Button,{icon:(0,g.jsx)(dG,{}),type:"primary",onClick:()=>f("/limits/structure"),children:"Create Limit Structure"})})}),children:(0,g.jsx)(uS,{rowKey:i,tableId:"limit-inventory",columns:(e=!v,[{id:"name",accessorKey:"name",header:"Name",filterFn:"isOneOf",cell:e=>(0,g.jsx)(de,{name:e.row.original.name,structureId:e.row.original.structureId})},{id:"group",header:"Group",accessorKey:"group",filterFn:"isOneOf"},{id:"measure",header:"Measure",accessorKey:"measureName",filterFn:"isOneOf"},{id:"numberOfPendingApprovals",header:"Pending Approval",accessorKey:"numberOfPendingApprovals",cell:({getValue:e})=>(0,g.jsx)("div",{style:{textAlign:"right"},children:e()}),enableColumnFilter:!1},{id:"action",header:"Action",enableHiding:!1,enableColumnFilter:!1,enableSorting:!1,enableResizing:!1,size:0,cell:({row:t})=>{let{utilizationDashboardID:r,structureId:n}=t.original;return(0,g.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[(0,g.jsx)(hr,{isDisabled:e,structureId:n}),(0,g.jsx)(fc,{utilizationDashboardID:r,structureId:n})]})}}]),data:h??[],rowSelection:{selectedRows:c,onChange:d},isLoading:p,style:{maxHeight:"calc(100% - 38px)"},isSticky:!0,actionButtons:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pa,{}),(0,g.jsx)(hs,{}),(0,g.jsx)(hI,{onEvaluationCompleted:function(){d({})},limitRows:y??[]})]}),extraTags:(0,g.jsxs)(g.Fragment,{children:[t.length>1&&(0,g.jsx)(aQ,{selectedServerKey:o,onChange:b,servers:a}),(0,g.jsx)(aZ,{selectedServerKey:o,selectedCubeName:l,onChange:x,isAlwaysVisible:t.length>1})]})})})}function ps({pathToAtotiUIHome:e}){return(0,g.jsx)(oP,{value:e??"/",children:(0,g.jsx)(nN,{children:(0,g.jsx)(B.Outlet,{})})})}let pl=({pathToHome:e})=>[{path:"/limits",element:(0,g.jsx)(ps,{pathToAtotiUIHome:e}),errorElement:(0,g.jsx)(U,{}),children:[{index:!0,element:(0,g.jsx)(po,{})},{path:"structure/:structureId?",element:(0,g.jsx)(f5,{})},{path:"status",element:(0,g.jsx)(fh,{})}]}];function pu(e,t){return e.filter(e=>!t.includes(e))}var pc=class extends t5{#_;#X;#g;#c;#J;#ee;constructor(e,t,r){super(),this.#_=e,this.#g=[],this.#c=[],this.#et([]),this.setQueries(t,r)}#et(e){this.#X=e,this.#ee=this.#er(e,this.#J?.combine)}onSubscribe(){1===this.listeners.size&&this.#c.forEach(e=>{e.subscribe(t=>{this.#en(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=/* @__PURE__ */new Set,this.#c.forEach(e=>{e.destroy()})}setQueries(e,t,r){this.#g=e,this.#J=t,t8.batch(()=>{let e=this.#c,t=this.#ei(this.#g);t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,r));let n=t.map(e=>e.observer),i=n.map(e=>e.getCurrentResult()),a=n.some((t,r)=>t!==e[r]);(e.length!==n.length||a)&&(this.#c=n,this.#et(i),this.hasListeners()&&(pu(e,n).forEach(e=>{e.destroy()}),pu(n,e).forEach(e=>{e.subscribe(t=>{this.#en(e,t)})}),this.#Q()))})}getCurrentResult(){return this.#ee}getQueries(){return this.#c.map(e=>e.getCurrentQuery())}getObservers(){return this.#c}getOptimisticResult(e,t){let r=this.#ei(e),n=r.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[n,e=>this.#er(e??n,t),()=>r.map((e,t)=>{let r=n[t];return e.defaultedQueryOptions.notifyOnChangeProps?r:e.observer.trackResult(r)})]}#er(e,t){return t?tY(this.#ee,t(e)):e}#ei(e){let t=new Map(this.#c.map(e=>[e.options.queryHash,e])),r=e.map(e=>this.#_.defaultQueryOptions(e)),n=r.flatMap(e=>{let r=t.get(e.queryHash);return null!=r?[{defaultedQueryOptions:e,observer:r}]:[]}),i=new Set(n.map(e=>e.defaultedQueryOptions.queryHash)),a=r.filter(e=>!i.has(e.queryHash)),o=e=>{let t=this.#_.defaultQueryOptions(e);return this.#c.find(e=>e.options.queryHash===t.queryHash)??new nW(this.#_,t)},s=a.map(e=>({defaultedQueryOptions:e,observer:o(e)}));return n.concat(s).sort((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions))}#en(e,t){let r=this.#c.indexOf(e);-1!==r&&(this.#et(function(e,t,r){let n=e.slice(0);return n[t]=r,n}(this.#X,r,t)),this.#Q())}#Q(){t8.batch(()=>{this.listeners.forEach(e=>{e(this.#X)})})}};let pd={refetchInterval:36e5,refetchIntervalInBackground:!1,refetchOnWindowFocus:!0,staleTime:36e5},pf={staleTime:1/0};function ph(){var e;let{limitsRESTEndpoint:t,limitsServerName:r}=oN(),n=ip(r),i=ic(r);!function({queries:e,...t},r){let n=k(r),i=n2(),a=T(),o=w.useMemo(()=>e.map(e=>{let t=n.defaultQueryOptions(e);return t._optimisticResults=i?"isRestoring":"optimistic",t}),[e,n,i]);o.forEach(e=>{n9(e),n6(e,a)}),n3(a);let[s]=w.useState(()=>new pc(n,o,t)),[l,u,c]=s.getOptimisticResult(o,t.combine);w.useSyncExternalStore(w.useCallback(e=>i?()=>void 0:s.subscribe(t8.batchCalls(e)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),w.useEffect(()=>{s.setQueries(o,t,{listeners:!1})},[o,t,s]);let d=l.some((e,t)=>ie(o[t],e))?l.flatMap((e,t)=>{let r=o[t];if(r){let t=new nW(n,r);if(ie(r,e))return it(r,t,a);n7(e,i)&&it(r,t,a)}return[]}):[];if(d.length>0)throw Promise.all(d);let f=l.find((e,t)=>{let r=o[t];return r&&n8({result:e,errorResetBoundary:a,throwOnError:r.throwOnError,query:n.getQueryCache().get(r.queryHash)})});if(f?.error)throw f.error;u(c())}({...e={queries:[{queryKey:[dR,t],queryFn:async()=>{let e=await n(`${t}/settings`);return dj.parse(e)},...pf},{queryKey:[fH,t],queryFn:async()=>{let e=await i(`${t}/limitDefinition/asOfDate`);return await e.json()},...pd},{queryKey:[dn,t],queryFn:async()=>(await n(`${t}/incidents/as-of-dates`)).map(e=>cd(e)),...pd}]},queries:e.queries.map(e=>({...e,suspense:!0,throwOnError:n5,enabled:!0}))},void 0)}function pp({configuration:e,settings:t=oA,basSettings:r=oj,moduleSettings:n}){var i;!function({configuration:e,basSettings:t,sdkName:r,withModuleSettings:n,usePopulateQueryCache:i}){var a;if(n&&e.higherOrderComponents.push(n),(a=e.higherOrderComponents).some(os)||a.push(rp),e.higherOrderComponents.push(e=>{let r=r=>{let n=(0,w.useContext)(oc),i=(0,w.useMemo)(()=>({...n,...t}),[n]);return(0,g.jsx)(oc.Provider,{value:i,children:(0,g.jsx)(e,{...r})})};return r.displayName=`withBASSettings(${e.displayName??e.name})`,r}),ox.includes(r)){if(!i)throw Error(`usePopulateQueryCache must be provided when activating ${r}`);e.higherOrderComponents.push(function({usePopulateQueryCache:e,hocDisplayName:t}){return r=>{let n=t=>(e(),(0,g.jsx)(r,{...t}));return n.displayName=`withPopulatedServerSettings${t||""}`,n}}({usePopulateQueryCache:i,hocDisplayName:r}))}(function(e,t){let r=e.rightApplicationMenu.find(e=>e.key===p.applicationSubMenuHelp.key);r&&!(r.children||[]).find(e=>e.key===t.key)&&(r.children=[...r.children||[],t])})(e,ob),function(e,t){t.forEach(t=>{e.tools.every(e=>e.key!==t.key)&&e.tools.push(t)})}(e,[p.toolQueryEditor,p.toolStateEditor,p.toolQueryContextEditor]),e.extraVersions={...e.extraVersions,[`${r}-sdk`]:ol[r]}}({configuration:e,basSettings:r,sdkName:"limits",usePopulateQueryCache:ph,withModuleSettings:function(e,t){let r={...e,...t};return e=>{let t=t=>(0,g.jsx)(oL,{value:r,children:(0,g.jsx)(e,{...t})});return t.displayName=`withLimitsSettings(${e.displayName??e.name})`,t}}(t,n)}),e.pluginRegistry["cell-style"]={...e.pluginRegistry["cell-style"]||{},...(0,oI.A)([o_],"key")},e.pluginRegistry.widget={...(0,oI.A)([oT],"key"),...e.pluginRegistry.widget},e.applicationName="Atoti Limits",(i=e.storeEnhancers).some(oo)||i.push(ot),e.leftApplicationMenu=[...e.leftApplicationMenu,oM],e.routes=[...e.routes,...pl(e)]}},6535:(e,t,r)=>{"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[$]}function a(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===B}(e)||Array.isArray(e)||!!e[V]||!!(null===(t=e.constructor)||void 0===t?void 0:t[V])||c(e)||d(e))}function o(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:U)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function s(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:c(e)?2:d(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function c(e){return P&&e instanceof Map}function d(e){return L&&e instanceof Set}function f(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=q(e);delete t[$];for(var r=U(t),n=0;n<r.length;n++){var i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function p(e,t){return void 0===t&&(t=!1),m(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&o(e,function(e,t){return p(t,!0)},!0)),e}function g(){n(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function v(e){var t=H[e];return t||n(18,e),t}function y(e,t){t&&(v("Patches"),e.u=[],e.s=[],e.v=t)}function b(e){x(e),e.p.forEach(C),e.p=null}function x(e){e===F&&(F=e.l)}function w(e){return F={p:[],l:F,h:e,m:!0,_:0}}function C(e){var t=e[$];0===t.i||1===t.i?t.j():t.g=!0}function S(e,t){t._=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.O||v("ES5").S(t,e,i),i?(r[$].P&&(b(t),n(4)),a(e)&&(e=j(t,e),t.l||_(t,e)),t.u&&v("Patches").M(r[$].t,e,t.u,t.s)):e=j(t,r,[]),b(t),t.u&&t.v(t.u,t.s),e!==z?e:void 0}function j(e,t,r){if(m(t))return t;var n=t[$];if(!n)return o(t,function(i,a){return A(e,n,t,i,a,r)},!0),t;if(n.A!==e)return t;if(!n.P)return _(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=h(n.k):n.o,a=i,s=!1;3===n.i&&(a=new Set(i),i.clear(),s=!0),o(a,function(t,a){return A(e,n,i,t,a,r,s)}),_(e,i,!1),r&&e.u&&v("Patches").N(n,r,e.u,e.s)}return n.o}function A(e,t,r,n,o,s,c){if(i(o)){var d=j(e,o,s&&t&&3!==t.i&&!l(t.R,n)?s.concat(n):void 0);if(u(r,n,d),!i(d))return;e.m=!1}else c&&r.add(o);if(a(o)&&!m(o)){if(!e.h.D&&e._<1)return;j(e,o),t&&t.A.l||_(e,o)}}function _(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&p(t,r)}function k(e,t){var r=e[$];return(r?f(r):e)[t]}function E(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function O(e){e.P||(e.P=!0,e.l&&O(e.l))}function R(e){e.o||(e.o=h(e.t))}function T(e,t,r){var n,i,a,o,s,l,u,f=c(t)?v("MapSet").F(t,r):d(t)?v("MapSet").T(t,r):e.O?(a=i={i:(n=Array.isArray(t))?1:0,A:r?r.A:F,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},o=K,n&&(a=[i],o=Z),l=(s=Proxy.revocable(a,o)).revoke,u=s.proxy,i.k=u,i.j=l,u):v("ES5").J(t,r);return(r?r.A:F).p.push(f),f}function I(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}r.d(t,{ht:()=>W,jM:()=>G});var M,F,D="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),P="undefined"!=typeof Map,L="undefined"!=typeof Set,N="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,z=D?Symbol.for("immer-nothing"):((M={})["immer-nothing"]=!0,M),V=D?Symbol.for("immer-draftable"):"__$immer_draftable",$=D?Symbol.for("immer-state"):"__$immer_state",B=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,q=Object.getOwnPropertyDescriptors||function(e){var t={};return U(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},H={},K={get:function(e,t){if(t===$)return e;var r,n,i=f(e);if(!l(i,t))return(n=E(i,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var o=i[t];return e.I||!a(o)?o:o===k(e.t,t)?(R(e),e.o[t]=T(e.A.h,o,e)):o},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,r){var n=E(f(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=k(f(e),t),a=null==i?void 0:i[$];if(a&&a.t===r)return e.o[t]=r,e.R[t]=!1,!0;if((r===i?0!==r||1/r==1/i:r!=r&&i!=i)&&(void 0!==r||l(e.t,t)))return!0;R(e),O(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.R[t]=!1,R(e),O(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=f(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},Z={};o(K,function(e,t){Z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Z.deleteProperty=function(e,t){return Z.set.call(this,e,t,void 0)},Z.set=function(e,t,r){return K.set.call(this,e[0],t,r,e[0])};var Q=new(function(){function e(e){var t=this;this.O=N,this.D=!0,this.produce=function(e,r,i){if("function"==typeof e&&"function"!=typeof r){var o,s=r;return r=e,function(e){var n=this;void 0===e&&(e=s);for(var i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(a))})}}if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),a(e)){var l=w(t),u=T(t,e,void 0),c=!0;try{o=r(u),c=!1}finally{c?b(l):x(l)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return y(l,i),S(e,l)},function(e){throw b(l),e}):(y(l,i),S(o,l))}if(!e||"object"!=typeof e){if(void 0===(o=r(e))&&(o=e),o===z&&(o=void 0),t.D&&p(o,!0),i){var d=[],f=[];v("Patches").M(e,o,d,f),i(d,f)}return o}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(i))})};var n,i,a=t.produce(e,r,function(e,t){n=e,i=t});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return[e,n,i]}):[a,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||n(8),i(e)&&(i(t=e)||n(22,t),e=function e(t){if(!a(t))return t;var r,n=t[$],i=s(t);if(n){if(!n.P&&(n.i<4||!v("ES5").K(n)))return n.t;n.I=!0,r=I(t,i),n.I=!1}else r=I(t,i);return o(r,function(t,i){var a;n&&(2===s(a=n.t)?a.get(t):a[t])===i||u(r,t,e(i))}),3===i?new Set(r):r}(t));var t,r=w(this),l=T(this,e,void 0);return l[$].C=!0,x(r),l},t.finishDraft=function(e,t){var r=(e&&e[$]).A;return y(r,t),S(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!N&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var a=v("Patches").$;return i(e)?a(e,t):this.produce(e,function(e){return a(e,t)})},e}()),G=Q.produce,W=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q));Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q)},127:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(6984);let i=function(e,t){for(var r=e.length;r--;)if((0,n.A)(e[r][0],t))return r;return -1};var a=Array.prototype.splice;function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(e){var t=this.__data__,r=i(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)},o.prototype.get=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]},o.prototype.has=function(e){return i(this.__data__,e)>-1},o.prototype.set=function(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};let s=o},8335:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8744),i=r(1917);let a=(0,n.A)(i.A,"Map")},9471:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=(0,r(8744).A)(Object,"create"),i=Object.prototype.hasOwnProperty,a=Object.prototype.hasOwnProperty;function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}o.prototype.clear=function(){this.__data__=n?n(null):{},this.size=0},o.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},o.prototype.get=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0},o.prototype.has=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)},o.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this};var s=r(127),l=r(8335);let u=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},c=function(e,t){var r=e.__data__;return u(t)?r["string"==typeof t?"string":"hash"]:r.map};function d(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}d.prototype.clear=function(){this.size=0,this.__data__={hash:new o,map:new(l.A||s.A),string:new o}},d.prototype.delete=function(e){var t=c(this,e).delete(e);return this.size-=t?1:0,t},d.prototype.get=function(e){return c(this,e).get(e)},d.prototype.has=function(e){return c(this,e).has(e)},d.prototype.set=function(e,t){var r=c(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};let f=d},9857:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8744),i=r(1917);let a=(0,n.A)(i.A,"Set")},2062:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9471);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.A;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},i.prototype.has=function(e){return this.__data__.has(e)};let a=i},1754:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(127),i=r(8335),a=r(9471);function o(e){var t=this.__data__=new n.A(e);this.size=t.size}o.prototype.clear=function(){this.__data__=new n.A,this.size=0},o.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},o.prototype.get=function(e){return this.__data__.get(e)},o.prototype.has=function(e){return this.__data__.has(e)},o.prototype.set=function(e,t){var r=this.__data__;if(r instanceof n.A){var o=r.__data__;if(!i.A||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new a.A(o)}return r.set(e,t),this.size=r.size,this};let s=o},241:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=r(1917).A.Symbol},3988:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=r(1917).A.Uint8Array},3607:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});let n=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var i=r(2274),a=r(2049),o=r(9912),s=r(5353),l=r(3858),u=Object.prototype.hasOwnProperty;let c=function(e,t){var r=(0,a.A)(e),c=!r&&(0,i.A)(e),d=!r&&!c&&(0,o.A)(e),f=!r&&!c&&!d&&(0,l.A)(e),h=r||c||d||f,p=h?n(e.length,String):[],g=p.length;for(var m in e)(t||u.call(e,m))&&!(h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,s.A)(m,g)))&&p.push(m);return p}},5572:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},6912:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},2851:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2528),i=r(6984),a=Object.prototype.hasOwnProperty;let o=function(e,t,r){var o=e[t];a.call(e,t)&&(0,i.A)(o,r)&&(void 0!==r||t in e)||(0,n.A)(e,t,r)}},2528:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(4171);let i=function(e,t,r){"__proto__"==t&&n.A?(0,n.A)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1578:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n,i=r(4574),a=r(7422),o=r(8446);let s=(n=function(e,t){return e&&(0,i.A)(e,t,a.A)},function(e,t){if(null==e)return e;if(!(0,o.A)(e))return n(e,t);for(var r=e.length,i=-1,a=Object(e);++i<r&&!1!==t(a[i],i,a););return e})},4574:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[++n];if(!1===t(i[s],s,i))break}return e}},6318:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3442),i=r(901);let a=function(e,t){t=(0,n.A)(t,e);for(var r=0,a=t.length;null!=e&&r<a;)e=e[(0,i.A)(t[r++])];return r&&r==a?e:void 0}},3831:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(6912),i=r(2049);let a=function(e,t,r){var a=t(e);return(0,i.A)(e)?a:(0,n.A)(a,r(e))}},8496:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(241),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n.A?n.A.toStringTag:void 0;let l=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i};var u=Object.prototype.toString,c=n.A?n.A.toStringTag:void 0;let d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?l(e):u.call(e)}},6993:(e,t,r)=>{"use strict";r.d(t,{A:()=>O});var n=r(1754),i=r(2062);let a=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var o=r(4099);let s=function(e,t,r,n,s,l){var u=1&r,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&r?new i.A:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var v=e[p],y=t[p];if(n)var b=u?n(y,v,p,t,e,l):n(v,y,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!a(t,function(e,t){if(!(0,o.A)(m,t)&&(v===e||s(v,e,r,n,l)))return m.push(t)})){g=!1;break}}else if(!(v===y||s(v,y,r,n,l))){g=!1;break}}return l.delete(e),l.delete(t),g};var l=r(241),u=r(3988),c=r(6984);let d=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r};var f=r(9959),h=l.A?l.A.prototype:void 0,p=h?h.valueOf:void 0;let g=function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new u.A(e),new u.A(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,c.A)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=d;case"[object Set]":var h=1&n;if(l||(l=f.A),e.size!=t.size&&!h)break;var g=o.get(e);if(g)return g==t;n|=2,o.set(e,t);var m=s(l(e),l(t),n,i,a,o);return o.delete(e),m;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1};var m=r(9042),v=Object.prototype.hasOwnProperty;let y=function(e,t,r,n,i,a){var o=1&r,s=(0,m.A)(e),l=s.length;if(l!=(0,m.A)(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:v.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var g=e[c=s[u]],y=t[c];if(n)var b=o?n(y,g,c,t,e,a):n(g,y,c,e,t,a);if(!(void 0===b?g===y||i(g,y,r,n,a):b)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(e),a.delete(t),h};var b=r(9779),x=r(2049),w=r(9912),C=r(3858),S="[object Arguments]",j="[object Array]",A="[object Object]",_=Object.prototype.hasOwnProperty;let k=function(e,t,r,i,a,o){var l=(0,x.A)(e),u=(0,x.A)(t),c=l?j:(0,b.A)(e),d=u?j:(0,b.A)(t);c=c==S?A:c,d=d==S?A:d;var f=c==A,h=d==A,p=c==d;if(p&&(0,w.A)(e)){if(!(0,w.A)(t))return!1;l=!0,f=!1}if(p&&!f)return o||(o=new n.A),l||(0,C.A)(e)?s(e,t,r,i,a,o):g(e,t,c,r,i,a,o);if(!(1&r)){var m=f&&_.call(e,"__wrapped__"),v=h&&_.call(t,"__wrapped__");if(m||v){var k=m?e.value():e,E=v?t.value():t;return o||(o=new n.A),a(k,E,r,i,o)}}return!!p&&(o||(o=new n.A),y(e,t,r,i,a,o))};var E=r(3098);let O=function e(t,r,n,i,a){return t===r||(null!=t&&null!=r&&((0,E.A)(t)||(0,E.A)(r))?k(t,r,n,i,e,a):t!=t&&r!=r)}},2816:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(1754),i=r(6993);let a=function(e,t,r,a){var o=r.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var u=r[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=r[o])[0],d=e[c],f=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new n.A;if(a)var p=a(d,f,c,e,t,h);if(!(void 0===p?(0,i.A)(f,d,3,a,h):p))return!1}}return!0};var o=r(3149);let s=function(e){return e==e&&!(0,o.A)(e)};var l=r(7422);let u=function(e){for(var t=(0,l.A)(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,s(i)]}return t},c=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},d=function(e){var t=u(e);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(r){return r===e||a(r,e,t)}};var f=r(7500);let h=function(e,t){return null!=e&&t in Object(e)};var p=r(3442),g=r(2274),m=r(2049),v=r(5353),y=r(5254),b=r(901);let x=function(e,t,r){t=(0,p.A)(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=(0,b.A)(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&(0,y.A)(i)&&(0,v.A)(o,i)&&((0,m.A)(e)||(0,g.A)(e))};var w=r(6586),C=r(9008),S=r(805),j=r(6318);let A=function(e){var t,r,n;if("function"==typeof e)return e;if(null==e)return C.A;if("object"==typeof e){return(0,m.A)(e)?(t=e[0],r=e[1],(0,w.A)(t)&&s(r)?c((0,b.A)(t),r):function(e){var n=(0,f.A)(e,t);return void 0===n&&n===r?null!=e&&x(e,t,h):(0,i.A)(r,n,3)}):d(e)}return n=e,(0,w.A)(n)?(0,S.A)((0,b.A)(n)):function(e){return(0,j.A)(e,n)}}},1852:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7271),i=(0,r(367).A)(Object.keys,Object),a=Object.prototype.hasOwnProperty;let o=function(e){if(!(0,n.A)(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},805:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){return function(t){return null==t?void 0:t[e]}}},4326:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(9008),i=r(6875),a=r(9727);let o=function(e,t){return(0,a.A)((0,i.A)(e,t,n.A),e+"")}},52:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(241),i=r(5572),a=r(2049),o=r(1882),s=1/0,l=n.A?n.A.prototype:void 0,u=l?l.toString:void 0;let c=function e(t){if("string"==typeof t)return t;if((0,a.A)(t))return(0,i.A)(t,e)+"";if((0,o.A)(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},2789:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){return function(t){return e(t)}}},4099:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){return e.has(t)}},3442:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(2049),i=r(6586),a=r(9471);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(o.Cache||a.A),r}o.Cache=a.A;var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=function(e){var t=o(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,r,n,i){t.push(n?i.replace(l,"$1"):r||e)}),t}),c=r(8182);let d=function(e,t){return(0,n.A)(e)?e:(0,i.A)(e,t)?[e]:u((0,c.A)(e))}},565:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3988);let i=function(e){var t=new e.constructor(e.byteLength);return new n.A(t).set(new n.A(e)),t}},154:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(1917),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i?n.A.Buffer:void 0,s=o?o.allocUnsafe:void 0;let l=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},1801:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(565);let i=function(e,t){var r=t?(0,n.A)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},9759:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},2031:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2851),i=r(2528);let a=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=a?a(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),o?(0,i.A)(r,u,c):(0,n.A)(r,u,c)}return r}},9715:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let n=function(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n};var i=r(1578);let a=function(e,t,r,n){return(0,i.A)(e,function(e,i,a){t(n,e,r(e),a)}),n};var o=r(2816),s=r(2049);let l=function(e,t){return function(r,i){var l=(0,s.A)(r)?n:a,u=t?t():{};return l(r,e,(0,o.A)(i,2),u)}}},4171:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(8744);let i=function(){try{var e=(0,n.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},2136:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n="object"==typeof global&&global&&global.Object===Object&&global},9042:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3831),i=r(8634),a=r(7422);let o=function(e){return(0,n.A)(e,a.A,i.A)}},8744:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(9610),i=r(1917).A["__core-js_shared__"],a=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),o=r(3149),s=r(1121),l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let h=function(e,t){var r,i=null==e?void 0:e[t];return(r=i,(0,o.A)(r)&&(!a||!(a in r))&&((0,n.A)(r)?f:l).test((0,s.A)(r)))?i:void 0}},5647:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(367).A)(Object.getPrototypeOf,Object)},8634:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a};var i=r(3153),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;let s=o?function(e){return null==e?[]:n(o(e=Object(e)),function(t){return a.call(e,t)})}:i.A},9779:(e,t,r)=>{"use strict";r.d(t,{A:()=>S});var n=r(8744),i=r(1917),a=(0,n.A)(i.A,"DataView"),o=r(8335),s=(0,n.A)(i.A,"Promise"),l=r(9857),u=(0,n.A)(i.A,"WeakMap"),c=r(8496),d=r(1121),f="[object Map]",h="[object Promise]",p="[object Set]",g="[object WeakMap]",m="[object DataView]",v=(0,d.A)(a),y=(0,d.A)(o.A),b=(0,d.A)(s),x=(0,d.A)(l.A),w=(0,d.A)(u),C=c.A;(a&&C(new a(new ArrayBuffer(1)))!=m||o.A&&C(new o.A)!=f||s&&C(s.resolve())!=h||l.A&&C(new l.A)!=p||u&&C(new u)!=g)&&(C=function(e){var t=(0,c.A)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,d.A)(r):"";if(n)switch(n){case v:return m;case y:return f;case b:return h;case x:return p;case w:return g}return t});let S=C},8598:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(3149),i=Object.create,a=function(){function e(){}return function(t){if(!(0,n.A)(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),o=r(5647),s=r(7271);let l=function(e){return"function"!=typeof e.constructor||(0,s.A)(e)?{}:a((0,o.A)(e))}},5353:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=/^(?:0|[1-9]\d*)$/;let i=function(e,t){var r=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},6832:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(6984),i=r(8446),a=r(5353),o=r(3149);let s=function(e,t,r){if(!(0,o.A)(r))return!1;var s=typeof t;return("number"==s?!!((0,i.A)(r)&&(0,a.A)(t,r.length)):"string"==s&&t in r)&&(0,n.A)(r[t],e)}},6586:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2049),i=r(1882),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;let s=function(e,t){if((0,n.A)(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||(0,i.A)(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},7271:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Object.prototype;let i=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},4841:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2136),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i&&n.A.process;let s=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}()},367:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){return function(r){return e(t(r))}}},6875:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let n=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)};var i=Math.max;let a=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=r(l),n(e,this,u)}}},1917:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2136),i="object"==typeof self&&self&&self.Object===Object&&self;let a=n.A||i||Function("return this")()},9959:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},9727:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(4171),i=r(9008),a=n.A?function(e,t){return(0,n.A)(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:i.A,o=Date.now;let s=function(e){var t=0,r=0;return function(){var n=o(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(a)},901:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1882),i=1/0;let a=function(e){if("string"==typeof e||(0,n.A)(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},1121:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Function.prototype.toString;let i=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},6984:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){return e===t||e!=e&&t!=t}},7500:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(6318);let i=function(e,t,r){var i=null==e?void 0:(0,n.A)(e,t);return void 0===i?r:i}},9008:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){return e}},2274:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(8496),i=r(3098);let a=function(e){return(0,i.A)(e)&&"[object Arguments]"==(0,n.A)(e)};var o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable;let u=a(function(){return arguments}())?a:function(e){return(0,i.A)(e)&&s.call(e,"callee")&&!l.call(e,"callee")}},2049:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=Array.isArray},8446:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9610),i=r(5254);let a=function(e){return null!=e&&(0,i.A)(e.length)&&!(0,n.A)(e)}},3533:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8446),i=r(3098);let a=function(e){return(0,i.A)(e)&&(0,n.A)(e)}},9912:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(1917),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i?n.A.Buffer:void 0;let s=(o?o.isBuffer:void 0)||function(){return!1}},9610:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8496),i=r(3149);let a=function(e){if(!(0,i.A)(e))return!1;var t=(0,n.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5254:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},3149:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3098:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){return null!=e&&"object"==typeof e}},4963:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(8496),i=r(5647),a=r(3098),o=Object.prototype,s=Function.prototype.toString,l=o.hasOwnProperty,u=s.call(Object);let c=function(e){if(!(0,a.A)(e)||"[object Object]"!=(0,n.A)(e))return!1;var t=(0,i.A)(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==u}},1882:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8496),i=r(3098);let a=function(e){return"symbol"==typeof e||(0,i.A)(e)&&"[object Symbol]"==(0,n.A)(e)}},3858:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(8496),i=r(5254),a=r(3098),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var s=r(2789),l=r(4841),u=l.A&&l.A.isTypedArray;let c=u?(0,s.A)(u):function(e){return(0,a.A)(e)&&(0,i.A)(e.length)&&!!o[(0,n.A)(e)]}},4346:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2528);let i=(0,r(9715).A)(function(e,t,r){(0,n.A)(e,r,t)})},7422:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3607),i=r(1852),a=r(8446);let o=function(e){return(0,a.A)(e)?(0,n.A)(e):(0,i.A)(e)}},5615:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(3607),i=r(3149),a=r(7271);let o=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var s=Object.prototype.hasOwnProperty;let l=function(e){if(!(0,i.A)(e))return o(e);var t=(0,a.A)(e),r=[];for(var n in e)"constructor"==n&&(t||!s.call(e,n))||r.push(n);return r};var u=r(8446);let c=function(e){return(0,u.A)(e)?(0,n.A)(e,!0):l(e)}},8879:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var n=r(1754),i=r(2528),a=r(6984);let o=function(e,t,r){(void 0===r||(0,a.A)(e[t],r))&&(void 0!==r||t in e)||(0,i.A)(e,t,r)};var s=r(4574),l=r(154),u=r(1801),c=r(9759),d=r(8598),f=r(2274),h=r(2049),p=r(3533),g=r(9912),m=r(9610),v=r(3149),y=r(4963),b=r(3858);let x=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var w=r(2031),C=r(5615);let S=function(e,t,r,n,i,a,s){var S=x(e,r),j=x(t,r),A=s.get(j);if(A){o(e,r,A);return}var _=a?a(S,j,r+"",e,t,s):void 0,k=void 0===_;if(k){var E=(0,h.A)(j),O=!E&&(0,g.A)(j),R=!E&&!O&&(0,b.A)(j);(_=j,E||O||R)?(0,h.A)(S)?_=S:(0,p.A)(S)?_=(0,c.A)(S):O?(k=!1,_=(0,l.A)(j,!0)):R?(k=!1,_=(0,u.A)(j,!0)):_=[]:(0,y.A)(j)||(0,f.A)(j)?(_=S,(0,f.A)(S))?_=(0,w.A)(S,(0,C.A)(S)):(!(0,v.A)(S)||(0,m.A)(S))&&(_=(0,d.A)(j)):k=!1}k&&(s.set(j,_),i(_,j,n,a,s),s.delete(j)),o(e,r,_)},j=function e(t,r,i,a,l){t!==r&&(0,s.A)(r,function(s,u){if(l||(l=new n.A),(0,v.A)(s))S(t,r,u,i,e,a,l);else{var c=a?a(x(t,u),s,u+"",t,r,l):void 0;void 0===c&&(c=s),o(t,u,c)}},C.A)};var A=r(4326),_=r(6832);let k=function(e){return(0,A.A)(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&(0,_.A)(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}(function(e,t,r){j(e,t,r)})},3153:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(){return[]}},8182:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(52);let i=function(e){return null==e?"":(0,n.A)(e)}}}]);